---
title: Implementación de contenedores en Azure
description: Implementación de contenedores en Azure con Azure Container Registry, Azure Kubernetes Service y Azure Dev Spaces.
ms.date: 04/13/2020
ms.openlocfilehash: d848a146a2bdb5d8d02543f57f19d6a39c9699e6
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91160780"
---
# <a name="deploying-containers-in-azure"></a><span data-ttu-id="2e7fb-103">Implementación de contenedores en Azure</span><span class="sxs-lookup"><span data-stu-id="2e7fb-103">Deploying containers in Azure</span></span>

<span data-ttu-id="2e7fb-104">En este capítulo y en el capítulo 1 se describen los contenedores.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-104">We've discussed containers in this chapter and in chapter 1.</span></span> <span data-ttu-id="2e7fb-105">Hemos visto que los contenedores ofrecen muchas ventajas a las aplicaciones nativas de la nube, incluida la portabilidad.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-105">We've seen that containers provide many benefits to cloud-native applications, including portability.</span></span> <span data-ttu-id="2e7fb-106">En la nube de Azure, puede implementar los mismos servicios en contenedores en entornos de ensayo y de producción.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-106">In the Azure cloud, you can deploy the same containerized services across staging and production environments.</span></span> <span data-ttu-id="2e7fb-107">Azure proporciona varias opciones para hospedar estas cargas de trabajo en contenedores:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-107">Azure provides several options for hosting these containerized workloads:</span></span>

- <span data-ttu-id="2e7fb-108">Azure Kubernetes Services (AKS)</span><span class="sxs-lookup"><span data-stu-id="2e7fb-108">Azure Kubernetes Services (AKS)</span></span>
- <span data-ttu-id="2e7fb-109">Instancia de Azure Container (ACI)</span><span class="sxs-lookup"><span data-stu-id="2e7fb-109">Azure Container Instance (ACI)</span></span>
- <span data-ttu-id="2e7fb-110">Azure Web Apps para contenedores</span><span class="sxs-lookup"><span data-stu-id="2e7fb-110">Azure Web Apps for Containers</span></span>

## <a name="azure-container-registry"></a><span data-ttu-id="2e7fb-111">Azure Container Registry</span><span class="sxs-lookup"><span data-stu-id="2e7fb-111">Azure Container Registry</span></span>

<span data-ttu-id="2e7fb-112">Al incluir un microservicio en un contenedor, primero se crea una "imagen".</span><span class="sxs-lookup"><span data-stu-id="2e7fb-112">When containerizing a microservice, you first a build container "image."</span></span> <span data-ttu-id="2e7fb-113">La imagen es una representación binaria del código de servicio, las dependencias y el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-113">The image is a binary representation of the service code, dependencies, and runtime.</span></span> <span data-ttu-id="2e7fb-114">Aunque puede crear una imagen de forma manual mediante el `Docker Build` comando de la API de Docker, un enfoque mejor es crearla como parte de un proceso de compilación automatizado.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-114">While you can manually create an image using the `Docker Build` command from the Docker API, a better approach is to create it as part of an automated build process.</span></span>

<span data-ttu-id="2e7fb-115">Una vez creadas, las imágenes de contenedor se almacenan en registros de contenedor.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-115">Once created, container images are stored in container registries.</span></span> <span data-ttu-id="2e7fb-116">Permiten compilar, almacenar y administrar imágenes de contenedor.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-116">They enable you to build, store, and manage container images.</span></span> <span data-ttu-id="2e7fb-117">Hay muchos registros disponibles, tanto públicos como privados.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-117">There are many registries available, both public and private.</span></span> <span data-ttu-id="2e7fb-118">Azure Container Registry (ACR) es un servicio de registro de contenedor totalmente administrado en la nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-118">Azure Container Registry (ACR) is a fully managed container registry service in the Azure cloud.</span></span> <span data-ttu-id="2e7fb-119">Conserva las imágenes dentro de la red de Azure, lo que reduce el tiempo de implementación en hosts de contenedor de Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-119">It persists your images inside the Azure network, reducing the time to deploy them to Azure container hosts.</span></span> <span data-ttu-id="2e7fb-120">También puede protegerlos con los mismos procedimientos de seguridad e identidad que usa para otros recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-120">You can also secure them using the same security and identity procedures that you use for other Azure resources.</span></span>

<span data-ttu-id="2e7fb-121">Puede crear una Azure Container Registry con las herramientas [Azure portal](/azure/container-registry/container-registry-get-started-portal), [CLI de Azure](/azure/container-registry/container-registry-get-started-azure-cli)o [PowerShell](/azure/container-registry/container-registry-get-started-powershell).</span><span class="sxs-lookup"><span data-stu-id="2e7fb-121">You create an Azure Container Registry using the [Azure portal](/azure/container-registry/container-registry-get-started-portal), [Azure CLI](/azure/container-registry/container-registry-get-started-azure-cli), or [PowerShell tools](/azure/container-registry/container-registry-get-started-powershell).</span></span> <span data-ttu-id="2e7fb-122">Crear un registro en Azure es sencillo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-122">Creating a registry in Azure is simple.</span></span> <span data-ttu-id="2e7fb-123">Requiere una suscripción de Azure, un grupo de recursos y un nombre único.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-123">It requires an Azure subscription, resource group, and a unique name.</span></span> <span data-ttu-id="2e7fb-124">En la figura 3-11 se muestran las opciones básicas para crear un registro, que se hospedará en `registryname.azurecr.io` .</span><span class="sxs-lookup"><span data-stu-id="2e7fb-124">Figure 3-11 shows the basic options for creating a registry, which will be hosted at `registryname.azurecr.io`.</span></span>

![Crear un registro de contenedor](./media/create-container-registry.png)

<span data-ttu-id="2e7fb-126">**Figura 3-11**.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-126">**Figure 3-11**.</span></span> <span data-ttu-id="2e7fb-127">Crear un registro de contenedor</span><span class="sxs-lookup"><span data-stu-id="2e7fb-127">Create container registry</span></span>

<span data-ttu-id="2e7fb-128">Una vez que haya creado el registro, deberá autenticarse con él para poder usarlo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-128">Once you've created the registry, you'll need to authenticate with it before you can use it.</span></span> <span data-ttu-id="2e7fb-129">Normalmente, se iniciará sesión en el registro mediante el comando CLI de Azure:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-129">Typically, you'll log into the registry using the Azure CLI command:</span></span>

```azurecli
az acr login --name *registryname*
```

<span data-ttu-id="2e7fb-130">Una vez autenticado, puede usar los comandos de Docker para insertar imágenes de contenedor en él.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-130">Once authenticated, you can use docker commands to push container images to it.</span></span> <span data-ttu-id="2e7fb-131">Sin embargo, antes de poder hacerlo, debe etiquetar la imagen con el nombre completo (URL) del servidor de inicio de sesión de ACR.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-131">Before you can do so, however, you must tag your image with the fully qualified name (URL) of your ACR login server.</span></span> <span data-ttu-id="2e7fb-132">Tendrá el formato *nombrederegistro*. azurecr.IO.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-132">It will have the format *registryname*.azurecr.io.</span></span>

```console
docker tag mycontainer myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="2e7fb-133">Después de etiquetar la imagen, use el `docker push` comando para introducir la imagen en la instancia de ACR.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-133">After you've tagged the image, you use the `docker push` command to push the image to your ACR instance.</span></span>

```console
docker push myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="2e7fb-134">Después de insertar una imagen en el registro, se recomienda quitar la imagen del entorno de Docker local mediante este comando:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-134">After you push an image to the registry, it's a good idea to remove the image from your local Docker environment, using this command:</span></span>

```console
docker rmi myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="2e7fb-135">Como procedimiento recomendado, los desarrolladores no deben enviar imágenes manualmente a un registro de contenedor.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-135">As a best practice, developers shouldn't manually push images to a container registry.</span></span> <span data-ttu-id="2e7fb-136">En su lugar, una canalización de compilación definida en una herramienta como GitHub o Azure DevOps debe ser responsable de este proceso.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-136">Instead, a build pipeline defined in a tool like GitHub or Azure DevOps should be responsible for this process.</span></span> <span data-ttu-id="2e7fb-137">Obtenga más información en el [capítulo sobre DevOps nativo](devops.md)de la nube.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-137">Learn more in the [Cloud-Native DevOps chapter](devops.md).</span></span>

## <a name="acr-tasks"></a><span data-ttu-id="2e7fb-138">ACR Tasks</span><span class="sxs-lookup"><span data-stu-id="2e7fb-138">ACR Tasks</span></span>

<span data-ttu-id="2e7fb-139">[Las tareas de ACR](/azure/container-registry/container-registry-tasks-overview) son un conjunto de características disponibles en el Azure Container Registry.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-139">[ACR Tasks](/azure/container-registry/container-registry-tasks-overview) is a set of features available from the Azure Container Registry.</span></span> <span data-ttu-id="2e7fb-140">Extiende el [ciclo de desarrollo de bucles internos](../containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow.md) mediante la creación y administración de imágenes de contenedor en la nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-140">It extends your [inner-loop development cycle](../containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow.md) by building and managing container images in the Azure cloud.</span></span> <span data-ttu-id="2e7fb-141">En lugar de invocar un `docker build` y `docker push` localmente en el equipo de desarrollo, se controlan automáticamente mediante las tareas de ACR en la nube.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-141">Instead of invoking a `docker build` and `docker push` locally on your development machine, they're automatically handled by ACR Tasks in the cloud.</span></span>

<span data-ttu-id="2e7fb-142">El siguiente comando AZ CLI crea una imagen de contenedor y la envía a ACR:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-142">The following AZ CLI command both builds a container image and pushes it to ACR:</span></span>

```azurecli
# create a container registry
az acr create --resource-group myResourceGroup --name myContainerRegistry008 --sku Basic

# build container image in ACR and push it into your container regsitry
az acr build --image sample/hello-world:v1  --registry myContainerRegistry008 --file Dockerfile .
```

<span data-ttu-id="2e7fb-143">Como puede ver en el bloque de comandos anterior, no es necesario instalar Docker Desktop en el equipo de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-143">As you can see from the previous command block, there's no need to install Docker Desktop on your development machine.</span></span> <span data-ttu-id="2e7fb-144">Además, puede configurar los desencadenadores de la tarea ACR para recompilar las imágenes de contenedores en el código fuente y las actualizaciones de la imagen base.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-144">Additionally, you can configure ACR Task triggers to rebuild containers images on both source code and base image updates.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="2e7fb-145">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="2e7fb-145">Azure Kubernetes Service</span></span>

<span data-ttu-id="2e7fb-146">En este capítulo se explicó Azure Kubernetes Service (AKS).</span><span class="sxs-lookup"><span data-stu-id="2e7fb-146">We discussed Azure Kubernetes Service (AKS) at length in this chapter.</span></span> <span data-ttu-id="2e7fb-147">Hemos visto que es el orquestador de contenedor de facto que administra aplicaciones nativas en la nube en contenedor.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-147">We've seen that it's the de facto container orchestrator managing containerized cloud-native applications.</span></span>

<span data-ttu-id="2e7fb-148">Una vez que implemente una imagen en un registro, como ACR, puede configurar AKS para que la Extraiga e implemente automáticamente.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-148">Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and deploy it.</span></span> <span data-ttu-id="2e7fb-149">Una vez implementada una canalización de CI/CD, puede configurar una estrategia de  [versión Canarias](https://martinfowler.com/bliki/CanaryRelease.html) para minimizar el riesgo que conlleva la implementación rápida de las actualizaciones.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-149">With a CI/CD pipeline in place, you might configure a  [canary release](https://martinfowler.com/bliki/CanaryRelease.html) strategy to minimize the risk involved when rapidly deploying updates.</span></span> <span data-ttu-id="2e7fb-150">La nueva versión de la aplicación está configurada inicialmente en producción sin ningún tráfico enrutado a ella.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-150">The new version of the app is initially configured in production with no traffic routed to it.</span></span> <span data-ttu-id="2e7fb-151">A continuación, el sistema enrutará un pequeño porcentaje de usuarios a la versión implementada recientemente.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-151">Then, the system will route a small percentage of users to the newly deployed version.</span></span> <span data-ttu-id="2e7fb-152">A medida que el equipo gana confianza en la nueva versión, puede implementar más instancias y retirar el antiguo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-152">As the team gains confidence in the new version, it can roll out more instances and retire the old.</span></span> <span data-ttu-id="2e7fb-153">AKS admite fácilmente este estilo de implementación.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-153">AKS easily supports this style of deployment.</span></span>

<span data-ttu-id="2e7fb-154">Como sucede con la mayoría de los recursos de Azure, puede crear un clúster de Azure Kubernetes Service mediante el portal, la línea de comandos o las herramientas de automatización como Helm o terraform.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-154">As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal, command-line, or automation tools like Helm or Terraform.</span></span> <span data-ttu-id="2e7fb-155">Para empezar a trabajar con un nuevo clúster, debe proporcionar la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-155">To get started with a new cluster, you need to provide the following information:</span></span>

- <span data-ttu-id="2e7fb-156">Suscripción de Azure</span><span class="sxs-lookup"><span data-stu-id="2e7fb-156">Azure subscription</span></span>
- <span data-ttu-id="2e7fb-157">Resource group</span><span class="sxs-lookup"><span data-stu-id="2e7fb-157">Resource group</span></span>
- <span data-ttu-id="2e7fb-158">Nombre del clúster de Kubernetes</span><span class="sxs-lookup"><span data-stu-id="2e7fb-158">Kubernetes cluster name</span></span>
- <span data-ttu-id="2e7fb-159">Region</span><span class="sxs-lookup"><span data-stu-id="2e7fb-159">Region</span></span>
- <span data-ttu-id="2e7fb-160">Versión de Kubernetes</span><span class="sxs-lookup"><span data-stu-id="2e7fb-160">Kubernetes version</span></span>
- <span data-ttu-id="2e7fb-161">Prefijo del nombre DNS</span><span class="sxs-lookup"><span data-stu-id="2e7fb-161">DNS name prefix</span></span>
- <span data-ttu-id="2e7fb-162">Tamaño del nodo</span><span class="sxs-lookup"><span data-stu-id="2e7fb-162">Node size</span></span>
- <span data-ttu-id="2e7fb-163">Recuento de nodos</span><span class="sxs-lookup"><span data-stu-id="2e7fb-163">Node count</span></span>

<span data-ttu-id="2e7fb-164">Esta información es suficiente para comenzar.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-164">This information is sufficient to get started.</span></span> <span data-ttu-id="2e7fb-165">Como parte del proceso de creación en el Azure Portal, también puede configurar opciones para las siguientes características del clúster:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-165">As part of the creation process in the Azure portal, you can also configure options for the following features of your cluster:</span></span>

- <span data-ttu-id="2e7fb-166">Escala</span><span class="sxs-lookup"><span data-stu-id="2e7fb-166">Scale</span></span>
- <span data-ttu-id="2e7fb-167">Authentication</span><span class="sxs-lookup"><span data-stu-id="2e7fb-167">Authentication</span></span>
- <span data-ttu-id="2e7fb-168">Redes</span><span class="sxs-lookup"><span data-stu-id="2e7fb-168">Networking</span></span>
- <span data-ttu-id="2e7fb-169">Supervisión</span><span class="sxs-lookup"><span data-stu-id="2e7fb-169">Monitoring</span></span>
- <span data-ttu-id="2e7fb-170">Etiquetas</span><span class="sxs-lookup"><span data-stu-id="2e7fb-170">Tags</span></span>

<span data-ttu-id="2e7fb-171">[En esta guía de inicio rápido se explica cómo implementar un clúster de AKS mediante el Azure portal](/azure/aks/kubernetes-walkthrough-portal).</span><span class="sxs-lookup"><span data-stu-id="2e7fb-171">This [quickstart walks through deploying an AKS cluster using the Azure portal](/azure/aks/kubernetes-walkthrough-portal).</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="2e7fb-172">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="2e7fb-172">Azure Dev Spaces</span></span>

<span data-ttu-id="2e7fb-173">Las aplicaciones nativas en la nube pueden crecer rápidamente y grandes, lo que requiere recursos de proceso significativos para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-173">Cloud-native applications can quickly grow large and complex, requiring significant compute resources to run.</span></span> <span data-ttu-id="2e7fb-174">En estos casos, toda la aplicación no se puede hospedar en una máquina de desarrollo (especialmente un portátil).</span><span class="sxs-lookup"><span data-stu-id="2e7fb-174">In these scenarios, the entire application can't be hosted on a development machine (especially a laptop).</span></span> <span data-ttu-id="2e7fb-175">Azure Dev Spaces está diseñado para solucionar este problema mediante AKS.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-175">Azure Dev Spaces is designed to address this problem using AKS.</span></span> <span data-ttu-id="2e7fb-176">Permite a los desarrolladores trabajar con una versión local de sus servicios mientras se hospeda el resto de la aplicación en un clúster de desarrollo de AKS.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-176">It enables developers to work with a local version of their services while hosting the rest of the application in an AKS development cluster.</span></span>

<span data-ttu-id="2e7fb-177">Los desarrolladores comparten una instancia en ejecución (desarrollo) en un clúster de AKS que contiene toda la aplicación en contenedor.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-177">Developers share a running (development) instance in an AKS cluster that contains the entire containerized application.</span></span> <span data-ttu-id="2e7fb-178">Pero usan espacios personales configurados en su equipo para desarrollar sus servicios localmente.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-178">But they use personal spaces set up on their machine to locally develop their services.</span></span> <span data-ttu-id="2e7fb-179">Cuando está listo, prueban de un extremo a otro en el clúster de AKS, sin replicar las dependencias.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-179">When ready, they test from end-to-end in the AKS cluster - without replicating dependencies.</span></span> <span data-ttu-id="2e7fb-180">Azure Dev Spaces combina el código del equipo local con los servicios de AKS.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-180">Azure Dev Spaces merges code from the local machine with services in AKS.</span></span> <span data-ttu-id="2e7fb-181">Los desarrolladores pueden iterar y depurar código directamente en Kubernetes con Visual Studio o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-181">Developers can rapidly iterate and debug code directly in Kubernetes using Visual Studio or Visual Studio Code.</span></span>

<span data-ttu-id="2e7fb-182">Para comprender el valor de Azure Dev Spaces, déjenos compartir este presupuesto de Gabe Monroy, PM Lead of containers en Microsoft Azure:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-182">To understand the value of Azure Dev Spaces, let me share this quotation from Gabe Monroy, PM Lead of Containers at Microsoft Azure:</span></span>

> <span data-ttu-id="2e7fb-183">"Imagine que es un nuevo empleado que intenta corregir un error en una aplicación de microservicios compleja formada por docenas de componentes, cada uno con su propia configuración y servicios de respaldo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-183">"Imagine you're a new employee trying to fix a bug in a complex microservices application consisting of dozens of components, each with their own configuration and backing services.</span></span> <span data-ttu-id="2e7fb-184">Para empezar, debe configurar el entorno de desarrollo local para que pueda imitar la producción, como la configuración del IDE, la creación de una cadena de herramientas, dependencias de servicio en contenedor, un entorno de Kubernetes local, simulacros para servicios de respaldo, etc.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-184">To get started, you must configure your local development environment so that it can mimic production including setting up your IDE, building tool chain, containerized service dependencies, a local Kubernetes environment, mocks for backing services, and more.</span></span> <span data-ttu-id="2e7fb-185">Con todo el tiempo necesario para configurar el entorno de desarrollo, la corrección del primer error puede tardar días.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-185">With all the time involved setting up your development environment, fixing that first bug could take days.</span></span>
> <span data-ttu-id="2e7fb-186">O bien, puede usar los espacios de desarrollo y AKS ".</span><span class="sxs-lookup"><span data-stu-id="2e7fb-186">Or you could use Dev Spaces and AKS."</span></span>

<span data-ttu-id="2e7fb-187">El proceso para trabajar con Azure Dev Spaces implica los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-187">The process for working with Azure Dev Spaces involves the following steps:</span></span>

1. <span data-ttu-id="2e7fb-188">Cree el espacio de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-188">Create the dev space.</span></span>
2. <span data-ttu-id="2e7fb-189">Configure el espacio de desarrollo raíz.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-189">Configure the root dev space.</span></span>
3. <span data-ttu-id="2e7fb-190">Configure un espacio de desarrollo secundario (para su propia versión del sistema).</span><span class="sxs-lookup"><span data-stu-id="2e7fb-190">Configure a child dev space (for your own version of the system).</span></span>
4. <span data-ttu-id="2e7fb-191">Conéctese al espacio de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-191">Connect to the dev space.</span></span>

<span data-ttu-id="2e7fb-192">Todos estos pasos se pueden realizar mediante las  `azds` herramientas de línea de comandos CLI de Azure y nuevas.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-192">All of these steps can be performed using the Azure CLI and new  `azds` command-line tools.</span></span> <span data-ttu-id="2e7fb-193">Por ejemplo, para crear un nuevo espacio de desarrollo de Azure para un clúster de Kubernetes determinado, usaría un comando como este:</span><span class="sxs-lookup"><span data-stu-id="2e7fb-193">For example, to create a new Azure Dev Space for a given Kubernetes cluster, you would use a command like this one:</span></span>

```azurecli
az aks use-dev-spaces -g my-aks-resource-group -n MyAKSCluster
```

<span data-ttu-id="2e7fb-194">Después, puede usar el `azds prep` comando para generar los recursos necesarios de Docker y Helm Chart para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-194">Next, you can use the `azds prep` command to generate the necessary Docker and Helm chart assets for running the application.</span></span> <span data-ttu-id="2e7fb-195">A continuación, ejecute el código en AKS con `azds up` .</span><span class="sxs-lookup"><span data-stu-id="2e7fb-195">Then you run your code in AKS using `azds up`.</span></span> <span data-ttu-id="2e7fb-196">La primera vez que ejecute este comando, se instalará el gráfico Helm.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-196">The first time you run this command, the Helm chart will be installed.</span></span> <span data-ttu-id="2e7fb-197">Los contenedores se compilarán e implementarán de acuerdo con las instrucciones.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-197">The containers will be built and deployed according to your instructions.</span></span> <span data-ttu-id="2e7fb-198">Esta tarea puede tardar unos minutos la primera vez que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-198">This task may take a few minutes the first time it's run.</span></span> <span data-ttu-id="2e7fb-199">Sin embargo, después de realizar cambios, puede conectarse a su propio espacio de desarrollo secundario mediante `azds space select` y, después, implementar y depurar las actualizaciones en el espacio de desarrollo secundario aislado.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-199">However, after you make changes, you can connect to your own child dev space using `azds space select` and then deploy and debug your updates in your isolated child dev space.</span></span> <span data-ttu-id="2e7fb-200">Una vez que tenga el espacio de desarrollo en funcionamiento, puede enviarle actualizaciones mediante la emisión del comando, `azds up` o bien puede usar herramientas integradas en Visual Studio o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-200">Once you have your dev space up and running, you can send updates to it by reissuing the `azds up` command or you can use built-in tooling in Visual Studio or Visual Studio Code.</span></span> <span data-ttu-id="2e7fb-201">Con VS Code, use la paleta de comandos para conectarse a su espacio de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-201">With VS Code, you use the command palette to connect to your dev space.</span></span> <span data-ttu-id="2e7fb-202">En la figura 3-12 se muestra cómo iniciar la aplicación web con Azure Dev Spaces en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-202">Figure 3-12 shows how to launch your web application using Azure Dev Spaces in Visual Studio.</span></span>

<span data-ttu-id="2e7fb-203">![Conéctese a Azure Dev Spaces en la ](./media/azure-dev-spaces-visual-studio-launchsettings.png)
 **figura 3-12**de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2e7fb-203">![Connect to Azure Dev Spaces in Visual Studio](./media/azure-dev-spaces-visual-studio-launchsettings.png)
**Figure 3-12**.</span></span> <span data-ttu-id="2e7fb-204">Conexión a Azure Dev Spaces en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2e7fb-204">Connect to Azure Dev Spaces in Visual Studio</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="2e7fb-205">[Anterior](combine-containers-serverless-approaches.md)
>[Siguiente](scale-containers-serverless.md)</span><span class="sxs-lookup"><span data-stu-id="2e7fb-205">[Previous](combine-containers-serverless-approaches.md)
[Next](scale-containers-serverless.md)</span></span>
