---
title: Directivas de compilador
description: 'Obtenga información sobre las directivas de preprocesador de lenguaje F #, directivas de compilación condicional, directivas de línea y directivas de compilador.'
ms.date: 12/10/2018
f1_keywords:
- '#endif_FS'
ms.openlocfilehash: aee307eb7bccc8d91b5162f3f43db3b806b761d0
ms.sourcegitcommit: c37e8d4642fef647ebab0e1c618ecc29ddfe2a0f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/06/2020
ms.locfileid: "87855379"
---
# <a name="compiler-directives"></a><span data-ttu-id="f3f34-103">Directivas de compilador</span><span class="sxs-lookup"><span data-stu-id="f3f34-103">Compiler Directives</span></span>

<span data-ttu-id="f3f34-104">En este tema se describen las directivas de procesador y las directivas de compilador.</span><span class="sxs-lookup"><span data-stu-id="f3f34-104">This topic describes processor directives and compiler directives.</span></span>

## <a name="preprocessor-directives"></a><span data-ttu-id="f3f34-105">Directivas de preprocesador</span><span class="sxs-lookup"><span data-stu-id="f3f34-105">Preprocessor Directives</span></span>

<span data-ttu-id="f3f34-106">Una directiva de preprocesador tiene como prefijo el símbolo # y aparece en una línea independiente.</span><span class="sxs-lookup"><span data-stu-id="f3f34-106">A preprocessor directive is prefixed with the # symbol and appears on a line by itself.</span></span> <span data-ttu-id="f3f34-107">La interpreta el preprocesador, que se ejecuta antes que el compilador.</span><span class="sxs-lookup"><span data-stu-id="f3f34-107">It is interpreted by the preprocessor, which runs before the compiler itself.</span></span>

<span data-ttu-id="f3f34-108">En la siguiente tabla se recoge una lista de las directivas de preprocesador disponibles en F#.</span><span class="sxs-lookup"><span data-stu-id="f3f34-108">The following table lists the preprocessor directives that are available in F#.</span></span>

|<span data-ttu-id="f3f34-109">Directiva</span><span class="sxs-lookup"><span data-stu-id="f3f34-109">Directive</span></span>|<span data-ttu-id="f3f34-110">Descripción</span><span class="sxs-lookup"><span data-stu-id="f3f34-110">Description</span></span>|
|---------|-----------|
|<span data-ttu-id="f3f34-111">`#if`*símbolo* de</span><span class="sxs-lookup"><span data-stu-id="f3f34-111">`#if` *symbol*</span></span>|<span data-ttu-id="f3f34-112">Admite la compilación condicional.</span><span class="sxs-lookup"><span data-stu-id="f3f34-112">Supports conditional compilation.</span></span> <span data-ttu-id="f3f34-113">El código de la sección después de `#if` se incluye si se define el *símbolo* .</span><span class="sxs-lookup"><span data-stu-id="f3f34-113">Code in the section after the `#if` is included if the *symbol* is defined.</span></span> <span data-ttu-id="f3f34-114">El símbolo también se puede negar con `!` .</span><span class="sxs-lookup"><span data-stu-id="f3f34-114">The symbol can also be negated with `!`.</span></span>|
|`#else`|<span data-ttu-id="f3f34-115">Admite la compilación condicional.</span><span class="sxs-lookup"><span data-stu-id="f3f34-115">Supports conditional compilation.</span></span> <span data-ttu-id="f3f34-116">Marca una sección de código que incluir si el símbolo usado con la directiva `#if` anterior no se ha definido.</span><span class="sxs-lookup"><span data-stu-id="f3f34-116">Marks a section of code to include if the symbol used with the previous `#if` is not defined.</span></span>|
|`#endif`|<span data-ttu-id="f3f34-117">Admite la compilación condicional.</span><span class="sxs-lookup"><span data-stu-id="f3f34-117">Supports conditional compilation.</span></span> <span data-ttu-id="f3f34-118">Marca el final de una sección condicional de código.</span><span class="sxs-lookup"><span data-stu-id="f3f34-118">Marks the end of a conditional section of code.</span></span>|
|<span data-ttu-id="f3f34-119">`#`Ondula *int*,</span><span class="sxs-lookup"><span data-stu-id="f3f34-119">`#`[line] *int*,</span></span><br/><span data-ttu-id="f3f34-120">`#`Ondula *int* *cadena*int,</span><span class="sxs-lookup"><span data-stu-id="f3f34-120">`#`[line] *int* *string*,</span></span><br/><span data-ttu-id="f3f34-121">`#`Ondula *int* *cadena literal* int</span><span class="sxs-lookup"><span data-stu-id="f3f34-121">`#`[line] *int* *verbatim-string*</span></span>|<span data-ttu-id="f3f34-122">Indica el nombre de archivo y la línea de código fuente original para la depuración.</span><span class="sxs-lookup"><span data-stu-id="f3f34-122">Indicates the original source code line and file name, for debugging.</span></span> <span data-ttu-id="f3f34-123">Esta característica se proporciona para las herramientas que generan código fuente de F#.</span><span class="sxs-lookup"><span data-stu-id="f3f34-123">This feature is provided for tools that generate F# source code.</span></span>|
|<span data-ttu-id="f3f34-124">`#nowarn`*warningcode*</span><span class="sxs-lookup"><span data-stu-id="f3f34-124">`#nowarn` *warningcode*</span></span>|<span data-ttu-id="f3f34-125">Deshabilita una o varias advertencias del compilador.</span><span class="sxs-lookup"><span data-stu-id="f3f34-125">Disables a compiler warning or warnings.</span></span> <span data-ttu-id="f3f34-126">Para deshabilitar una advertencia, encuentre su número correspondiente en los resultados del compilador e inclúyalo entre comillas.</span><span class="sxs-lookup"><span data-stu-id="f3f34-126">To disable a warning, find its number from the compiler output and include it in quotation marks.</span></span> <span data-ttu-id="f3f34-127">Omita el prefijo "FS".</span><span class="sxs-lookup"><span data-stu-id="f3f34-127">Omit the "FS" prefix.</span></span> <span data-ttu-id="f3f34-128">Para deshabilitar varios números de advertencia en la misma línea, incluya cada número entre comillas y separe cada cadena con un espacio.</span><span class="sxs-lookup"><span data-stu-id="f3f34-128">To disable multiple warning numbers on the same line, include each number in quotation marks, and separate each string by a space.</span></span> <span data-ttu-id="f3f34-129">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="f3f34-129">For example:</span></span>

`#nowarn "9" "40"`

<span data-ttu-id="f3f34-130">El efecto de deshabilitar una advertencia se aplica a todo el archivo, incluidas las partes del archivo que preceden a la Directiva.</span><span class="sxs-lookup"><span data-stu-id="f3f34-130">The effect of disabling a warning applies to the entire file, including portions of the file that precede the directive.|</span></span>

## <a name="conditional-compilation-directives"></a><span data-ttu-id="f3f34-131">Directivas de compilación condicional</span><span class="sxs-lookup"><span data-stu-id="f3f34-131">Conditional Compilation Directives</span></span>

<span data-ttu-id="f3f34-132">El código que está desactivado por una de estas directivas aparece atenuado en el editor de Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="f3f34-132">Code that is deactivated by one of these directives appears dimmed in the Visual Studio Code Editor.</span></span>

> [!NOTE]
> <span data-ttu-id="f3f34-133">El comportamiento de las directivas de compilación condicional no es el mismo que en otros idiomas.</span><span class="sxs-lookup"><span data-stu-id="f3f34-133">The behavior of the conditional compilation directives is not the same as it is in other languages.</span></span> <span data-ttu-id="f3f34-134">Así, no se pueden usar expresiones booleanas con símbolos, mientras que `true` y `false` no tienen ningún significado especial.</span><span class="sxs-lookup"><span data-stu-id="f3f34-134">For example, you cannot use Boolean expressions involving symbols, and `true` and `false` have no special meaning.</span></span> <span data-ttu-id="f3f34-135">Los símbolos que se usan en la directiva `if` se tienen que definir con la línea de comandos o en la configuración del proyecto; no hay ninguna directiva de preprocesador `define`.</span><span class="sxs-lookup"><span data-stu-id="f3f34-135">Symbols that you use in the `if` directive must be defined by the command line or in the project settings; there is no `define` preprocessor directive.</span></span>

<span data-ttu-id="f3f34-136">El siguiente código muestra el uso de las directivas `#if`, `#else` y `#endif`.</span><span class="sxs-lookup"><span data-stu-id="f3f34-136">The following code illustrates the use of the `#if`, `#else`, and `#endif` directives.</span></span> <span data-ttu-id="f3f34-137">En este ejemplo, el código contiene dos versiones de la definición de `function1`.</span><span class="sxs-lookup"><span data-stu-id="f3f34-137">In this example, the code contains two versions of the definition of `function1`.</span></span> <span data-ttu-id="f3f34-138">Cuando `VERSION1` se define mediante la [opción-define del compilador](https://msdn.microsoft.com/library/434394ae-0d4a-459c-a684-bffede519a04), se activa el código entre la `#if` Directiva y la `#else` Directiva.</span><span class="sxs-lookup"><span data-stu-id="f3f34-138">When `VERSION1` is defined by using the [-define compiler option](https://msdn.microsoft.com/library/434394ae-0d4a-459c-a684-bffede519a04), the code between the `#if` directive and the `#else` directive is activated.</span></span> <span data-ttu-id="f3f34-139">De lo contrario, se activará el código entre `#else` y `#endif`.</span><span class="sxs-lookup"><span data-stu-id="f3f34-139">Otherwise, the code between `#else` and `#endif` is activated.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-2/snippet7301.fs)]

<span data-ttu-id="f3f34-140">No hay ninguna directiva de preprocesador `#define` en F#.</span><span class="sxs-lookup"><span data-stu-id="f3f34-140">There is no `#define` preprocessor directive in F#.</span></span> <span data-ttu-id="f3f34-141">Hay que usar la configuración del proyecto o la opción del compilador pertinente para definir los símbolos que la directiva `#if` usa.</span><span class="sxs-lookup"><span data-stu-id="f3f34-141">You must use the compiler option or project settings to define the symbols used by the `#if` directive.</span></span>

<span data-ttu-id="f3f34-142">Las directivas de compilación condicional se pueden anidar.</span><span class="sxs-lookup"><span data-stu-id="f3f34-142">Conditional compilation directives can be nested.</span></span> <span data-ttu-id="f3f34-143">La sangría no es significativa en las directivas de preprocesador.</span><span class="sxs-lookup"><span data-stu-id="f3f34-143">Indentation is not significant for preprocessor directives.</span></span>

<span data-ttu-id="f3f34-144">También puede negar un símbolo con `!` .</span><span class="sxs-lookup"><span data-stu-id="f3f34-144">You can also negate a symbol with `!`.</span></span> <span data-ttu-id="f3f34-145">En este ejemplo, el valor de una cadena es algo que solo se produce cuando _no_ se depura:</span><span class="sxs-lookup"><span data-stu-id="f3f34-145">In this example, a string's value is something only when _not_ debugging:</span></span>

```fsharp
#if !DEBUG
let str = "Not debugging!"
#else
let str = "Debugging!"
#endif
```

## <a name="line-directives"></a><span data-ttu-id="f3f34-146">Directivas de línea</span><span class="sxs-lookup"><span data-stu-id="f3f34-146">Line Directives</span></span>

<span data-ttu-id="f3f34-147">Al compilar, el compilador informa de los posibles errores en el código de F# haciendo referencia a los números de línea en los que cada error se produce.</span><span class="sxs-lookup"><span data-stu-id="f3f34-147">When building, the compiler reports errors in F# code by referencing line numbers on which each error occurs.</span></span> <span data-ttu-id="f3f34-148">Estos números de línea empiezan por 1 en la primera línea en un archivo.</span><span class="sxs-lookup"><span data-stu-id="f3f34-148">These line numbers start at 1 for the first line in a file.</span></span> <span data-ttu-id="f3f34-149">Pero si genera código fuente de F# con otra herramienta, los números de línea en el código generado no suelen ser de interés, ya que lo más probable es que los errores en el código de F# generado provengan de otro código fuente.</span><span class="sxs-lookup"><span data-stu-id="f3f34-149">However, if you are generating F# source code from another tool, the line numbers in the generated code are generally not of interest, because the errors in the generated F# code most likely arise from another source.</span></span> <span data-ttu-id="f3f34-150">La directiva `#line` constituye una forma de que los creadores de herramientas que generan código fuente de F# pasen información sobre los archivos de origen y los números de línea originales al código de F# generado.</span><span class="sxs-lookup"><span data-stu-id="f3f34-150">The `#line` directive provides a way for authors of tools that generate F# source code to pass information about the original line numbers and source files to the generated F# code.</span></span>

<span data-ttu-id="f3f34-151">Cuando se usa la directiva `#line`, es necesario que los nombres de archivo estén entre comillas.</span><span class="sxs-lookup"><span data-stu-id="f3f34-151">When you use the `#line` directive, file names must be enclosed in quotation marks.</span></span> <span data-ttu-id="f3f34-152">A menos que el token textual (`@`) aparezca delante de la cadena, hay que anteponer caracteres de barra diagonal inversa usando dos caracteres de barra diagonal inversa en lugar de uno, ya que así se podrán usar en la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="f3f34-152">Unless the verbatim token (`@`) appears in front of the string, you must escape backslash characters by using two backslash characters instead of one in order to use them in the path.</span></span> <span data-ttu-id="f3f34-153">Los siguientes tokens de línea son válidos.</span><span class="sxs-lookup"><span data-stu-id="f3f34-153">The following are valid line tokens.</span></span> <span data-ttu-id="f3f34-154">En estos ejemplos, se da por hecho que el archivo original `Script1` da como resultado un archivo de código de F# generado automáticamente cuando se ejecuta con una herramienta y, asimismo, que el código en la ubicación de estas directivas se genera a partir de determinados tokens en la línea 25 del archivo `Script1`.</span><span class="sxs-lookup"><span data-stu-id="f3f34-154">In these examples, assume that the original file `Script1` results in an automatically generated F# code file when it is run through a tool, and that the code at the location of these directives is generated from some tokens at line 25 in file `Script1`.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-2/snippet7303.fs)]

<span data-ttu-id="f3f34-155">Estos tokens indican que el código de F# generado en esta ubicación se deriva de algunas construcciones en la línea `25` en `Script1`, o cerca de ella.</span><span class="sxs-lookup"><span data-stu-id="f3f34-155">These tokens indicate that the F# code generated at this location is derived from some constructs at or near line `25` in `Script1`.</span></span>

## <a name="compiler-directives"></a><span data-ttu-id="f3f34-156">Directivas de compilador</span><span class="sxs-lookup"><span data-stu-id="f3f34-156">Compiler Directives</span></span>

<span data-ttu-id="f3f34-157">Las directivas de compilador se parecen a las directivas de preprocesador porque llevan como prefijo un signo #, pero el preprocesador no las interpreta, sino que se dejan para que el compilador las interprete y actúe en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="f3f34-157">Compiler directives resemble preprocessor directives, because they are prefixed with a # sign, but instead of being interpreted by the preprocessor, they are left for the compiler to interpret and act on.</span></span>

<span data-ttu-id="f3f34-158">En la siguiente tabla se recoge una lista de las directivas de compilador disponibles en F#.</span><span class="sxs-lookup"><span data-stu-id="f3f34-158">The following table lists the compiler directive that is available in F#.</span></span>

|<span data-ttu-id="f3f34-159">Directiva</span><span class="sxs-lookup"><span data-stu-id="f3f34-159">Directive</span></span>|<span data-ttu-id="f3f34-160">Descripción</span><span class="sxs-lookup"><span data-stu-id="f3f34-160">Description</span></span>|
|---------|-----------|
|<span data-ttu-id="f3f34-161">`#light`["ON" &#124; "OFF"]</span><span class="sxs-lookup"><span data-stu-id="f3f34-161">`#light` ["on"&#124;"off"]</span></span>|<span data-ttu-id="f3f34-162">Habilita o deshabilita la sintaxis ligera de cara a la compatibilidad con otras versiones de ML.</span><span class="sxs-lookup"><span data-stu-id="f3f34-162">Enables or disables lightweight syntax, for compatibility with other versions of ML.</span></span> <span data-ttu-id="f3f34-163">La sintaxis ligera está habilitada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="f3f34-163">By default, lightweight syntax is enabled.</span></span> <span data-ttu-id="f3f34-164">La sintaxis detallada siempre está habilitada.</span><span class="sxs-lookup"><span data-stu-id="f3f34-164">Verbose syntax is always enabled.</span></span> <span data-ttu-id="f3f34-165">Por lo tanto, puede usar ambas sintaxis, la ligera y la detallada.</span><span class="sxs-lookup"><span data-stu-id="f3f34-165">Therefore, you can use both lightweight syntax and verbose syntax.</span></span> <span data-ttu-id="f3f34-166">La directiva `#light` es equivalente en sí misma a `#light "on"`.</span><span class="sxs-lookup"><span data-stu-id="f3f34-166">The directive `#light` by itself is equivalent to `#light "on"`.</span></span> <span data-ttu-id="f3f34-167">Si especifica `#light "off"`, tendrá que usar la sintaxis detallada en todas las construcciones del lenguaje.</span><span class="sxs-lookup"><span data-stu-id="f3f34-167">If you specify `#light "off"`, you must use verbose syntax for all language constructs.</span></span> <span data-ttu-id="f3f34-168">La sintaxis en la documentación de F# se muestra bajo la asunción de que se está usando la sintaxis ligera.</span><span class="sxs-lookup"><span data-stu-id="f3f34-168">Syntax in the documentation for F# is presented with the assumption that you are using lightweight syntax.</span></span> <span data-ttu-id="f3f34-169">Para obtener más información, vea [Sintaxis detallada](verbose-syntax.md).</span><span class="sxs-lookup"><span data-stu-id="f3f34-169">For more information, see [Verbose Syntax](verbose-syntax.md).</span></span>|

<span data-ttu-id="f3f34-170">Para las directivas de intérprete (fsi.exe), vea [programación interactiva con F #](../tutorials/fsharp-interactive/index.md).</span><span class="sxs-lookup"><span data-stu-id="f3f34-170">For interpreter (fsi.exe) directives, see [Interactive Programming with F#](../tutorials/fsharp-interactive/index.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="f3f34-171">Vea también</span><span class="sxs-lookup"><span data-stu-id="f3f34-171">See also</span></span>

- [<span data-ttu-id="f3f34-172">Referencia del lenguaje F#</span><span class="sxs-lookup"><span data-stu-id="f3f34-172">F# Language Reference</span></span>](index.md)
- [<span data-ttu-id="f3f34-173">Opciones del compilador</span><span class="sxs-lookup"><span data-stu-id="f3f34-173">Compiler Options</span></span>](compiler-options.md)
