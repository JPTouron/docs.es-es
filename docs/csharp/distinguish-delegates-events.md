---
title: Delegados y eventos
description: Obtenga información sobre la diferencia entre los delegados y los eventos, y cuándo usar cada una de estas características de .NET Core.
ms.date: 06/20/2016
ms.technology: csharp-fundamentals
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: 193a9b0fe0e0c36deb6552449c92135057412225
ms.sourcegitcommit: b1f4756120deaecb8b554477bb040620f69a4209
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/03/2020
ms.locfileid: "89414674"
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="75879-103">Distinción de delegados y eventos</span><span class="sxs-lookup"><span data-stu-id="75879-103">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="75879-104">Anterior</span><span class="sxs-lookup"><span data-stu-id="75879-104">Previous</span></span>](modern-events.md)

<span data-ttu-id="75879-105">Los desarrolladores que son nuevos en la plataforma de NET Core a menudo tienen problemas para decidir entre un diseño basado en `delegates` y uno basado en `events`.</span><span class="sxs-lookup"><span data-stu-id="75879-105">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="75879-106">La elección de delegados o eventos suele ser difícil, ya que las dos características de lenguaje son similares.</span><span class="sxs-lookup"><span data-stu-id="75879-106">The choice of delegates or events is often difficult, because the two language features are similar.</span></span> <span data-ttu-id="75879-107">Los eventos incluso se crean con compatibilidad de lenguaje para los delegados.</span><span class="sxs-lookup"><span data-stu-id="75879-107">Events are even built using the language support for delegates.</span></span>

<span data-ttu-id="75879-108">Ambos ofrecen un escenario de enlace en tiempo de ejecución: permiten escenarios donde un componente se comunica mediante una llamada a un método que solo se conoce en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="75879-108">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="75879-109">Ambos admiten métodos de suscriptor único y múltiple.</span><span class="sxs-lookup"><span data-stu-id="75879-109">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="75879-110">Puede que se haga referencia a estos términos como compatibilidad con multidifusión o de conversión única.</span><span class="sxs-lookup"><span data-stu-id="75879-110">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="75879-111">Ambos admiten una sintaxis similar para agregar y quitar controladores.</span><span class="sxs-lookup"><span data-stu-id="75879-111">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="75879-112">Por último, para generar un evento y llamar a un delegado se usa exactamente la misma sintaxis de llamada de método.</span><span class="sxs-lookup"><span data-stu-id="75879-112">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="75879-113">Incluso los dos admiten la misma sintaxis del método `Invoke()` para su uso con el operador `?.`.</span><span class="sxs-lookup"><span data-stu-id="75879-113">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="75879-114">Con todas estas similitudes, es fácil tener problemas para determinar cuándo usar cada uno.</span><span class="sxs-lookup"><span data-stu-id="75879-114">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="75879-115">La escucha de eventos es opcional</span><span class="sxs-lookup"><span data-stu-id="75879-115">Listening to Events is Optional</span></span>

<span data-ttu-id="75879-116">La consideración más importante para determinar qué característica de lenguaje usar es si debe haber o no un suscriptor adjunto.</span><span class="sxs-lookup"><span data-stu-id="75879-116">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="75879-117">Si el código debe llamar al código proporcionado por el suscriptor, debe usar un diseño basado en delegados donde necesita implementar la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="75879-117">If your code must call the code supplied by the subscriber, you should use a design based on delegates when you need to implement callback.</span></span> <span data-ttu-id="75879-118">Si el código puede completar todo su trabajo sin llamar a ningún suscriptor, debe usar un diseño basado en eventos.</span><span class="sxs-lookup"><span data-stu-id="75879-118">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span>

<span data-ttu-id="75879-119">Tenga en cuenta los ejemplos que se crean en esta sección.</span><span class="sxs-lookup"><span data-stu-id="75879-119">Consider the examples built during this section.</span></span> <span data-ttu-id="75879-120">Al código que ha creado con `List.Sort()` se le debe proporcionar una función de comparador para ordenar los elementos de manera adecuada.</span><span class="sxs-lookup"><span data-stu-id="75879-120">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="75879-121">Las consultas LINQ deben proporcionarse con delegados para determinar qué elementos se van a devolver.</span><span class="sxs-lookup"><span data-stu-id="75879-121">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="75879-122">Ambos han usado un diseño creado con delegados.</span><span class="sxs-lookup"><span data-stu-id="75879-122">Both used a design built with delegates.</span></span>

<span data-ttu-id="75879-123">Considere el evento `Progress`.</span><span class="sxs-lookup"><span data-stu-id="75879-123">Consider the `Progress` event.</span></span> <span data-ttu-id="75879-124">Notifica el progreso de una tarea.</span><span class="sxs-lookup"><span data-stu-id="75879-124">It reports progress on a task.</span></span>
<span data-ttu-id="75879-125">La tarea continúa haya o no agentes de escucha.</span><span class="sxs-lookup"><span data-stu-id="75879-125">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="75879-126">`FileSearcher` es otro ejemplo.</span><span class="sxs-lookup"><span data-stu-id="75879-126">The `FileSearcher` is another example.</span></span> <span data-ttu-id="75879-127">Todavía buscaría y encontraría todos los archivos que se han solicitado, incluso sin ningún suscriptor de eventos adjunto.</span><span class="sxs-lookup"><span data-stu-id="75879-127">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="75879-128">Los controles de UX todavía funcionan correctamente, incluso cuando no hay ningún suscriptor escuchando los eventos.</span><span class="sxs-lookup"><span data-stu-id="75879-128">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="75879-129">Ambos usan diseños basados en eventos.</span><span class="sxs-lookup"><span data-stu-id="75879-129">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="75879-130">Los valores devueltos necesitan delegados</span><span class="sxs-lookup"><span data-stu-id="75879-130">Return Values Require Delegates</span></span>

<span data-ttu-id="75879-131">Otra consideración es el prototipo del método que quiere para el método delegado.</span><span class="sxs-lookup"><span data-stu-id="75879-131">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="75879-132">Como ha visto, todos los delegados que se han usado para los eventos tienen un tipo de valor devuelto void.</span><span class="sxs-lookup"><span data-stu-id="75879-132">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="75879-133">También ha visto que hay elementos para crear controladores de eventos que pasan información de nuevo a los orígenes de eventos mediante la modificación de las propiedades del objeto de argumento del evento.</span><span class="sxs-lookup"><span data-stu-id="75879-133">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="75879-134">Aunque estos elementos funcionan, no son tan naturales como la devolución de un valor de un método.</span><span class="sxs-lookup"><span data-stu-id="75879-134">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="75879-135">Observe que estas dos heurísticas suelen estar presentes: si el método delegado devuelve un valor, lo más probable es que afecte de algún modo al algoritmo.</span><span class="sxs-lookup"><span data-stu-id="75879-135">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="events-have-private-invocation"></a><span data-ttu-id="75879-136">Los eventos tienen invocación privada</span><span class="sxs-lookup"><span data-stu-id="75879-136">Events Have Private Invocation</span></span>

<span data-ttu-id="75879-137">Las clases distintas de la clase en la que se encuentra un evento solo pueden agregar y quitar clientes de escucha de eventos; solo la clase que contiene el evento puede invocarlo.</span><span class="sxs-lookup"><span data-stu-id="75879-137">Classes other than the one in which an event is contained can only add and remove event listeners; only the class containing the event can invoke the event.</span></span> <span data-ttu-id="75879-138">Los eventos suelen ser miembros de clase públicos.</span><span class="sxs-lookup"><span data-stu-id="75879-138">Events are typically public class members.</span></span>
<span data-ttu-id="75879-139">En cambio, a menudo los delegados se pasan como parámetros y se almacenan como miembros de clase privada si no están almacenados.</span><span class="sxs-lookup"><span data-stu-id="75879-139">By comparison, delegates are often passed as parameters and stored as private class members, if they are stored at all.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="75879-140">Los agentes de escucha de eventos a menudo tienen una vigencia mayor</span><span class="sxs-lookup"><span data-stu-id="75879-140">Event Listeners Often Have Longer Lifetimes</span></span>

<span data-ttu-id="75879-141">El hecho de que esos clientes de escucha de eventos tengan una duración más larga es una justificación ligeramente más débil.</span><span class="sxs-lookup"><span data-stu-id="75879-141">That event listeners have longer lifetimes is a slightly weaker justification.</span></span> <span data-ttu-id="75879-142">En cambio, puede encontrar que los diseños basados en eventos son más naturales cuando el origen de eventos generará eventos durante un período de tiempo largo.</span><span class="sxs-lookup"><span data-stu-id="75879-142">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="75879-143">Puede ver ejemplos de diseño basado en eventos para los controles de la experiencia del usuario en muchos sistemas.</span><span class="sxs-lookup"><span data-stu-id="75879-143">You can see examples of event-based design for UX controls on many systems.</span></span> <span data-ttu-id="75879-144">Cuando se suscriba a un evento, el origen de eventos puede generar eventos durante la vigencia del programa.</span><span class="sxs-lookup"><span data-stu-id="75879-144">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="75879-145">(Puede anular la suscripción de los eventos cuando ya no los necesite).</span><span class="sxs-lookup"><span data-stu-id="75879-145">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="75879-146">Compare eso con muchos diseños basados en delegados, donde un delegado se usa como un argumento para un método, y el delegado no se usa después de que se devuelva ese método.</span><span class="sxs-lookup"><span data-stu-id="75879-146">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="75879-147">Evaluar cuidadosamente</span><span class="sxs-lookup"><span data-stu-id="75879-147">Evaluate Carefully</span></span>

<span data-ttu-id="75879-148">Las consideraciones anteriores no son reglas rápidas ni estrictas.</span><span class="sxs-lookup"><span data-stu-id="75879-148">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="75879-149">En su lugar, representan instrucciones que pueden ayudarle a decidir qué opción es mejor para su uso particular.</span><span class="sxs-lookup"><span data-stu-id="75879-149">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="75879-150">Como son similares, incluso puede crear un prototipo de los dos y considerar con cuál sería más natural trabajar.</span><span class="sxs-lookup"><span data-stu-id="75879-150">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="75879-151">Ambos controlan escenarios de enlace en tiempo de ejecución correctamente.</span><span class="sxs-lookup"><span data-stu-id="75879-151">They both handle late binding scenarios well.</span></span> <span data-ttu-id="75879-152">Use el que comunique mejor su diseño.</span><span class="sxs-lookup"><span data-stu-id="75879-152">Use the one that communicates your design the best.</span></span>
