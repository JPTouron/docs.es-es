---
title: 'Pasar parámetros Reference-Type: Guía de programación de C#'
description: Cuando se pasa un parámetro de tipo de referencia por valor en C#, los datos del objeto al que se hace referencia pueden cambiar, pero no el valor de la propia referencia.
ms.date: 07/20/2015
helpviewer_keywords:
- method parameters [C#], reference types
- parameters [C#], reference
ms.assetid: 9e6eb65c-942e-48ab-920a-b7ba9df4ea20
ms.openlocfilehash: 315c1193de12a8fb5c066e023bb98bc228ce85bb
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91154124"
---
# <a name="passing-reference-type-parameters-c-programming-guide"></a><span data-ttu-id="975ec-103">Pasar parámetros Reference-Type (Guía de programación de C#)</span><span class="sxs-lookup"><span data-stu-id="975ec-103">Passing Reference-Type Parameters (C# Programming Guide)</span></span>

<span data-ttu-id="975ec-104">Una variable de un [tipo de referencia](../../language-reference/keywords/reference-types.md) no contiene sus datos directamente, contiene una referencia a sus datos.</span><span class="sxs-lookup"><span data-stu-id="975ec-104">A variable of a [reference type](../../language-reference/keywords/reference-types.md) does not contain its data directly; it contains a reference to its data.</span></span> <span data-ttu-id="975ec-105">Al pasar un parámetro de tipo de referencia por valor, es posible cambiar los datos que pertenecen al objeto al que se hace referencia, como el valor de un miembro de clase.</span><span class="sxs-lookup"><span data-stu-id="975ec-105">When you pass a reference-type parameter by value, it is possible to change the data belonging to the referenced object, such as the value of a class member.</span></span> <span data-ttu-id="975ec-106">En cambio, no se puede cambiar el valor de la propia referencia; por ejemplo, no puede usar la misma referencia para asignar memoria para un nuevo objeto y hacer que persista fuera del método.</span><span class="sxs-lookup"><span data-stu-id="975ec-106">However, you cannot change the value of the reference itself; for example, you cannot use the same reference to allocate memory for a new object and have it persist outside the method.</span></span> <span data-ttu-id="975ec-107">Para ello, pase el parámetro mediante las palabras clave [ref](../../language-reference/keywords/ref.md) u [out](../../language-reference/keywords/out-parameter-modifier.md).</span><span class="sxs-lookup"><span data-stu-id="975ec-107">To do that, pass the parameter using the [ref](../../language-reference/keywords/ref.md) or [out](../../language-reference/keywords/out-parameter-modifier.md) keyword.</span></span> <span data-ttu-id="975ec-108">Para simplificar, en el ejemplo siguiente se usa `ref`.</span><span class="sxs-lookup"><span data-stu-id="975ec-108">For simplicity, the following examples use `ref`.</span></span>  
  
## <a name="passing-reference-types-by-value"></a><span data-ttu-id="975ec-109">Pasar tipos de referencia en función del valor</span><span class="sxs-lookup"><span data-stu-id="975ec-109">Passing Reference Types by Value</span></span>  

 <span data-ttu-id="975ec-110">En el ejemplo siguiente, se muestra cómo pasar un parámetro de tipo de referencia, `arr`, en función del valor a un método, `Change`.</span><span class="sxs-lookup"><span data-stu-id="975ec-110">The following example demonstrates passing a reference-type parameter, `arr`, by value, to a method, `Change`.</span></span> <span data-ttu-id="975ec-111">Dado que el parámetro es una referencia a `arr`, es posible cambiar los valores de los elementos de matriz.</span><span class="sxs-lookup"><span data-stu-id="975ec-111">Because the parameter is a reference to `arr`, it is possible to change the values of the array elements.</span></span> <span data-ttu-id="975ec-112">En cambio, el intento de volver a asignar el parámetro a otra ubicación de memoria solo funciona dentro del método y no afecta a la variable original, `arr`.</span><span class="sxs-lookup"><span data-stu-id="975ec-112">However, the attempt to reassign the parameter to a different memory location only works inside the method and does not affect the original variable, `arr`.</span></span>  
  
 [!code-csharp[csProgGuideParameters#7](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideParameters/CS/Parameters.cs#7)]  
  
 <span data-ttu-id="975ec-113">En el ejemplo anterior, la matriz, `arr`, que es un tipo de referencia, se pasa al método sin el parámetro `ref`.</span><span class="sxs-lookup"><span data-stu-id="975ec-113">In the preceding example, the array, `arr`, which is a reference type, is passed to the method without the `ref` parameter.</span></span> <span data-ttu-id="975ec-114">En tal caso, se pasa al método una copia de la referencia, que apunta a `arr`.</span><span class="sxs-lookup"><span data-stu-id="975ec-114">In such a case, a copy of the reference, which points to `arr`, is passed to the method.</span></span> <span data-ttu-id="975ec-115">El resultado muestra que es posible que el método cambie el contenido de un elemento de matriz, en este caso de `1` a `888`.</span><span class="sxs-lookup"><span data-stu-id="975ec-115">The output shows that it is possible for the method to change the contents of an array element, in this case from `1` to `888`.</span></span> <span data-ttu-id="975ec-116">En cambio, si se asigna una nueva porción de memoria al usar el operador [new](../../language-reference/operators/new-operator.md) dentro del método `Change`, la variable `pArray` hace referencia a una nueva matriz.</span><span class="sxs-lookup"><span data-stu-id="975ec-116">However, allocating a new portion of memory by using the [new](../../language-reference/operators/new-operator.md) operator inside the `Change` method makes the variable `pArray` reference a new array.</span></span> <span data-ttu-id="975ec-117">Por tanto, cualquier cambio que hubiese después no afectará a la matriz original, `arr`, que se ha creado dentro de `Main`.</span><span class="sxs-lookup"><span data-stu-id="975ec-117">Thus, any changes after that will not affect the original array, `arr`, which is created inside `Main`.</span></span> <span data-ttu-id="975ec-118">De hecho, se crean dos matrices en este ejemplo, una dentro de `Main` y otra dentro del método `Change`.</span><span class="sxs-lookup"><span data-stu-id="975ec-118">In fact, two arrays are created in this example, one inside `Main` and one inside the `Change` method.</span></span>  
  
## <a name="passing-reference-types-by-reference"></a><span data-ttu-id="975ec-119">Pasar tipos de referencia en función de la referencia</span><span class="sxs-lookup"><span data-stu-id="975ec-119">Passing Reference Types by Reference</span></span>  

 <span data-ttu-id="975ec-120">El ejemplo siguiente es el mismo que el anterior, salvo que la palabra clave `ref` se agrega a la llamada y al encabezado de método.</span><span class="sxs-lookup"><span data-stu-id="975ec-120">The following example is the same as the previous example, except that the `ref` keyword is added to the method header and call.</span></span> <span data-ttu-id="975ec-121">Los cambios que tengan lugar en el método afectan a la variable original en el programa que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="975ec-121">Any changes that take place in the method affect the original variable in the calling program.</span></span>  
  
 [!code-csharp[csProgGuideParameters#8](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideParameters/CS/Parameters.cs#8)]  
  
 <span data-ttu-id="975ec-122">Todos los cambios que tienen lugar dentro del método afectan a la matriz original en `Main`.</span><span class="sxs-lookup"><span data-stu-id="975ec-122">All of the changes that take place inside the method affect the original array in `Main`.</span></span> <span data-ttu-id="975ec-123">De hecho, la matriz original se reasigna mediante el operador `new`.</span><span class="sxs-lookup"><span data-stu-id="975ec-123">In fact, the original array is reallocated using the `new` operator.</span></span> <span data-ttu-id="975ec-124">Por tanto, después de llamar al método `Change`, cualquier referencia a `arr` apunta a la matriz de cinco elementos, que se crea en el método `Change`.</span><span class="sxs-lookup"><span data-stu-id="975ec-124">Thus, after calling the `Change` method, any reference to `arr` points to the five-element array, which is created in the `Change` method.</span></span>  
  
## <a name="swapping-two-strings"></a><span data-ttu-id="975ec-125">Intercambiar dos cadenas</span><span class="sxs-lookup"><span data-stu-id="975ec-125">Swapping Two Strings</span></span>  

 <span data-ttu-id="975ec-126">Intercambiar cadenas es un buen ejemplo de pasar parámetros de tipo de referencia en función de la referencia.</span><span class="sxs-lookup"><span data-stu-id="975ec-126">Swapping strings is a good example of passing reference-type parameters by reference.</span></span> <span data-ttu-id="975ec-127">En el ejemplo, se inicializan dos cadenas, `str1` y `str2`, en `Main` y se pasan al método `SwapStrings` como parámetros modificados por la palabra clave `ref`.</span><span class="sxs-lookup"><span data-stu-id="975ec-127">In the example, two strings, `str1` and `str2`, are initialized in `Main` and passed to the `SwapStrings` method as parameters modified by the `ref` keyword.</span></span> <span data-ttu-id="975ec-128">Las dos cadenas se intercambian dentro del método y también dentro de `Main`.</span><span class="sxs-lookup"><span data-stu-id="975ec-128">The two strings are swapped inside the method and inside `Main` as well.</span></span>  
  
 [!code-csharp[csProgGuideParameters#9](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideParameters/CS/Parameters.cs#9)]  
  
 <span data-ttu-id="975ec-129">En este ejemplo, los parámetros tienen que pasarse en función de la referencia para afectar a las variables en el programa que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="975ec-129">In this example, the parameters need to be passed by reference to affect the variables in the calling program.</span></span> <span data-ttu-id="975ec-130">Si quita la palabra clave `ref` tanto del encabezado de método como de la llamada al método, no se llevará a cabo ningún cambio en el programa que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="975ec-130">If you remove the `ref` keyword from both the method header and the method call, no changes will take place in the calling program.</span></span>  
  
 <span data-ttu-id="975ec-131">Para obtener más información sobre las cadenas, vea [string](../../language-reference/builtin-types/reference-types.md).</span><span class="sxs-lookup"><span data-stu-id="975ec-131">For more information about strings, see [string](../../language-reference/builtin-types/reference-types.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="975ec-132">Vea también</span><span class="sxs-lookup"><span data-stu-id="975ec-132">See also</span></span>

- [<span data-ttu-id="975ec-133">Guía de programación de C#</span><span class="sxs-lookup"><span data-stu-id="975ec-133">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="975ec-134">Pasar parámetros</span><span class="sxs-lookup"><span data-stu-id="975ec-134">Passing Parameters</span></span>](./passing-parameters.md)
- [<span data-ttu-id="975ec-135">ref</span><span class="sxs-lookup"><span data-stu-id="975ec-135">ref</span></span>](../../language-reference/keywords/ref.md)
- [<span data-ttu-id="975ec-136">in</span><span class="sxs-lookup"><span data-stu-id="975ec-136">in</span></span>](../../language-reference/keywords/in-parameter-modifier.md)
- [<span data-ttu-id="975ec-137">out</span><span class="sxs-lookup"><span data-stu-id="975ec-137">out</span></span>](../../language-reference/keywords/out.md)
- [<span data-ttu-id="975ec-138">Tipos de referencia</span><span class="sxs-lookup"><span data-stu-id="975ec-138">Reference Types</span></span>](../../language-reference/keywords/reference-types.md)
