---
title: Serialización (C#)
ms.date: 01/02/2020
ms.openlocfilehash: b2532ccf281fdfaa951d56675066f1e239f9f480
ms.sourcegitcommit: a241301495a84cc8c64fe972330d16edd619868b
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/01/2020
ms.locfileid: "84241986"
---
# <a name="serialization-c"></a><span data-ttu-id="2a346-102">Serialización (C#)</span><span class="sxs-lookup"><span data-stu-id="2a346-102">Serialization (C#)</span></span>

<span data-ttu-id="2a346-103">La serialización es el proceso de convertir un objeto en una secuencia de bytes para almacenarlo o transmitirlo a la memoria, a una base de datos o a un archivo.</span><span class="sxs-lookup"><span data-stu-id="2a346-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="2a346-104">Su propósito principal es guardar el estado de un objeto para poder volver a crearlo cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="2a346-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="2a346-105">El proceso inverso se denomina deserialización.</span><span class="sxs-lookup"><span data-stu-id="2a346-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="2a346-106">Funcionamiento de la serialización</span><span class="sxs-lookup"><span data-stu-id="2a346-106">How serialization works</span></span>

<span data-ttu-id="2a346-107">En esta ilustración se muestra el proceso general de la serialización:</span><span class="sxs-lookup"><span data-stu-id="2a346-107">This illustration shows the overall process of serialization:</span></span>

![Gráfico serialización](./media/index/serialization-process.gif)

<span data-ttu-id="2a346-109">El objeto se serializa en una secuencia que incluye los datos.</span><span class="sxs-lookup"><span data-stu-id="2a346-109">The object is serialized to a stream that carries the data.</span></span> <span data-ttu-id="2a346-110">La secuencia también puede tener información sobre el tipo del objeto, como la versión, la referencia cultural y el nombre del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="2a346-110">The stream may also have information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="2a346-111">A partir de esa secuencia, el objeto se puede almacenar en una base de datos, en un archivo o en memoria.</span><span class="sxs-lookup"><span data-stu-id="2a346-111">From that stream, the object can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="2a346-112">Usos de la serialización</span><span class="sxs-lookup"><span data-stu-id="2a346-112">Uses for serialization</span></span>

<span data-ttu-id="2a346-113">La serialización permite al desarrollador guardar el estado de un objeto y volver a crearlo según sea necesario, ya que proporciona almacenamiento de los objetos e intercambio de datos.</span><span class="sxs-lookup"><span data-stu-id="2a346-113">Serialization allows the developer to save the state of an object and re-create it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="2a346-114">A través de la serialización, un desarrollador puede realizar acciones como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="2a346-114">Through serialization, a developer can perform actions such as:</span></span>

* <span data-ttu-id="2a346-115">Enviar el objeto a una aplicación remota mediante un servicio web</span><span class="sxs-lookup"><span data-stu-id="2a346-115">Sending the object to a remote application by using a web service</span></span>
* <span data-ttu-id="2a346-116">Pasar un objeto de un dominio a otro</span><span class="sxs-lookup"><span data-stu-id="2a346-116">Passing an object from one domain to another</span></span>
* <span data-ttu-id="2a346-117">Pasar un objeto a través de un firewall como una cadena JSON o XML</span><span class="sxs-lookup"><span data-stu-id="2a346-117">Passing an object through a firewall as a JSON or XML string</span></span>
* <span data-ttu-id="2a346-118">Mantener la seguridad o información específica del usuario entre aplicaciones</span><span class="sxs-lookup"><span data-stu-id="2a346-118">Maintaining security or user-specific information across applications</span></span>

## <a name="json-serialization"></a><span data-ttu-id="2a346-119">Serialización de JSON</span><span class="sxs-lookup"><span data-stu-id="2a346-119">JSON serialization</span></span>

<span data-ttu-id="2a346-120">El espacio de nombres <xref:System.Text.Json> contiene clases para la serialización y deserialización de notación de objetos JavaScript (JSON).</span><span class="sxs-lookup"><span data-stu-id="2a346-120">The <xref:System.Text.Json> namespace contains classes for JavaScript Object Notation (JSON) serialization and deserialization.</span></span> <span data-ttu-id="2a346-121">JSON es un estándar abierto que se usa normalmente para compartir datos en la web.</span><span class="sxs-lookup"><span data-stu-id="2a346-121">JSON is an open standard that is commonly used for sharing data across the web.</span></span>

<span data-ttu-id="2a346-122">La serialización de JSON serializa las propiedades públicas de un objeto en una cadena, una matriz de bytes o una secuencia que se ajusta a la [especificación de JSON RFC 8259](https://tools.ietf.org/html/rfc8259).</span><span class="sxs-lookup"><span data-stu-id="2a346-122">JSON serialization serializes the public properties of an object into a string, byte array, or stream that conforms to [the RFC 8259 JSON specification](https://tools.ietf.org/html/rfc8259).</span></span> <span data-ttu-id="2a346-123">Para controlar la forma en que <xref:System.Text.Json.JsonSerializer> serializa o deserializa una instancia de la clase:</span><span class="sxs-lookup"><span data-stu-id="2a346-123">To control the way <xref:System.Text.Json.JsonSerializer> serializes or deserializes an instance of the class:</span></span>

* <span data-ttu-id="2a346-124">Use un objeto <xref:System.Text.Json.JsonSerializerOptions>.</span><span class="sxs-lookup"><span data-stu-id="2a346-124">Use a <xref:System.Text.Json.JsonSerializerOptions> object</span></span>
* <span data-ttu-id="2a346-125">Aplique atributos del espacio de nombres <xref:System.Text.Json.Serialization> a clases o propiedades.</span><span class="sxs-lookup"><span data-stu-id="2a346-125">Apply attributes from the <xref:System.Text.Json.Serialization> namespace to classes or properties</span></span>
* <span data-ttu-id="2a346-126">[Implemente convertidores personalizados](../../../../standard/serialization/system-text-json-converters-how-to.md).</span><span class="sxs-lookup"><span data-stu-id="2a346-126">[Implement custom converters](../../../../standard/serialization/system-text-json-converters-how-to.md)</span></span>

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="2a346-127">Serialización XML y binaria</span><span class="sxs-lookup"><span data-stu-id="2a346-127">Binary and XML serialization</span></span>

<span data-ttu-id="2a346-128">El espacio de nombres <xref:System.Runtime.Serialization> contiene clases para la serialización y deserialización binaria y XML.</span><span class="sxs-lookup"><span data-stu-id="2a346-128">The <xref:System.Runtime.Serialization> namespace contains classes for binary and XML serialization and deserialization.</span></span>

<span data-ttu-id="2a346-129">La serialización binaria utiliza la codificación binaria para generar una serialización compacta para usos como almacenamiento o secuencias de red basadas en socket.</span><span class="sxs-lookup"><span data-stu-id="2a346-129">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span> <span data-ttu-id="2a346-130">En la serialización binaria se serializan todos los miembros, incluso aquellos que son de solo lectura, y mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2a346-130">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span>

<span data-ttu-id="2a346-131">La serialización XML serializa las propiedades y los campos públicos de un objeto o los parámetros y valores devueltos de los métodos en una secuencia XML que se ajusta a un documento específico del lenguaje de definición de esquema XML (XSD).</span><span class="sxs-lookup"><span data-stu-id="2a346-131">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="2a346-132">La serialización XML produce clases fuertemente tipadas cuyas propiedades y campos públicos se convierten a XML.</span><span class="sxs-lookup"><span data-stu-id="2a346-132">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="2a346-133"><xref:System.Xml.Serialization> contiene clases para serializar y deserializar XML.</span><span class="sxs-lookup"><span data-stu-id="2a346-133"><xref:System.Xml.Serialization> contains classes for serializing and deserializing XML.</span></span> <span data-ttu-id="2a346-134">Se aplican atributos a clases y a miembros de clase para controlar la forma en que <xref:System.Xml.Serialization.XmlSerializer> serializa o deserializa una instancia de la clase.</span><span class="sxs-lookup"><span data-stu-id="2a346-134">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="2a346-135">Conversión de un objeto en serializable</span><span class="sxs-lookup"><span data-stu-id="2a346-135">Making an object serializable</span></span>

<span data-ttu-id="2a346-136">Para la serialización binaria o XML, necesita lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2a346-136">For binary or XML serialization, you need:</span></span>

* <span data-ttu-id="2a346-137">Objeto que se va a serializar</span><span class="sxs-lookup"><span data-stu-id="2a346-137">The object to be serialized</span></span>
* <span data-ttu-id="2a346-138">Secuencia para incluir el objeto serializado</span><span class="sxs-lookup"><span data-stu-id="2a346-138">A stream to contain the serialized object</span></span>
* <span data-ttu-id="2a346-139">Instancia de <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="2a346-139">A <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName> instance</span></span>

<span data-ttu-id="2a346-140">Aplique el atributo <xref:System.SerializableAttribute> a un tipo para indicar que se pueden serializar instancias de este tipo.</span><span class="sxs-lookup"><span data-stu-id="2a346-140">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of the type can be serialized.</span></span> <span data-ttu-id="2a346-141">Si se intenta serializar pero el tipo no tiene el atributo <xref:System.SerializableAttribute>, se produce una excepción.</span><span class="sxs-lookup"><span data-stu-id="2a346-141">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="2a346-142">Para evitar que un campo se serialice, aplique el atributo <xref:System.NonSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="2a346-142">To prevent a field from being serialized, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="2a346-143">Si un campo de un tipo serializable contiene un puntero, un controlador o alguna otra estructura de datos específica para un entorno concreto y el campo no se puede reconstituir correctamente en un entorno diferente, puede convertirlo en no serializable.</span><span class="sxs-lookup"><span data-stu-id="2a346-143">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="2a346-144">Si una clase serializada contiene referencias a objetos de otras clases marcadas como <xref:System.SerializableAttribute>, esos objetos también se serializarán.</span><span class="sxs-lookup"><span data-stu-id="2a346-144">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

### <a name="basic-and-custom-serialization"></a><span data-ttu-id="2a346-145">Serialización básica y personalizada</span><span class="sxs-lookup"><span data-stu-id="2a346-145">Basic and custom serialization</span></span>

<span data-ttu-id="2a346-146">La serialización binaria y XML se puede realizar de dos formas: de manera básica y personalizada.</span><span class="sxs-lookup"><span data-stu-id="2a346-146">Binary and XML serialization can be performed in two ways, basic and custom.</span></span>

<span data-ttu-id="2a346-147">La serialización básica utiliza .NET para serializar automáticamente el objeto.</span><span class="sxs-lookup"><span data-stu-id="2a346-147">Basic serialization uses .NET to automatically serialize the object.</span></span> <span data-ttu-id="2a346-148">El único requisito es que la clase tenga el atributo <xref:System.SerializableAttribute> aplicado.</span><span class="sxs-lookup"><span data-stu-id="2a346-148">The only requirement is that the class has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="2a346-149"><xref:System.NonSerializedAttribute> puede usarse para impedir la serialización de campos específicos.</span><span class="sxs-lookup"><span data-stu-id="2a346-149">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="2a346-150">Cuando se usa la serialización básica, el control de versiones de objetos puede causar problemas.</span><span class="sxs-lookup"><span data-stu-id="2a346-150">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="2a346-151">Use la serialización personalizada si los problemas de control de versiones son importantes.</span><span class="sxs-lookup"><span data-stu-id="2a346-151">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="2a346-152">La serialización básica es la manera más fácil de realizar la serialización, pero no proporciona mucho control sobre el proceso.</span><span class="sxs-lookup"><span data-stu-id="2a346-152">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

<span data-ttu-id="2a346-153">En la serialización personalizada, puede especificar exactamente qué objetos se serializarán y cómo se llevará a cabo la serialización.</span><span class="sxs-lookup"><span data-stu-id="2a346-153">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="2a346-154">La clase debe marcarse como <xref:System.SerializableAttribute> e implementar la interfaz <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="2a346-154">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span> <span data-ttu-id="2a346-155">Si quiere que el objeto también se deserialice de forma personalizada, use un constructor personalizado.</span><span class="sxs-lookup"><span data-stu-id="2a346-155">If you want your object to be deserialized in a custom manner as well, use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="2a346-156">Serialización de diseñador</span><span class="sxs-lookup"><span data-stu-id="2a346-156">Designer serialization</span></span>

<span data-ttu-id="2a346-157">La serialización de diseñador es una forma especial de serialización que conlleva el tipo de persistencia de objeto asociado a las herramientas de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="2a346-157">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="2a346-158">La serialización de diseñador es un proceso que consiste en convertir un gráfico de objetos en un archivo de código fuente que puede utilizarse posteriormente para recuperar el gráfico de objetos.</span><span class="sxs-lookup"><span data-stu-id="2a346-158">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="2a346-159">Un archivo de código fuente puede contener código, marcado o incluso información de la tabla SQL.</span><span class="sxs-lookup"><span data-stu-id="2a346-159">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="related-topics-and-examples"></a><a name="BKMK_RelatedTopics"></a> <span data-ttu-id="2a346-160">Temas relacionados y ejemplos</span><span class="sxs-lookup"><span data-stu-id="2a346-160">Related Topics and Examples</span></span>  

<span data-ttu-id="2a346-161">En [Información general de System.Text.Json](../../../../standard/serialization/system-text-json-overview.md) se muestra cómo obtener la biblioteca `System.Text.Json`.</span><span class="sxs-lookup"><span data-stu-id="2a346-161">[System.Text.Json overview](../../../../standard/serialization/system-text-json-overview.md) Shows how to get the `System.Text.Json` library.</span></span>

<span data-ttu-id="2a346-162">En [Procedimiento para serializar y deserializar JSON en .NET](../../../../standard/serialization/system-text-json-how-to.md)</span><span class="sxs-lookup"><span data-stu-id="2a346-162">[How to serialize and deserialize JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span></span>
<span data-ttu-id="2a346-163">se muestra cómo leer y escribir datos de objetos a y desde JSON mediante la clase <xref:System.Text.Json.JsonSerializer>.</span><span class="sxs-lookup"><span data-stu-id="2a346-163">Shows how to read and write object data to and from JSON using the <xref:System.Text.Json.JsonSerializer> class.</span></span>

[<span data-ttu-id="2a346-164">Tutorial: Conservar un objeto en Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="2a346-164">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="2a346-165">Se explica cómo se puede usar la serialización para conservar los datos de un objeto entre instancias, lo que le permite almacenar valores y recuperarlos la próxima vez que se cree una instancia del objeto.</span><span class="sxs-lookup"><span data-stu-id="2a346-165">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="2a346-166">Procedimiento para leer datos de objeto de un archivo XML (C#)</span><span class="sxs-lookup"><span data-stu-id="2a346-166">How to read object data from an XML file (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
<span data-ttu-id="2a346-167">Se muestra cómo leer los datos de objetos que se han escrito anteriormente en un archivo XML con la clase <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="2a346-167">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="2a346-168">Procedimiento para escribir datos de objeto en un archivo XML (C#)</span><span class="sxs-lookup"><span data-stu-id="2a346-168">How to write object data to an XML file (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="2a346-169">Se muestra cómo escribir el objeto de una clase en un archivo XML con la clase <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="2a346-169">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
