---
title: Convertir horas entre zonas horarias
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- times [.NET Framework], converting
- time zones [.NET Framework], conversions
- UTC times, converting
- converting times
- local time conversions
ms.assetid: a51e1a3b-c983-4320-b31a-1f9fa3cf824a
ms.openlocfilehash: e17b32131e6abc1dba8126799281206f02d46d35
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/02/2020
ms.locfileid: "84278186"
---
# <a name="converting-times-between-time-zones"></a><span data-ttu-id="f6838-102">Convertir horas entre zonas horarias</span><span class="sxs-lookup"><span data-stu-id="f6838-102">Converting times between time zones</span></span>

<span data-ttu-id="f6838-103">Para cualquier aplicación que trabaje con fechas y horas se está volviendo cada vez más importante controlar las diferencias entre zonas horarias.</span><span class="sxs-lookup"><span data-stu-id="f6838-103">It is becoming increasingly important for any application that works with dates and times to handle differences between time zones.</span></span> <span data-ttu-id="f6838-104">Una aplicación ya no puede suponer que todas las horas se pueden expresar en la hora local, que es el tiempo disponible en la <xref:System.DateTime> estructura.</span><span class="sxs-lookup"><span data-stu-id="f6838-104">An application can no longer assume that all times can be expressed in the local time, which is the time available from the <xref:System.DateTime> structure.</span></span> <span data-ttu-id="f6838-105">Por ejemplo, una página web que muestre la hora actual en la zona oriental de los Estados Unidos no tendrá credibilidad para un cliente de Asia oriental.</span><span class="sxs-lookup"><span data-stu-id="f6838-105">For example, a Web page that displays the current time in the eastern part of the United States will lack credibility to a customer in eastern Asia.</span></span> <span data-ttu-id="f6838-106">En este tema se explica cómo convertir las horas de una zona horaria a otra, así como cómo convertir <xref:System.DateTimeOffset> valores que tienen un reconocimiento limitado de la zona horaria.</span><span class="sxs-lookup"><span data-stu-id="f6838-106">This topic explains how to convert times from one time zone to another, as well as how to convert <xref:System.DateTimeOffset> values that have limited time zone awareness.</span></span>

## <a name="converting-to-coordinated-universal-time"></a><span data-ttu-id="f6838-107">Conversión a la hora universal coordinada</span><span class="sxs-lookup"><span data-stu-id="f6838-107">Converting to Coordinated Universal Time</span></span>

<span data-ttu-id="f6838-108">La hora universal coordinada (UTC) es un estándar de hora atómica de alta precisión.</span><span class="sxs-lookup"><span data-stu-id="f6838-108">Coordinated Universal Time (UTC) is a high-precision, atomic time standard.</span></span> <span data-ttu-id="f6838-109">Las zonas horarias del mundo se expresan como diferencias positivas o negativas con respecto a la hora UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-109">The world’s time zones are expressed as positive or negative offsets from UTC.</span></span> <span data-ttu-id="f6838-110">Por lo tanto, UTC proporciona un tipo de hora libre o neutra de zona horaria.</span><span class="sxs-lookup"><span data-stu-id="f6838-110">Thus, UTC provides a kind of time-zone free or time-zone neutral time.</span></span> <span data-ttu-id="f6838-111">Se recomienda el uso de la hora UTC cuando importa la portabilidad de la fecha y la hora entre equipos.</span><span class="sxs-lookup"><span data-stu-id="f6838-111">The use of UTC time is recommended when a date and time's portability across computers is important.</span></span> <span data-ttu-id="f6838-112">(Para obtener información detallada y otras prácticas recomendadas que usan fechas y horas, vea [procedimientos recomendados de codificación usando DateTime en el .NET Framework](https://docs.microsoft.com/previous-versions/dotnet/articles/ms973825(v=msdn.10))). La conversión de zonas horarias individuales a UTC facilita las comparaciones de hora.</span><span class="sxs-lookup"><span data-stu-id="f6838-112">(For details and other best practices using dates and times, see [Coding best practices using DateTime in the .NET Framework](https://docs.microsoft.com/previous-versions/dotnet/articles/ms973825(v=msdn.10)).) Converting individual time zones to UTC makes time comparisons easy.</span></span>

> [!NOTE]
> <span data-ttu-id="f6838-113">También puede serializar una <xref:System.DateTimeOffset> estructura para representar de forma inequívoca un único punto en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="f6838-113">You can also serialize a <xref:System.DateTimeOffset> structure to unambiguously represent a single point in time.</span></span> <span data-ttu-id="f6838-114">Dado que los <xref:System.DateTimeOffset> objetos almacenan un valor de fecha y hora junto con su diferencia horaria con respecto a la hora UTC, siempre representan un punto concreto en el tiempo en relación con la hora UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-114">Because <xref:System.DateTimeOffset> objects store a date and time value along with its offset from UTC, they always represent a particular point in time in relationship to UTC.</span></span>

<span data-ttu-id="f6838-115">La forma más fácil de convertir una hora a UTC es llamar al `static` `Shared` método (en Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="f6838-115">The easiest way to convert a time to UTC is to call the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f6838-116">La conversión exacta realizada por el método depende del valor de la `dateTime` propiedad del parámetro <xref:System.DateTime.Kind%2A> , como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="f6838-116">The exact conversion performed by the method depends on the value of the `dateTime` parameter's <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="f6838-117">Conversión</span><span class="sxs-lookup"><span data-stu-id="f6838-117">Conversion</span></span>                                                                     |
| -------------------------- | ------------------------------------------------------------------------------ |
| `DateTimeKind.Local`       | <span data-ttu-id="f6838-118">Convierte la hora local a UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-118">Converts local time to UTC.</span></span>                                                    |
| `DateTimeKind.Unspecified` | <span data-ttu-id="f6838-119">Supone que el parámetro `dateTime` es la hora local y la convierte a UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-119">Assumes the `dateTime` parameter is local time and converts local time to UTC.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="f6838-120">Devuelve el parámetro `dateTime` sin modificar.</span><span class="sxs-lookup"><span data-stu-id="f6838-120">Returns the `dateTime` parameter unchanged.</span></span>                                    |

<span data-ttu-id="f6838-121">El código siguiente convierte la hora local actual a UTC y muestra el resultado en la consola.</span><span class="sxs-lookup"><span data-stu-id="f6838-121">The following code converts the current local time to UTC and displays the result to the console.</span></span>

[!code-csharp[System.TimeZone2.Concepts#6](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#6)]
[!code-vb[System.TimeZone2.Concepts#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#6)]

<span data-ttu-id="f6838-122">Si el valor de fecha y hora no representa la hora local o UTC, <xref:System.DateTime.ToUniversalTime%2A> es probable que el método devuelva un resultado erróneo.</span><span class="sxs-lookup"><span data-stu-id="f6838-122">If the date and time value does not represent either the local time or UTC, the <xref:System.DateTime.ToUniversalTime%2A> method will likely return an erroneous result.</span></span> <span data-ttu-id="f6838-123">Sin embargo, puede utilizar el <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> método para convertir la fecha y la hora de una zona horaria especificada.</span><span class="sxs-lookup"><span data-stu-id="f6838-123">However, you can use the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert the date and time from a specified time zone.</span></span> <span data-ttu-id="f6838-124">(Para obtener más información acerca de cómo recuperar un <xref:System.TimeZoneInfo> objeto que representa la zona horaria de destino, consulte [Buscar las zonas horarias definidas en un sistema local](finding-the-time-zones-on-local-system.md)). En el código siguiente se usa el <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> método para convertir la hora estándar del este a UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-124">(For details on retrieving a <xref:System.TimeZoneInfo> object that represents the destination time zone, see [Finding the time zones defined on a local system](finding-the-time-zones-on-local-system.md).) The following code uses the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert Eastern Standard Time to UTC.</span></span>

[!code-csharp[System.TimeZone2.Concepts#7](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#7)]
[!code-vb[System.TimeZone2.Concepts#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#7)]

<span data-ttu-id="f6838-125">Tenga en cuenta que este método produce una excepción <xref:System.ArgumentException> si la <xref:System.DateTime> propiedad del objeto <xref:System.DateTime.Kind%2A> y la zona horaria no coinciden.</span><span class="sxs-lookup"><span data-stu-id="f6838-125">Note that this method throws an <xref:System.ArgumentException> if the <xref:System.DateTime> object's <xref:System.DateTime.Kind%2A> property and the time zone are mismatched.</span></span> <span data-ttu-id="f6838-126">Se produce un error de coincidencia si la <xref:System.DateTime.Kind%2A> propiedad es <xref:System.DateTimeKind.Local?displayProperty=nameWithType> pero el <xref:System.TimeZoneInfo> objeto no representa la zona horaria local o si la <xref:System.DateTime.Kind%2A> propiedad es <xref:System.DateTimeKind.Utc?displayProperty=nameWithType> pero el <xref:System.TimeZoneInfo> objeto <xref:System.TimeZoneInfo.Utc?displayProperty=nameWithType> no es igual a.</span><span class="sxs-lookup"><span data-stu-id="f6838-126">A mismatch occurs if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Local?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not represent the local time zone, or if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Utc?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not equal <xref:System.TimeZoneInfo.Utc?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="f6838-127">Todos estos métodos toman <xref:System.DateTime> los valores como parámetros y devuelven un <xref:System.DateTime> valor.</span><span class="sxs-lookup"><span data-stu-id="f6838-127">All of these methods take <xref:System.DateTime> values as parameters and return a <xref:System.DateTime> value.</span></span> <span data-ttu-id="f6838-128">En <xref:System.DateTimeOffset> el caso de los valores, la <xref:System.DateTimeOffset> estructura tiene un <xref:System.DateTimeOffset.ToUniversalTime%2A> método de instancia que convierte la fecha y hora de la instancia actual a UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-128">For <xref:System.DateTimeOffset> values, the <xref:System.DateTimeOffset> structure has a <xref:System.DateTimeOffset.ToUniversalTime%2A> instance method that converts the date and time of the current instance to UTC.</span></span> <span data-ttu-id="f6838-129">En el ejemplo siguiente se llama al <xref:System.DateTimeOffset.ToUniversalTime%2A> método para convertir una hora local y varias otras horas en hora universal coordinada (UTC).</span><span class="sxs-lookup"><span data-stu-id="f6838-129">The following example calls the <xref:System.DateTimeOffset.ToUniversalTime%2A> method to convert a local time and several other times to Coordinated Universal Time (UTC).</span></span>

[!code-csharp[System.DateTimeOffset.Methods#16](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/cs/Methods.cs#16)]
[!code-vb[System.DateTimeOffset.Methods#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/vb/Methods.vb#16)]

## <a name="converting-utc-to-a-designated-time-zone"></a><span data-ttu-id="f6838-130">Conversión de una hora UTC a una zona horaria designada</span><span class="sxs-lookup"><span data-stu-id="f6838-130">Converting UTC to a designated time zone</span></span>

<span data-ttu-id="f6838-131">Para convertir la hora UTC a la hora local, consulte la sección "convertir la hora UTC a la hora local" que aparece a continuación.</span><span class="sxs-lookup"><span data-stu-id="f6838-131">To convert UTC to local time, see the "Converting UTC to Local Time" section that follows.</span></span> <span data-ttu-id="f6838-132">Para convertir la hora UTC a la hora de cualquier zona horaria que designe, llame al <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> método.</span><span class="sxs-lookup"><span data-stu-id="f6838-132">To convert UTC to the time in any time zone that you designate, call the <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> method.</span></span> <span data-ttu-id="f6838-133">El método toma dos parámetros:</span><span class="sxs-lookup"><span data-stu-id="f6838-133">The method takes two parameters:</span></span>

- <span data-ttu-id="f6838-134">La hora UTC que se va a convertir.</span><span class="sxs-lookup"><span data-stu-id="f6838-134">The UTC to convert.</span></span> <span data-ttu-id="f6838-135">Debe ser un <xref:System.DateTime> valor cuya <xref:System.DateTime.Kind%2A> propiedad esté establecida en `Unspecified` o `Utc` .</span><span class="sxs-lookup"><span data-stu-id="f6838-135">This must be a <xref:System.DateTime> value whose <xref:System.DateTime.Kind%2A> property is set to `Unspecified` or `Utc`.</span></span>

- <span data-ttu-id="f6838-136">La zona horaria a la que se va a convertir la hora UTC.</span><span class="sxs-lookup"><span data-stu-id="f6838-136">The time zone to convert the UTC to.</span></span>

<span data-ttu-id="f6838-137">El código siguiente convierte la hora UTC a la hora estándar central.</span><span class="sxs-lookup"><span data-stu-id="f6838-137">The following code converts UTC to Central Standard Time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#8](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#8)]
[!code-vb[System.TimeZone2.Concepts#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#8)]

## <a name="converting-utc-to-local-time"></a><span data-ttu-id="f6838-138">Conversión de una hora UTC a la hora local</span><span class="sxs-lookup"><span data-stu-id="f6838-138">Converting UTC to local time</span></span>

<span data-ttu-id="f6838-139">Para convertir la hora UTC a la hora local, llame al <xref:System.DateTime.ToLocalTime%2A> método del <xref:System.DateTime> objeto cuya hora desee convertir.</span><span class="sxs-lookup"><span data-stu-id="f6838-139">To convert UTC to local time, call the <xref:System.DateTime.ToLocalTime%2A> method of the <xref:System.DateTime> object whose time you want to convert.</span></span> <span data-ttu-id="f6838-140">El comportamiento exacto del método depende del valor de la propiedad del objeto <xref:System.DateTime.Kind%2A> , como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="f6838-140">The exact behavior of the method depends on the value of the object’s <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="f6838-141">Conversión</span><span class="sxs-lookup"><span data-stu-id="f6838-141">Conversion</span></span>                                                                               |
| -------------------------- | ---------------------------------------------------------------------------------------- |
| `DateTimeKind.Local`       | <span data-ttu-id="f6838-142">Devuelve el <xref:System.DateTime> valor sin modificar.</span><span class="sxs-lookup"><span data-stu-id="f6838-142">Returns the <xref:System.DateTime> value unchanged.</span></span>                                      |
| `DateTimeKind.Unspecified` | <span data-ttu-id="f6838-143">Supone que el <xref:System.DateTime> valor es UTC y convierte la hora UTC a la hora local.</span><span class="sxs-lookup"><span data-stu-id="f6838-143">Assumes that the <xref:System.DateTime> value is UTC and converts the UTC to local time.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="f6838-144">Convierte el <xref:System.DateTime> valor a la hora local.</span><span class="sxs-lookup"><span data-stu-id="f6838-144">Converts the <xref:System.DateTime> value to local time.</span></span>                                 |

> [!NOTE]
> <span data-ttu-id="f6838-145">El <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> método se comporta igual que el `DateTime.ToLocalTime` método.</span><span class="sxs-lookup"><span data-stu-id="f6838-145">The <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> method behaves identically to the `DateTime.ToLocalTime` method.</span></span> <span data-ttu-id="f6838-146">Toma un único parámetro, que es el valor de fecha y hora que se va a convertir.</span><span class="sxs-lookup"><span data-stu-id="f6838-146">It takes a single parameter, which is the date and time value to convert.</span></span>

<span data-ttu-id="f6838-147">También puede convertir la hora de cualquier zona horaria designada a hora local mediante el `static` método ( `Shared` en Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="f6838-147">You can also convert the time in any designated time zone to local time by using the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f6838-148">Esta técnica se describe en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="f6838-148">This technique is discussed in the next section.</span></span>

## <a name="converting-between-any-two-time-zones"></a><span data-ttu-id="f6838-149">Conversión entre dos zonas horarias cualquiera</span><span class="sxs-lookup"><span data-stu-id="f6838-149">Converting between any two time zones</span></span>

<span data-ttu-id="f6838-150">Puede realizar la conversión entre dos zonas horarias mediante cualquiera de los dos `static` métodos siguientes ( `Shared` en Visual Basic) de la <xref:System.TimeZoneInfo> clase:</span><span class="sxs-lookup"><span data-stu-id="f6838-150">You can convert between any two time zones by using either of the following two `static` (`Shared` in Visual Basic) methods of the <xref:System.TimeZoneInfo> class:</span></span>

- <xref:System.TimeZoneInfo.ConvertTime%2A>

  <span data-ttu-id="f6838-151">Los parámetros de este método son el valor de fecha y hora que se va a convertir, un `TimeZoneInfo` objeto que representa la zona horaria del valor de fecha y hora, y un `TimeZoneInfo` objeto que representa la zona horaria a la que se va a convertir el valor de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="f6838-151">This method's parameters are the date and time value to convert, a `TimeZoneInfo` object that represents the time zone of the date and time value, and a `TimeZoneInfo` object that represents the time zone to convert the date and time value to.</span></span>

- <xref:System.TimeZoneInfo.ConvertTimeBySystemTimeZoneId%2A>

  <span data-ttu-id="f6838-152">Los parámetros de este método son el valor de fecha y hora que se va a convertir, el identificador de la zona horaria del valor de fecha y hora, y el identificador de la zona horaria en la que se va a convertir el valor de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="f6838-152">This method's parameters are the date and time value to convert, the identifier of the date and time value's time zone, and the identifier of the time zone to convert the date and time value to.</span></span>

<span data-ttu-id="f6838-153">Ambos métodos requieren que la <xref:System.DateTime.Kind%2A> propiedad del valor de fecha y hora que se va a convertir y el <xref:System.TimeZoneInfo> objeto o el identificador de zona horaria que representa su zona horaria se correspondan entre sí.</span><span class="sxs-lookup"><span data-stu-id="f6838-153">Both methods require that the <xref:System.DateTime.Kind%2A> property of the date and time value to convert and the <xref:System.TimeZoneInfo> object or time zone identifier that represents its time zone correspond to one another.</span></span> <span data-ttu-id="f6838-154">De lo contrario, se produce una excepción <xref:System.ArgumentException>.</span><span class="sxs-lookup"><span data-stu-id="f6838-154">Otherwise, an <xref:System.ArgumentException> is thrown.</span></span> <span data-ttu-id="f6838-155">Por ejemplo, si la `Kind` propiedad del valor de fecha y hora es `DateTimeKind.Local` , se produce una excepción si el `TimeZoneInfo` objeto que se pasa como parámetro al método no es igual a `TimeZoneInfo.Local` .</span><span class="sxs-lookup"><span data-stu-id="f6838-155">For example, if the `Kind` property of the date and time value is `DateTimeKind.Local`, an exception is thrown if the `TimeZoneInfo` object passed as a parameter to the method is not equal to `TimeZoneInfo.Local`.</span></span> <span data-ttu-id="f6838-156">También se produce una excepción si el identificador pasado como un parámetro al método no es igual a `TimeZoneInfo.Local.Id` .</span><span class="sxs-lookup"><span data-stu-id="f6838-156">An exception is also thrown if the identifier passed as a parameter to the method is not equal to `TimeZoneInfo.Local.Id`.</span></span>

<span data-ttu-id="f6838-157">En el ejemplo siguiente se usa el <xref:System.TimeZoneInfo.ConvertTime%2A> método para convertir de la hora estándar de Hawai a la hora local.</span><span class="sxs-lookup"><span data-stu-id="f6838-157">The following example uses the <xref:System.TimeZoneInfo.ConvertTime%2A> method to convert from Hawaiian Standard Time to local time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#9](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#9)]
[!code-vb[System.TimeZone2.Concepts#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#9)]

## <a name="converting-datetimeoffset-values"></a><span data-ttu-id="f6838-158">Conversión de valores DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="f6838-158">Converting DateTimeOffset values</span></span>

<span data-ttu-id="f6838-159">Los valores de fecha y hora representados por <xref:System.DateTimeOffset> objetos no reconocen totalmente la zona horaria porque el objeto se desasocia de su zona horaria en el momento en que se crea la instancia.</span><span class="sxs-lookup"><span data-stu-id="f6838-159">Date and time values represented by <xref:System.DateTimeOffset> objects are not fully time-zone aware because the object is disassociated from its time zone at the time it is instantiated.</span></span> <span data-ttu-id="f6838-160">Pero en muchos casos una aplicación simplemente necesita convertir una fecha y hora basada en dos diferencias horarias diferentes con respecto a la hora UTC en lugar de en la hora en zonas horarias determinadas.</span><span class="sxs-lookup"><span data-stu-id="f6838-160">However, in many cases an application simply needs to convert a date and time based on two different offsets from UTC rather than on the time in particular time zones.</span></span> <span data-ttu-id="f6838-161">Para realizar esta conversión, puede llamar al método de la instancia actual <xref:System.DateTimeOffset.ToOffset%2A> .</span><span class="sxs-lookup"><span data-stu-id="f6838-161">To perform this conversion, you can call the current instance's <xref:System.DateTimeOffset.ToOffset%2A> method.</span></span> <span data-ttu-id="f6838-162">El parámetro único del método es el desplazamiento del nuevo valor de fecha y hora que el método va a devolver.</span><span class="sxs-lookup"><span data-stu-id="f6838-162">The method's single parameter is the offset of the new date and time value that the method is to return.</span></span>

<span data-ttu-id="f6838-163">Por ejemplo, si la fecha y hora de una solicitud de usuario de una página web se conoce y se serializa como una cadena con el formato MM/dd/aaaa hh: mm:ss zzzz, el siguiente método `ReturnTimeOnServer` convierte este valor de fecha y hora en la fecha y hora del servidor web.</span><span class="sxs-lookup"><span data-stu-id="f6838-163">For example, if the date and time of a user request for a Web page is known and is serialized as a string in the format MM/dd/yyyy hh:mm:ss zzzz, the following `ReturnTimeOnServer` method converts this date and time value to the date and time on the Web server.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/TimeConversions.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions.vb#1)]

<span data-ttu-id="f6838-164">Si se pasa al método la cadena "9/1/2007 5:32:07 -05:00", que representa la fecha y hora de una zona horaria cinco horas anterior a UTC, devuelve 9/1/2007 3:32:07 AM-07:00 para un servidor ubicado en la zona horaria estándar del Pacífico de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="f6838-164">If the method is passed the string "9/1/2007 5:32:07 -05:00", which represents the date and time in a time zone five hours earlier than UTC, it returns 9/1/2007 3:32:07 AM -07:00 for a server located in the U.S. Pacific Standard Time zone.</span></span>

<span data-ttu-id="f6838-165">La <xref:System.TimeZoneInfo> clase también incluye una sobrecarga del <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> método que realiza conversiones de zona horaria con <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> valores.</span><span class="sxs-lookup"><span data-stu-id="f6838-165">The <xref:System.TimeZoneInfo> class also includes an overload of the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> method that performs time zone conversions with <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> values.</span></span> <span data-ttu-id="f6838-166">Los parámetros del método son un <xref:System.DateTimeOffset> valor y una referencia a la zona horaria a la que se va a convertir la hora.</span><span class="sxs-lookup"><span data-stu-id="f6838-166">The method's parameters are a <xref:System.DateTimeOffset> value and a reference to the time zone to which the time is to be converted.</span></span> <span data-ttu-id="f6838-167">La llamada al método devuelve un <xref:System.DateTimeOffset> valor.</span><span class="sxs-lookup"><span data-stu-id="f6838-167">The method call returns a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="f6838-168">Por ejemplo, el `ReturnTimeOnServer` método del ejemplo anterior podría volver a escribirse como sigue para llamar al <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> método.</span><span class="sxs-lookup"><span data-stu-id="f6838-168">For example, the `ReturnTimeOnServer` method in the previous example could be rewritten as follows to call the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> method.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/timeconversions2.cs#2)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions2.vb#2)]

## <a name="see-also"></a><span data-ttu-id="f6838-169">Consulte también</span><span class="sxs-lookup"><span data-stu-id="f6838-169">See also</span></span>

- <xref:System.TimeZoneInfo>
- [<span data-ttu-id="f6838-170">Fechas, horas y zonas horarias</span><span class="sxs-lookup"><span data-stu-id="f6838-170">Dates, times, and time zones</span></span>](index.md)
- [<span data-ttu-id="f6838-171">Buscar las zonas horarias definidas en un sistema local</span><span class="sxs-lookup"><span data-stu-id="f6838-171">Finding the time zones defined on a local system</span></span>](finding-the-time-zones-on-local-system.md)
