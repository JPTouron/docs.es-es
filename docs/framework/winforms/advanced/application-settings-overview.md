---
title: Introducción a la configuración de la aplicación
description: Obtenga información sobre la característica de configuración de la aplicación de Windows Forms, por ejemplo, cómo crear y almacenar los datos de configuración en nombre de la aplicación y los usuarios.
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: 864cab72b26ff7989c570347fb88b4009e7d705a
ms.sourcegitcommit: dc2feef0794cf41dbac1451a13b8183258566c0e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/24/2020
ms.locfileid: "85324215"
---
# <a name="application-settings-overview"></a><span data-ttu-id="38d41-103">Introducción a la configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="38d41-103">Application Settings Overview</span></span>

<span data-ttu-id="38d41-104">En este artículo se describe cómo crear y almacenar los datos de configuración en nombre de la aplicación y los usuarios.</span><span class="sxs-lookup"><span data-stu-id="38d41-104">This article discusses how to create and store settings data on behalf of your application and your users.</span></span>

 <span data-ttu-id="38d41-105">La característica Configuración de la aplicación de Windows Forms facilita la creación, el almacenamiento y el mantenimiento de las preferencias personalizadas de usuarios y aplicaciones en el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="38d41-105">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="38d41-106">Con Configuración de la aplicación de Windows Forms, no solo puede almacenar datos de las aplicaciones, como cadenas de conexión a bases de datos, sino también datos específicos de los usuarios, como las preferencias de la aplicación de un usuario.</span><span class="sxs-lookup"><span data-stu-id="38d41-106">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="38d41-107">Con Visual Studio o código administrado personalizado, puede crear una nueva configuración, leerla y escribirla en el disco, enlazarla a propiedades de los formularios y validar los datos de configuración antes de cargarlos y guardarlos.</span><span class="sxs-lookup"><span data-stu-id="38d41-107">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>

 <span data-ttu-id="38d41-108">La configuración de la aplicación permite a los desarrolladores guardar el estado en su aplicación con muy poco código personalizado, y sustituye a las propiedades dinámicas de las versiones anteriores del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="38d41-108">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the .NET Framework.</span></span> <span data-ttu-id="38d41-109">Configuración de la aplicación ofrece muchas mejoras en comparación con las propiedades dinámicas, que son de solo lectura, se enlazan en tiempo de ejecución y requieren más programación personalizada.</span><span class="sxs-lookup"><span data-stu-id="38d41-109">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="38d41-110">Las clases de propiedades dinámicas se han conservado en .NET Framework 2,0, pero solo son clases de Shell que ajustan finos las clases de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="38d41-110">The dynamic property classes have been retained in .NET Framework 2.0, but they are just shell classes that thinly wrap the application settings classes.</span></span>

## <a name="what-are-application-settings"></a><span data-ttu-id="38d41-111">¿Qué es Configuración de la aplicación?</span><span class="sxs-lookup"><span data-stu-id="38d41-111">What Are Application Settings?</span></span>
 <span data-ttu-id="38d41-112">A menudo, las aplicaciones Windows Forms requieren datos que son críticos para ejecutar la aplicación, pero que no desea incluir directamente en el código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="38d41-112">Your Windows Forms applications will often require data that's critical to running the application, but which you don't want to include directly in the application's code.</span></span> <span data-ttu-id="38d41-113">Si la aplicación utiliza un servicio web o un servidor de base de datos, puede que desee almacenar esta información en un archivo independiente, de modo que pueda cambiarla en el futuro sin tener que volver a compilarla.</span><span class="sxs-lookup"><span data-stu-id="38d41-113">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without recompiling.</span></span> <span data-ttu-id="38d41-114">De manera similar, puede que las aplicaciones necesiten almacenar datos específicos del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="38d41-114">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="38d41-115">La mayoría de las aplicaciones, por ejemplo, tienen preferencias del usuario con las que se personalizan la apariencia y el comportamiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="38d41-115">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>

 <span data-ttu-id="38d41-116">La característica Configuración de la aplicación cubre estas dos necesidades proporcionando una manera sencilla de almacenar tanto la configuración del ámbito del usuario como la del ámbito de la aplicación en el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="38d41-116">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="38d41-117">Con Visual Studio o un editor de código, puede definir una configuración para una propiedad determinada especificando su nombre, el tipo de datos y el ámbito (aplicación o usuario).</span><span class="sxs-lookup"><span data-stu-id="38d41-117">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="38d41-118">Incluso puede colocar configuraciones relacionadas en grupos con nombres para simplificar su uso y su legibilidad.</span><span class="sxs-lookup"><span data-stu-id="38d41-118">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="38d41-119">Una vez definida, esta configuración se conserva y se lee en la memoria automáticamente en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="38d41-119">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="38d41-120">Una arquitectura acoplable permite cambiar el mecanismo de persistencia, pero de forma predeterminada, se utiliza el sistema de archivos local.</span><span class="sxs-lookup"><span data-stu-id="38d41-120">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>

 <span data-ttu-id="38d41-121">Configuración de la aplicación funciona mediante la persistencia de los datos en XML para archivos de configuración (.config) diferentes, según si la configuración es del ámbito de la aplicación o del ámbito del usuario.</span><span class="sxs-lookup"><span data-stu-id="38d41-121">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="38d41-122">En la mayoría de los casos, la configuración del ámbito de la aplicación es de solo lectura. Dado que es información del programa, lo normal es que no tenga que sobrescribirla.</span><span class="sxs-lookup"><span data-stu-id="38d41-122">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="38d41-123">Por el contrario, la configuración del ámbito del usuario se puede leer y escribir de manera segura en tiempo de ejecución, aunque la aplicación se ejecute con confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="38d41-123">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="38d41-124">Para obtener más información acerca de la confianza parcial, consulte [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="38d41-124">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>

 <span data-ttu-id="38d41-125">Las configuraciones se almacenan como fragmentos XML en archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="38d41-125">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="38d41-126">La configuración del ámbito de la aplicación se representa con el elemento `<applicationSettings>` y, generalmente, se coloca en *aplicación*.exe.config, donde *aplicación* es el nombre del archivo ejecutable principal.</span><span class="sxs-lookup"><span data-stu-id="38d41-126">Application-scoped settings are represented by the `<applicationSettings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="38d41-127">La configuración del ámbito del usuario se representa con el elemento `<userSettings>` y se coloca en *usuario*.config, donde *usuario* es el nombre de usuario de la persona que está ejecutando la aplicación.</span><span class="sxs-lookup"><span data-stu-id="38d41-127">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="38d41-128">El archivo *aplicación*.exe.config se debe implementar con la aplicación. La arquitectura de la configuración creará los archivos *usuario*.config según sean necesarios la primera vez que la aplicación guarde la configuración de cada usuario.</span><span class="sxs-lookup"><span data-stu-id="38d41-128">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="38d41-129">También puede definir un bloque `<userSettings>` en *aplicación*.exe.config para proporcionar los valores predeterminados de la configuración del ámbito del usuario.</span><span class="sxs-lookup"><span data-stu-id="38d41-129">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>

 <span data-ttu-id="38d41-130">Los controles personalizados también pueden guardar su propia configuración implementando la interfaz <xref:System.Configuration.IPersistComponentSettings> , que expone el método <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> .</span><span class="sxs-lookup"><span data-stu-id="38d41-130">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="38d41-131">El control <xref:System.Windows.Forms.ToolStrip> de Windows Forms implementa esta interfaz para guardar la posición de las barras de herramientas y los elementos de las barras de herramientas entre una sesión de la aplicación y otra.</span><span class="sxs-lookup"><span data-stu-id="38d41-131">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="38d41-132">Para obtener más información acerca de los controles personalizados y la configuración de la aplicación, consulte [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="38d41-132">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>

## <a name="limitations-of-application-settings"></a><span data-ttu-id="38d41-133">Limitaciones de Configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="38d41-133">Limitations of Application Settings</span></span>
 <span data-ttu-id="38d41-134">No se puede usar la configuración de la aplicación en una aplicación no administrada que hospede el .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="38d41-134">You cannot use application settings in an unmanaged application that hosts the .NET Framework.</span></span> <span data-ttu-id="38d41-135">La configuración no funciona en entornos como los complementos de Visual Studio, C++ para Microsoft Office, el hospedaje de controles en Internet Explorer o los complementos y proyectos de Microsoft Outlook.</span><span class="sxs-lookup"><span data-stu-id="38d41-135">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>

 <span data-ttu-id="38d41-136">Actualmente, no es posible enlazar a algunas propiedades en Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="38d41-136">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="38d41-137">El ejemplo más notable es la propiedad <xref:System.Windows.Forms.Form.ClientSize%2A> : si se enlaza a esta propiedad, puede producirse un comportamiento impredecible en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="38d41-137">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="38d41-138">Normalmente, puede solucionar estos problemas guardando y cargando estas opciones con programación.</span><span class="sxs-lookup"><span data-stu-id="38d41-138">You can usually work around these issues by saving and loading these settings programmatically.</span></span>

 <span data-ttu-id="38d41-139">Configuración de la aplicación no tiene ninguna funcionalidad integrada para cifrar la información de forma automática.</span><span class="sxs-lookup"><span data-stu-id="38d41-139">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="38d41-140">Nunca debe almacenar información relacionada con la seguridad, como contraseñas de bases de datos, en texto no cifrado.</span><span class="sxs-lookup"><span data-stu-id="38d41-140">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="38d41-141">Si quiere almacenar ese tipo de información confidencial, como desarrollador de la aplicación, es usted el responsable de asegurarse de que esté protegida.</span><span class="sxs-lookup"><span data-stu-id="38d41-141">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="38d41-142">Si quiere almacenar cadenas de conexión, le recomendamos que utilice la seguridad integrada de Windows y que no recurra a especificar las contraseñas de forma rígida en la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="38d41-142">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="38d41-143">Para obtener más información, consulta [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="38d41-143">For more information, see [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span></span>

## <a name="getting-started-with-application-settings"></a><span data-ttu-id="38d41-144">Introducción a Configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="38d41-144">Getting Started with Application Settings</span></span>
 <span data-ttu-id="38d41-145">Si utiliza Visual Studio, puede definir la configuración en el Diseñador de Windows Forms con la propiedad **(ApplicationSettings)** en la ventana **Propiedades** .</span><span class="sxs-lookup"><span data-stu-id="38d41-145">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="38d41-146">Al definir la configuración de esta manera, Visual Studio crea automáticamente una clase contenedora administrada personalizada que asocia cada configuración a una propiedad de clase.</span><span class="sxs-lookup"><span data-stu-id="38d41-146">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class that associates each setting with a class property.</span></span> <span data-ttu-id="38d41-147">Visual Studio también se ocupa de enlazar el ajuste a una propiedad de un formulario o control para que la configuración del control se restaure automáticamente cuando se muestre su formulario y se guarde automáticamente al cerrar el formulario.</span><span class="sxs-lookup"><span data-stu-id="38d41-147">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>

 <span data-ttu-id="38d41-148">Si quiere controlar la configuración con más precisión, puede definir su propia clase contenedora de configuración de la aplicación personalizada.</span><span class="sxs-lookup"><span data-stu-id="38d41-148">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="38d41-149">Para hacerlo, derive una clase de <xref:System.Configuration.ApplicationSettingsBase>, agregue una propiedad que corresponda a cada ajuste y aplique atributos especiales a estas propiedades.</span><span class="sxs-lookup"><span data-stu-id="38d41-149">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="38d41-150">Para obtener más información acerca de cómo crear clases contenedoras, consulte [Application Settings Architecture](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="38d41-150">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>

 <span data-ttu-id="38d41-151">También puede utilizar la clase <xref:System.Windows.Forms.Binding> para enlazar la configuración con programación a las propiedades de formularios y controles.</span><span class="sxs-lookup"><span data-stu-id="38d41-151">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>

## <a name="see-also"></a><span data-ttu-id="38d41-152">Vea también</span><span class="sxs-lookup"><span data-stu-id="38d41-152">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="38d41-153">Procedimiento para validar la configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="38d41-153">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="38d41-154">Administrar la configuración de la aplicación (.NET)</span><span class="sxs-lookup"><span data-stu-id="38d41-154">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="38d41-155">Cómo leer valores de configuración en tiempo de ejecución con C#</span><span class="sxs-lookup"><span data-stu-id="38d41-155">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="38d41-156">Utilizar valores de configuración de aplicación y de usuario</span><span class="sxs-lookup"><span data-stu-id="38d41-156">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="38d41-157">Arquitectura de configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="38d41-157">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="38d41-158">Configuración de la aplicación para controles personalizados</span><span class="sxs-lookup"><span data-stu-id="38d41-158">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
