---
title: <sqlWorkflowInstanceStore>
ms.date: 03/30/2017
ms.topic: reference
ms.assetid: 8a4e4214-fc51-4f4d-b968-0427c37a9520
ms.openlocfilehash: d6c86d02e14a38c2a35ba4858c4abfea73268fd8
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91148716"
---
# \<sqlWorkflowInstanceStore>

<span data-ttu-id="e6247-101">Un comportamiento del servicio que permite configurar la característica <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, que admite la conservación de la información de estado de las instancias del servicio de flujo de trabajo en una base de datos SQL Server 2005 o SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="e6247-101">A service behavior that allows you to configure the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> feature, which supports persisting state information for workflow service instances into an SQL Server 2005 or SQL Server 2008 database.</span></span> <span data-ttu-id="e6247-102">Para obtener más información sobre esta característica, consulte [almacén de instancias de flujo de trabajo de SQL](../../../windows-workflow-foundation/sql-workflow-instance-store.md).</span><span class="sxs-lookup"><span data-stu-id="e6247-102">For more information on this feature, see [SQL Workflow Instance Store](../../../windows-workflow-foundation/sql-workflow-instance-store.md).</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.ServiceModel>**](system-servicemodel-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<behaviors>**](behaviors-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<serviceBehaviors>**](servicebehaviors-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<behavior>**](behavior-of-servicebehaviors-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<sqlWorkflowInstanceStore>**  
  
## <a name="syntax"></a><span data-ttu-id="e6247-103">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="e6247-103">Syntax</span></span>  
  
```xml  
<behaviors>
  <serviceBehaviors>
    <behavior name="String">
      <sqlWorkflowInstanceStore connectionStringName="String"
                                hostLockRenewalPeriod="TimeSpan"
                                instanceCompletionAction="DeleteNothing/DeleteAll"
                                instanceEncodingAction="None/GZip"
                                instanceLockedExceptionAction="NoRetry/BasicRetry/AggressiveRetry"
                                runnableInstancesDetectionPeriod="TimeSpan" />
    </behavior>
  </serviceBehaviors>
</behaviors>  
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="e6247-104">Atributos y elementos</span><span class="sxs-lookup"><span data-stu-id="e6247-104">Attributes and Elements</span></span>  

 <span data-ttu-id="e6247-105">En las siguientes secciones se describen los atributos, los elementos secundarios y los elementos primarios.</span><span class="sxs-lookup"><span data-stu-id="e6247-105">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="e6247-106">Atributos</span><span class="sxs-lookup"><span data-stu-id="e6247-106">Attributes</span></span>  
  
|<span data-ttu-id="e6247-107">Atributo</span><span class="sxs-lookup"><span data-stu-id="e6247-107">Attribute</span></span>|<span data-ttu-id="e6247-108">Descripción</span><span class="sxs-lookup"><span data-stu-id="e6247-108">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="e6247-109">connectionString</span><span class="sxs-lookup"><span data-stu-id="e6247-109">connectionString</span></span>|<span data-ttu-id="e6247-110">Una cadena que contiene una cadena de conexión que usa para conectarse a una base de datos de persistencia subyacente.</span><span class="sxs-lookup"><span data-stu-id="e6247-110">A string that contains a connection string used to connect to an underlying persistence database.</span></span>|  
|<span data-ttu-id="e6247-111">connectionStringName</span><span class="sxs-lookup"><span data-stu-id="e6247-111">connectionStringName</span></span>|<span data-ttu-id="e6247-112">Cadena que contiene una cadena de conexión con nombre en el servidor de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="e6247-112">A string that contains a named connection string to the database server.</span></span> <span data-ttu-id="e6247-113">Un ejemplo de una cadena de conexión con nombre es "DefaultConnectionString".</span><span class="sxs-lookup"><span data-stu-id="e6247-113">An example of a named connection string is "DefaultConnectionString".</span></span>|  
|<span data-ttu-id="e6247-114">hostLockRenewalPeriod</span><span class="sxs-lookup"><span data-stu-id="e6247-114">hostLockRenewalPeriod</span></span>|<span data-ttu-id="e6247-115">Valor de Timespan que especifica el período de tiempo en el que el host debe renovar el bloqueo en una instancia.</span><span class="sxs-lookup"><span data-stu-id="e6247-115">A Timespan value that specifies the time period in which the host must renew the lock on an instance.</span></span> <span data-ttu-id="e6247-116">Si el host no renueva el bloqueo en el período de tiempo especificado, la instancia se desbloquea y se puede escoger a por otro host.</span><span class="sxs-lookup"><span data-stu-id="e6247-116">If the host does not renew the lock in the specified time period, the instance is unlocked and may be picked up by another host.</span></span><br /><br /> <span data-ttu-id="e6247-117">Descargar un flujo de trabajo implica que también se conserva.</span><span class="sxs-lookup"><span data-stu-id="e6247-117">Unloading a workflow implies that it is also persisted.</span></span> <span data-ttu-id="e6247-118">Si este atributo se pone a cero, la instancia de flujo de trabajo se conserva y se descarga de inmediato en cuanto el flujo de trabajo se vuelve inactivo.</span><span class="sxs-lookup"><span data-stu-id="e6247-118">If this attribute is set to zero the workflow instance is persisted and unloaded immediately after the workflow becomes idle.</span></span> <span data-ttu-id="e6247-119">Al establecer este atributo en TimeSpan.MaxValue, se deshabilita de forma eficaz la operación de descarga.</span><span class="sxs-lookup"><span data-stu-id="e6247-119">Setting this attribute to TimeSpan.MaxValue effectively disables the unload operation.</span></span> <span data-ttu-id="e6247-120">Las instancias de flujo de trabajo inactivas nunca se descargan.</span><span class="sxs-lookup"><span data-stu-id="e6247-120">Idle workflow instances are never unloaded.</span></span>|  
|<span data-ttu-id="e6247-121">instanceCompletionAction</span><span class="sxs-lookup"><span data-stu-id="e6247-121">instanceCompletionAction</span></span>|<span data-ttu-id="e6247-122">Un valor que especifica si los datos de la instancia de flujo de trabajo se mantienen en el almacén de persistencia después de que la instancia de flujo de trabajo se complete o si se ha eliminado en ese punto.</span><span class="sxs-lookup"><span data-stu-id="e6247-122">A value that specifies whether workflow instance data is kept in the persistence store after the workflow instance completes or if it is deleted at that point.</span></span> <span data-ttu-id="e6247-123">Este valor es del tipo <xref:System.Activities.DurableInstancing.InstanceCompletionAction>.</span><span class="sxs-lookup"><span data-stu-id="e6247-123">This value is of type <xref:System.Activities.DurableInstancing.InstanceCompletionAction>.</span></span><br /><br /> <span data-ttu-id="e6247-124">Las acciones enumeradas consisten en eliminar los datos de instancia del almacén de persistencia o en no eliminar los datos de instancia del almacén de persistencia cuando la instancia haya completado su operación.</span><span class="sxs-lookup"><span data-stu-id="e6247-124">The enumerated actions consist of deleting the instance data from the persistence store or not deleting the instance data from the persistence store, when the instance has completed its operation.</span></span><br /><br /> <span data-ttu-id="e6247-125">Mantener las instancias una vez completadas provoca que la base de datos de persistencia crezca rápidamente y esto afecta al rendimiento de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="e6247-125">Keeping instances after completion causes the persistence database to grow rapidly and this affects the performance of the database.</span></span> <span data-ttu-id="e6247-126">Debería configurar una directiva de purga de base de datos para eliminar estos registros de forma periódica para asegurarse de que el rendimiento de la base de datos está en el nivel que satisface sus requisitos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e6247-126">You should configure a database purge policy to delete these records periodically to ensure that the performance of the database is at the level that satisfy your performance requirements.</span></span>|  
|<span data-ttu-id="e6247-127">instanceEncodingOption</span><span class="sxs-lookup"><span data-stu-id="e6247-127">instanceEncodingOption</span></span>|<span data-ttu-id="e6247-128">Un valor opcional que especifica si la información de estado de la instancia se comprime utilizando el algoritmo Gzip antes de que la información se guarde en el almacén de persistencia.</span><span class="sxs-lookup"><span data-stu-id="e6247-128">An optional value that specifies  whether the instance state information is compressed using the GZip algorithm before the information is saved in the persistence store..</span></span> <span data-ttu-id="e6247-129">Este valor es del tipo <xref:System.Activities.DurableInstancing.InstanceEncodingOption>.</span><span class="sxs-lookup"><span data-stu-id="e6247-129">This value is of type <xref:System.Activities.DurableInstancing.InstanceEncodingOption>.</span></span> <span data-ttu-id="e6247-130">Los valores posibles para esta propiedad son <xref:System.Activities.DurableInstancing.InstanceEncodingOption.None> , que no especifica ninguna compresión, y <xref:System.Activities.DurableInstancing.InstanceEncodingOption.GZip> , que especifica que los datos de instancia se comprimen y usan el algoritmo gzip.</span><span class="sxs-lookup"><span data-stu-id="e6247-130">Possible values for this property are <xref:System.Activities.DurableInstancing.InstanceEncodingOption.None>, which specifies no compression, and <xref:System.Activities.DurableInstancing.InstanceEncodingOption.GZip>, which specifies that instance data is compressed and uses the gzip algorithm.</span></span>|  
|<span data-ttu-id="e6247-131">instanceLockedExceptionAction</span><span class="sxs-lookup"><span data-stu-id="e6247-131">instanceLockedExceptionAction</span></span>|<span data-ttu-id="e6247-132">Un valor que especifica la acción que se produce en respuesta a una excepción que se produce cuando el host intenta bloquear una instancia porque otro host bloquea actualmente la instancia.</span><span class="sxs-lookup"><span data-stu-id="e6247-132">A value that specifies the action that occurs in response to an exception that is thrown when the host tries to lock an instance because the instance is currently locked by another host.</span></span> <span data-ttu-id="e6247-133">Este valor es del tipo <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction>.</span><span class="sxs-lookup"><span data-stu-id="e6247-133">This value is of type <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction>.</span></span><br /><br /> <span data-ttu-id="e6247-134">Las opciones permitidas para este campo son: Ninguno, intento básico y reintento agresivo.</span><span class="sxs-lookup"><span data-stu-id="e6247-134">The options allowed for this field are: None, Basic Retry, and Aggressive Retry.</span></span> <span data-ttu-id="e6247-135">El valor predeterminado es Ninguno.</span><span class="sxs-lookup"><span data-stu-id="e6247-135">The default value is None.</span></span> <span data-ttu-id="e6247-136">La siguiente lista proporciona las descripciones de estas tres opciones:</span><span class="sxs-lookup"><span data-stu-id="e6247-136">The following list provides you with the descriptions for these three options:</span></span><br /><br /> <span data-ttu-id="e6247-137">-   Ninguno.</span><span class="sxs-lookup"><span data-stu-id="e6247-137">-   None.</span></span> <span data-ttu-id="e6247-138">El host del servicio no intenta bloquear la instancia y pasa el objeto <xref:System.Runtime.DurableInstancing.InstanceLockedException> al autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="e6247-138">The service host does not attempt to lock the instance and passes the <xref:System.Runtime.DurableInstancing.InstanceLockedException> to the caller.</span></span><br /><span data-ttu-id="e6247-139">-Reintento básico.</span><span class="sxs-lookup"><span data-stu-id="e6247-139">-   Basic Retry.</span></span> <span data-ttu-id="e6247-140">El host del servicio vuelve a intentar bloquear la instancia con un intervalo de reintento lineal y pasa la excepción al autor de la llamada al final de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="e6247-140">The service host reattempts to lock the instance with a linear retry interval and passes the exception to the caller at the end of the sequence.</span></span><br /><span data-ttu-id="e6247-141">-Reintento agresivo.</span><span class="sxs-lookup"><span data-stu-id="e6247-141">-   Aggressive Retry.</span></span> <span data-ttu-id="e6247-142">El host del servicio vuelve a intentar bloquear la instancia con un retraso en aumento exponencial y pasa el objeto <xref:System.Runtime.DurableInstancing.InstanceLockedException> al autor de llamada al final de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="e6247-142">The service host reattempts to lock the instance with an exponentially increasing delay and passes the <xref:System.Runtime.DurableInstancing.InstanceLockedException> to the caller at the end of the sequence.</span></span>|  
|<span data-ttu-id="e6247-143">runnableInstancesDetectionPeriod</span><span class="sxs-lookup"><span data-stu-id="e6247-143">runnableInstancesDetectionPeriod</span></span>||  
  
### <a name="child-elements"></a><span data-ttu-id="e6247-144">Elementos secundarios</span><span class="sxs-lookup"><span data-stu-id="e6247-144">Child Elements</span></span>  

 <span data-ttu-id="e6247-145">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="e6247-145">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="e6247-146">Elementos primarios</span><span class="sxs-lookup"><span data-stu-id="e6247-146">Parent Elements</span></span>  
  
|<span data-ttu-id="e6247-147">Elemento</span><span class="sxs-lookup"><span data-stu-id="e6247-147">Element</span></span>|<span data-ttu-id="e6247-148">Descripción</span><span class="sxs-lookup"><span data-stu-id="e6247-148">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="e6247-149">\<behavior> de \<serviceBehaviors></span><span class="sxs-lookup"><span data-stu-id="e6247-149">\<behavior> of \<serviceBehaviors></span></span>](behavior-of-servicebehaviors-of-workflow.md)|<span data-ttu-id="e6247-150">Especifica un elemento de comportamiento.</span><span class="sxs-lookup"><span data-stu-id="e6247-150">Specifies a behavior element.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e6247-151">Vea también</span><span class="sxs-lookup"><span data-stu-id="e6247-151">See also</span></span>

- <xref:System.ServiceModel.Activities.Description.SqlWorkflowInstanceStoreBehavior>
- <xref:System.ServiceModel.Activities.Configuration.SqlWorkflowInstanceStoreElement>
- <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>
- [<span data-ttu-id="e6247-152">Almacén de instancias de flujo de trabajo de SQL</span><span class="sxs-lookup"><span data-stu-id="e6247-152">SQL Workflow Instance Store</span></span>](../../../windows-workflow-foundation/sql-workflow-instance-store.md)
