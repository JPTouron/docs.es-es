---
title: <serviceSecurityAudit>
ms.date: 03/30/2017
ms.assetid: ba517369-a034-4f8e-a2c4-66517716062b
ms.openlocfilehash: 10888f26053014ffb1fec49d1dfe87c7fd09ab54
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/06/2020
ms.locfileid: "70399578"
---
# \<serviceSecurityAudit>
<span data-ttu-id="db525-101">Especifica valores que habilitan la auditoría de eventos de seguridad durante las operaciones del servicio.</span><span class="sxs-lookup"><span data-stu-id="db525-101">Specifies settings that enable auditing of security events during service operations.</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<behaviors>**](behaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<serviceBehaviors>**](servicebehaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<behavior>**](behavior-of-servicebehaviors.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<serviceSecurityAudit>**  
  
## <a name="syntax"></a><span data-ttu-id="db525-102">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="db525-102">Syntax</span></span>  
  
```xml  
<serviceSecurityAudit auditLogLocation="Default/Application/Security"
                      messageAuthenticationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      serviceAuthorizationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      suppressAuditFailure="Boolean" />
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="db525-103">Atributos y elementos</span><span class="sxs-lookup"><span data-stu-id="db525-103">Attributes and Elements</span></span>  
 <span data-ttu-id="db525-104">En las siguientes secciones se describen los atributos, los elementos secundarios y los elementos primarios.</span><span class="sxs-lookup"><span data-stu-id="db525-104">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="db525-105">Atributos</span><span class="sxs-lookup"><span data-stu-id="db525-105">Attributes</span></span>  
  
|<span data-ttu-id="db525-106">Atributo</span><span class="sxs-lookup"><span data-stu-id="db525-106">Attribute</span></span>|<span data-ttu-id="db525-107">Descripción</span><span class="sxs-lookup"><span data-stu-id="db525-107">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="db525-108">auditLogLocation</span><span class="sxs-lookup"><span data-stu-id="db525-108">auditLogLocation</span></span>|<span data-ttu-id="db525-109">Especifica la ubicación del registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="db525-109">Specifies the location of the audit log.</span></span> <span data-ttu-id="db525-110">Los valores válidos incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="db525-110">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="db525-111">-Default: los eventos de seguridad se escriben en el registro de la aplicación en Windows XP y en el registro de eventos en Windows Server 2003 y Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="db525-111">-   Default: Security events are written to the application log on Windows XP, and to the Event Log on Windows Server 2003 and Windows Vista.</span></span><br /><span data-ttu-id="db525-112">-Application: los eventos de auditoría se escriben en el registro de eventos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="db525-112">-   Application: Audit events are written to the Application Event Log.</span></span><br /><span data-ttu-id="db525-113">-Security: los eventos de auditoría se escriben en el registro de eventos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="db525-113">-   Security: Audit events are written to the Security Event Log.</span></span><br /><br /> <span data-ttu-id="db525-114">El valor predeterminado es Default.</span><span class="sxs-lookup"><span data-stu-id="db525-114">The default value is Default.</span></span> <span data-ttu-id="db525-115">Para obtener más información, vea <xref:System.ServiceModel.AuditLogLocation>.</span><span class="sxs-lookup"><span data-stu-id="db525-115">For more information, see <xref:System.ServiceModel.AuditLogLocation>.</span></span>|  
|<span data-ttu-id="db525-116">suppressAuditFailure</span><span class="sxs-lookup"><span data-stu-id="db525-116">suppressAuditFailure</span></span>|<span data-ttu-id="db525-117">Un valor booleano que especifica el comportamiento para suprimir errores al escribir en el registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="db525-117">A Boolean value that specifies the behavior for suppressing failures of writing to the audit log.</span></span><br /><br /> <span data-ttu-id="db525-118">Se debería notificar a las aplicaciones de los errores de escritura en el registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="db525-118">Applications should be notified for failures of writing to the audit log.</span></span> <span data-ttu-id="db525-119">Si su aplicación no está diseñada para administrar errores de auditoría, debería usar este atributo para suprimir errores de escritura en el registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="db525-119">If your application is not designed to handle audit failures, you should use this attribute to suppress failures in writing to the audit log.</span></span><br /><br /> <span data-ttu-id="db525-120">Si este atributo es `true`, el sistema administra excepciones distintas de OutOfMemoryException, StackOverFlowException, ThreadAbortException y ArgumentException que son el resultado de los intentos de escribir los eventos de auditoría y no se propagan a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="db525-120">If this attribute is `true`, exceptions other than OutOfMemoryException, StackOverFlowException, ThreadAbortException, and ArgumentException that result from attempts to write audit events are handled by the system, and are not propagated to the application.</span></span> <span data-ttu-id="db525-121">Si este atributo es `false`, todas las excepciones que son el resultado de los intentos por escribir los eventos de auditoría se pasan a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="db525-121">If this attribute is `false`, all exceptions that result from attempts to write audit events are passed up to the application.</span></span><br /><br /> <span data-ttu-id="db525-122">De manera predeterminada, es `true`.</span><span class="sxs-lookup"><span data-stu-id="db525-122">The default is `true`.</span></span>|  
|<span data-ttu-id="db525-123">serviceAuthorizationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="db525-123">serviceAuthorizationAuditLevel</span></span>|<span data-ttu-id="db525-124">Especifica los tipos de eventos de autorización que se graban en el registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="db525-124">Specifies the types of authorization events that are recorded in the audit log.</span></span> <span data-ttu-id="db525-125">Los valores válidos incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="db525-125">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="db525-126">-None: no se realiza ninguna auditoría de eventos de autorización de servicio.</span><span class="sxs-lookup"><span data-stu-id="db525-126">-   None: No auditing of service authorization events is performed.</span></span><br /><span data-ttu-id="db525-127">-Success: solo se auditan los eventos de autorización de servicio correctos.</span><span class="sxs-lookup"><span data-stu-id="db525-127">-   Success: Only successful service authorization events are audited.</span></span><br /><span data-ttu-id="db525-128">-Error: solo se auditan los eventos de autorización de servicio con errores.</span><span class="sxs-lookup"><span data-stu-id="db525-128">-   Failure: Only failure service authorization events are audited.</span></span><br /><span data-ttu-id="db525-129">-SuccessOrFailure: se auditan los eventos de autorización de servicio correctos y erróneos.</span><span class="sxs-lookup"><span data-stu-id="db525-129">-   SuccessOrFailure: Both success and failure service authorization events are audited.</span></span><br /><br /> <span data-ttu-id="db525-130">El valor predeterminado es Ninguno.</span><span class="sxs-lookup"><span data-stu-id="db525-130">The default value is None.</span></span> <span data-ttu-id="db525-131">Para obtener más información, vea <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="db525-131">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
|<span data-ttu-id="db525-132">messageAuthenticationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="db525-132">messageAuthenticationAuditLevel</span></span>|<span data-ttu-id="db525-133">Especifica el tipo de eventos de auditoría de autenticación de mensajes registrados.</span><span class="sxs-lookup"><span data-stu-id="db525-133">Specifies the type of message authentication audit events logged.</span></span> <span data-ttu-id="db525-134">Los valores válidos incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="db525-134">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="db525-135">-None: no se generan eventos de auditoría.</span><span class="sxs-lookup"><span data-stu-id="db525-135">-   None: No audit events are generated.</span></span><br /><span data-ttu-id="db525-136">-Success: solo se registran los eventos de seguridad correcta (validación completa, incluidos la validación de la firma del mensaje, el cifrado y la validación del token).</span><span class="sxs-lookup"><span data-stu-id="db525-136">-   Success: Only successful security (full validation including message signature validation, cipher, and token validation) events are logged.</span></span><br /><span data-ttu-id="db525-137">-Error: solo se registran los eventos de error.</span><span class="sxs-lookup"><span data-stu-id="db525-137">-   Failure: Only failure events are logged.</span></span><br /><span data-ttu-id="db525-138">-SuccessOrFailure: se registran los eventos correctos y los errores.</span><span class="sxs-lookup"><span data-stu-id="db525-138">-   SuccessOrFailure: Both success and failure events are logged.</span></span><br /><br /> <span data-ttu-id="db525-139">El valor predeterminado es Ninguno.</span><span class="sxs-lookup"><span data-stu-id="db525-139">The default value is None.</span></span> <span data-ttu-id="db525-140">Para obtener más información, vea <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="db525-140">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="db525-141">Elementos secundarios</span><span class="sxs-lookup"><span data-stu-id="db525-141">Child Elements</span></span>  
 <span data-ttu-id="db525-142">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="db525-142">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="db525-143">Elementos primarios</span><span class="sxs-lookup"><span data-stu-id="db525-143">Parent Elements</span></span>  
  
|<span data-ttu-id="db525-144">Elemento</span><span class="sxs-lookup"><span data-stu-id="db525-144">Element</span></span>|<span data-ttu-id="db525-145">Descripción</span><span class="sxs-lookup"><span data-stu-id="db525-145">Description</span></span>|  
|-------------|-----------------|  
|[\<behavior>](behavior-of-endpointbehaviors.md)|<span data-ttu-id="db525-146">Especifica un elemento de comportamiento.</span><span class="sxs-lookup"><span data-stu-id="db525-146">Specifies a behavior element.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="db525-147">Comentarios</span><span class="sxs-lookup"><span data-stu-id="db525-147">Remarks</span></span>  
 <span data-ttu-id="db525-148">Este elemento de configuración se utiliza para auditar eventos de autenticación Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="db525-148">This configuration element is used to audit Windows Communication Foundation (WCF) authentication events.</span></span> <span data-ttu-id="db525-149">Cuando la auditoría está habilitada, se pueden auditar intentos de autenticación correctos (o ambos) o fallidos.</span><span class="sxs-lookup"><span data-stu-id="db525-149">When auditing is enabled, either successful or failed authentication attempts (or both) can be audited.</span></span> <span data-ttu-id="db525-150">Los eventos se escriben en uno de tres registros de eventos: aplicación, seguridad o registro predeterminado para la versión de sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="db525-150">The events are written to one of three event logs: application, security, or the default log for the operating system version.</span></span> <span data-ttu-id="db525-151">Los registros de eventos  se pueden ver utilizando el Visor de eventos de Windows.</span><span class="sxs-lookup"><span data-stu-id="db525-151">The event logs can all be viewed using the Windows Event viewer.</span></span>  
  
 <span data-ttu-id="db525-152">Para obtener un ejemplo detallado del uso de este elemento de configuración, vea comportamiento de la [Auditoría del servicio](../../../wcf/samples/service-auditing-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="db525-152">For a detailed example of using this configuration element, see [Service Auditing Behavior](../../../wcf/samples/service-auditing-behavior.md).</span></span>  
  
 <span data-ttu-id="db525-153">De forma predeterminada, en Windows XP los eventos de auditoría se pueden ver en el registro de aplicaciones, mientras que en Windows Server 2003 y Windows Vista, los eventos de auditoría se pueden ver en el registro de seguridad.</span><span class="sxs-lookup"><span data-stu-id="db525-153">By default, on Windows XP the audit events can be seen in the Application Log; while on Windows Server 2003 and Windows Vista, the audit events can be seen in the Security Log.</span></span> <span data-ttu-id="db525-154">Se puede especificar la ubicación de los eventos de auditoría estableciendo el atributo `auditLogLocation` en 'Aplicación' o 'Seguridad'.</span><span class="sxs-lookup"><span data-stu-id="db525-154">The location of audit events can be specified by setting the `auditLogLocation` attribute to 'Application' or 'Security'.</span></span> <span data-ttu-id="db525-155">Para obtener más información, consulte [Cómo: auditar eventos de seguridad](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="db525-155">For more information, see [How to: Audit Security Events](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span></span> <span data-ttu-id="db525-156">Si los eventos se escriben en el registro de seguridad, se debe establecer el valor de LocalSecurityPolicy-> habilitar el acceso a objetos para "Success" y "Failure".</span><span class="sxs-lookup"><span data-stu-id="db525-156">If the events are written in the Security Log, the LocalSecurityPolicy-> Enable Object Access should be set for "Success" and "Failure".</span></span>  
  
 <span data-ttu-id="db525-157">Al examinar el registro de eventos, el origen de los eventos de auditoría es "ServiceModel Audit 3.0.0.0".</span><span class="sxs-lookup"><span data-stu-id="db525-157">When looking at the event log, the source of the audit events is "ServiceModel Audit 3.0.0.0".</span></span> <span data-ttu-id="db525-158">Los registros de auditoría de autenticación de mensajes tienen una categoría de "MessageAuthentication" mientras que los registros de auditoría de autorización tienen una categoría de 'ServiceAuthorization'.</span><span class="sxs-lookup"><span data-stu-id="db525-158">Message authentication audit records have a category of "MessageAuthentication" while service authorization audit records have a category of 'ServiceAuthorization'.</span></span>  
  
 <span data-ttu-id="db525-159">Los eventos de auditoría de autenticación de mensajes incluyen si el mensaje se manipuló, si el mensaje ha expirado y si el cliente puede autenticar el servicio.</span><span class="sxs-lookup"><span data-stu-id="db525-159">Message authentication audit events cover whether the message was tampered with, whether the message has expired and whether the client can authenticate to the service.</span></span> <span data-ttu-id="db525-160">Proporcionan información sobre si la autenticación fue correcta o no con la identidad del cliente y el punto de conexión al que se envió el mensaje, junto con la acción asociada al mensaje.</span><span class="sxs-lookup"><span data-stu-id="db525-160">They provide information about whether the authentication succeeded or failed along with the identity of the client and the endpoint the message was sent to along with the action associated with the message.</span></span>  
  
 <span data-ttu-id="db525-161">Los eventos de auditoría de autorización de servicio incluyen la decisión de la autorización realizada por un administrador de autorización del servicio.</span><span class="sxs-lookup"><span data-stu-id="db525-161">Service authorization audit events cover the authorization decision made by a service authorization manager.</span></span> <span data-ttu-id="db525-162">Proporcionan información sobre si la autorización tuvo éxito o no, así como la identidad del cliente, el extremo al que se envió el mensaje, la acción asociada al mensaje, el identificador del contexto de autorización que se generó a partir del mensaje entrante y el tipo de administrador de autorización que tomó la decisión de acceso.</span><span class="sxs-lookup"><span data-stu-id="db525-162">They provide information about whether authorization succeeded or failed along with the identity of the client, the endpoint the message was sent to, the action associated with the message, the identifier of the authorization context that was generated from the incoming message and the type of the authorization manager that made the access decision.</span></span>  
  
## <a name="example"></a><span data-ttu-id="db525-163">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="db525-163">Example</span></span>  
  
```xml  
<system.serviceModel>
  <behaviors>
    <serviceBehaviors>
      <behavior name="NewBehavior">
        <serviceSecurityAudit auditLogLocation="Application"
                              suppressAuditFailure="true"
                              serviceAuthorizationAuditLevel="Success"
                              messageAuthenticationAuditLevel="Success" />
      </behavior>
    </serviceBehaviors>
  </behaviors>
</system.serviceModel>
```  
  
## <a name="see-also"></a><span data-ttu-id="db525-164">Consulte también</span><span class="sxs-lookup"><span data-stu-id="db525-164">See also</span></span>

- <xref:System.ServiceModel.Configuration.ServiceSecurityAuditElement>
- <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior>
- [<span data-ttu-id="db525-165">Comportamientos de seguridad</span><span class="sxs-lookup"><span data-stu-id="db525-165">Security Behaviors</span></span>](../../../wcf/feature-details/security-behaviors-in-wcf.md)
- [<span data-ttu-id="db525-166">Auditoría</span><span class="sxs-lookup"><span data-stu-id="db525-166">Auditing</span></span>](../../../wcf/feature-details/auditing-security-events.md)
- [<span data-ttu-id="db525-167">Procedimiento para auditar eventos de seguridad</span><span class="sxs-lookup"><span data-stu-id="db525-167">How to: Audit Security Events</span></span>](../../../wcf/feature-details/how-to-audit-wcf-security-events.md)
- [<span data-ttu-id="db525-168">Comportamiento de auditoría de servicio</span><span class="sxs-lookup"><span data-stu-id="db525-168">Service Auditing Behavior</span></span>](../../../wcf/samples/service-auditing-behavior.md)
