---
title: Información general sobre la representación de gráficos
description: Obtenga información sobre el rol de la clase de representación de gráficos básica desde la que cada objeto se deriva en el Windows Presentation Foundation (WPF).
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- graphics [WPF], rendering
- rendering graphics [WPF]
ms.assetid: 6dec9657-4d8c-4e46-8c54-40fb80008265
ms.openlocfilehash: 96a7ea999f27e89dc22c10329214de7e3fa60341
ms.sourcegitcommit: b6a1869f97a37f11a68c90afde1a520a6887dcbc
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/02/2020
ms.locfileid: "85853631"
---
# <a name="wpf-graphics-rendering-overview"></a><span data-ttu-id="927eb-103">Información general sobre la representación de gráficos en WPF</span><span class="sxs-lookup"><span data-stu-id="927eb-103">WPF Graphics Rendering Overview</span></span>
<span data-ttu-id="927eb-104">En este tema se ofrece información de la capa de objeto visual de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="927eb-104">This topic provides an overview of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual layer.</span></span> <span data-ttu-id="927eb-105">Se centra en el rol de la <xref:System.Windows.Media.Visual> clase para la compatibilidad de representación en el [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] modelo.</span><span class="sxs-lookup"><span data-stu-id="927eb-105">It focuses on the role of the <xref:System.Windows.Media.Visual> class for rendering support in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] model.</span></span>  

<a name="role_of_visual_object"></a>
## <a name="role-of-the-visual-object"></a><span data-ttu-id="927eb-106">Rol del objeto visual</span><span class="sxs-lookup"><span data-stu-id="927eb-106">Role of the Visual Object</span></span>  
 <span data-ttu-id="927eb-107">La <xref:System.Windows.Media.Visual> clase es la abstracción básica de la que se <xref:System.Windows.FrameworkElement> derivan todos los objetos.</span><span class="sxs-lookup"><span data-stu-id="927eb-107">The <xref:System.Windows.Media.Visual> class is the basic abstraction from which every <xref:System.Windows.FrameworkElement> object derives.</span></span> <span data-ttu-id="927eb-108">También sirve como punto de entrada para escribir controles nuevos en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], y en muchos sentidos se puede considerar el identificador de ventana (HWND) del modelo de aplicación de Win32.</span><span class="sxs-lookup"><span data-stu-id="927eb-108">It also serves as the entry point for writing new controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], and in many ways can be thought of as the window handle (HWND) in the Win32 application model.</span></span>  
  
 <span data-ttu-id="927eb-109">El <xref:System.Windows.Media.Visual> objeto es un [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] objeto principal, cuyo rol principal es proporcionar compatibilidad con la representación.</span><span class="sxs-lookup"><span data-stu-id="927eb-109">The <xref:System.Windows.Media.Visual> object is a core [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] object, whose primary role is to provide rendering support.</span></span> <span data-ttu-id="927eb-110">Los controles de interfaz de usuario, como <xref:System.Windows.Controls.Button> y <xref:System.Windows.Controls.TextBox> , se derivan de la <xref:System.Windows.Media.Visual> clase y lo utilizan para conservar los datos de representación.</span><span class="sxs-lookup"><span data-stu-id="927eb-110">User interface controls, such as <xref:System.Windows.Controls.Button> and <xref:System.Windows.Controls.TextBox>, derive from the <xref:System.Windows.Media.Visual> class, and use it for persisting their rendering data.</span></span> <span data-ttu-id="927eb-111">El <xref:System.Windows.Media.Visual> objeto proporciona compatibilidad con:</span><span class="sxs-lookup"><span data-stu-id="927eb-111">The <xref:System.Windows.Media.Visual> object provides support for:</span></span>  
  
- <span data-ttu-id="927eb-112">Presentación de salida: representación persistente, serializa el contenido de dibujo de un objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-112">Output display: Rendering the persisted, serialized drawing content of a visual.</span></span>  
  
- <span data-ttu-id="927eb-113">Transformaciones: realizar transformaciones en un objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-113">Transformations: Performing transformations on a visual.</span></span>  
  
- <span data-ttu-id="927eb-114">Recorte: proporcionar soporte para una zona de recorte de un objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-114">Clipping: Providing clipping region support for a visual.</span></span>  
  
- <span data-ttu-id="927eb-115">Pruebas de posicionamiento: determinar si una coordenada o geometría está dentro de los límites de un objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-115">Hit testing: Determining whether a coordinate or geometry is contained within the bounds of a visual.</span></span>  
  
- <span data-ttu-id="927eb-116">Cálculos de rectángulo de selección: determinar el rectángulo delimitador de un objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-116">Bounding box calculations: Determining the bounding rectangle of a visual.</span></span>  
  
 <span data-ttu-id="927eb-117">Sin embargo, el <xref:System.Windows.Media.Visual> objeto no incluye compatibilidad con las características que no son de representación, como:</span><span class="sxs-lookup"><span data-stu-id="927eb-117">However, the <xref:System.Windows.Media.Visual> object does not include support for non-rendering features, such as:</span></span>  
  
- <span data-ttu-id="927eb-118">Control de eventos</span><span class="sxs-lookup"><span data-stu-id="927eb-118">Event handling</span></span>  
  
- <span data-ttu-id="927eb-119">Layout</span><span class="sxs-lookup"><span data-stu-id="927eb-119">Layout</span></span>  
  
- <span data-ttu-id="927eb-120">Estilos</span><span class="sxs-lookup"><span data-stu-id="927eb-120">Styles</span></span>  
  
- <span data-ttu-id="927eb-121">Enlace de datos</span><span class="sxs-lookup"><span data-stu-id="927eb-121">Data binding</span></span>  
  
- <span data-ttu-id="927eb-122">Globalización</span><span class="sxs-lookup"><span data-stu-id="927eb-122">Globalization</span></span>  
  
 <span data-ttu-id="927eb-123"><xref:System.Windows.Media.Visual>se expone como una clase abstracta pública desde la que se deben derivar las clases secundarias.</span><span class="sxs-lookup"><span data-stu-id="927eb-123"><xref:System.Windows.Media.Visual> is exposed as a public abstract class from which child classes must be derived.</span></span> <span data-ttu-id="927eb-124">La siguiente ilustración muestra la jerarquía de los objetos visuales que se exponen en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="927eb-124">The following illustration shows the hierarchy of the visual objects that are exposed in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 ![Diagrama de clases derivadas del objeto Visual](./media/wpf-graphics-rendering-overview/classes-derived-visual-object.png)
  
### <a name="drawingvisual-class"></a><span data-ttu-id="927eb-126">Clase DrawingVisual</span><span class="sxs-lookup"><span data-stu-id="927eb-126">DrawingVisual Class</span></span>  
 <span data-ttu-id="927eb-127"><xref:System.Windows.Media.DrawingVisual>Es una clase de dibujo ligera que se utiliza para representar formas, imágenes o texto.</span><span class="sxs-lookup"><span data-stu-id="927eb-127">The <xref:System.Windows.Media.DrawingVisual> is a lightweight drawing class that is used to render shapes, images, or text.</span></span> <span data-ttu-id="927eb-128">Esta clase se considera ligera porque no proporciona control de diseño ni control de eventos, lo que mejora su rendimiento en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="927eb-128">This class is considered lightweight because it does not provide layout or event handling, which improves its runtime performance.</span></span> <span data-ttu-id="927eb-129">Por esta razón, los dibujos son ideales para fondos e imágenes prediseñadas.</span><span class="sxs-lookup"><span data-stu-id="927eb-129">For this reason, drawings are ideal for backgrounds and clip art.</span></span> <span data-ttu-id="927eb-130"><xref:System.Windows.Media.DrawingVisual>Se puede usar para crear un objeto visual personalizado.</span><span class="sxs-lookup"><span data-stu-id="927eb-130">The <xref:System.Windows.Media.DrawingVisual> can be used to create a custom visual object.</span></span> <span data-ttu-id="927eb-131">Para más información, consulte [Usar objetos DrawingVisual](using-drawingvisual-objects.md).</span><span class="sxs-lookup"><span data-stu-id="927eb-131">For more information, see [Using DrawingVisual Objects](using-drawingvisual-objects.md).</span></span>  
  
### <a name="viewport3dvisual-class"></a><span data-ttu-id="927eb-132">Clase Viewport3DVisual</span><span class="sxs-lookup"><span data-stu-id="927eb-132">Viewport3DVisual Class</span></span>  
 <span data-ttu-id="927eb-133"><xref:System.Windows.Media.Media3D.Viewport3DVisual>Proporciona un puente entre los <xref:System.Windows.Media.Visual> objetos 2D y <xref:System.Windows.Media.Media3D.Visual3D> .</span><span class="sxs-lookup"><span data-stu-id="927eb-133">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> provides a bridge between 2D <xref:System.Windows.Media.Visual> and <xref:System.Windows.Media.Media3D.Visual3D> objects.</span></span> <span data-ttu-id="927eb-134">La <xref:System.Windows.Media.Media3D.Visual3D> clase es la clase base para todos los elementos visuales 3D.</span><span class="sxs-lookup"><span data-stu-id="927eb-134">The <xref:System.Windows.Media.Media3D.Visual3D> class is the base class for all 3D visual elements.</span></span> <span data-ttu-id="927eb-135"><xref:System.Windows.Media.Media3D.Viewport3DVisual>Requiere que se defina un <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> valor y un <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> valor.</span><span class="sxs-lookup"><span data-stu-id="927eb-135">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> requires that you define a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> value and a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> value.</span></span> <span data-ttu-id="927eb-136">La cámara permite ver la escena.</span><span class="sxs-lookup"><span data-stu-id="927eb-136">The camera allows you to view the scene.</span></span> <span data-ttu-id="927eb-137">La ventanilla establece el lugar en que se asigna la proyección a la superficie 2D.</span><span class="sxs-lookup"><span data-stu-id="927eb-137">The viewport establishes where the projection maps onto the 2D surface.</span></span> <span data-ttu-id="927eb-138">Para obtener más información sobre 3D en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , consulte [información general sobre gráficos 3D](3-d-graphics-overview.md).</span><span class="sxs-lookup"><span data-stu-id="927eb-138">For more information on 3D in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [3D Graphics Overview](3-d-graphics-overview.md).</span></span>  
  
### <a name="containervisual-class"></a><span data-ttu-id="927eb-139">Clase ContainerVisual</span><span class="sxs-lookup"><span data-stu-id="927eb-139">ContainerVisual Class</span></span>  
 <span data-ttu-id="927eb-140">La <xref:System.Windows.Media.ContainerVisual> clase se utiliza como contenedor para una colección de <xref:System.Windows.Media.Visual> objetos.</span><span class="sxs-lookup"><span data-stu-id="927eb-140">The <xref:System.Windows.Media.ContainerVisual> class is used as a container for a collection of <xref:System.Windows.Media.Visual> objects.</span></span> <span data-ttu-id="927eb-141">La <xref:System.Windows.Media.DrawingVisual> clase se deriva de la <xref:System.Windows.Media.ContainerVisual> clase, lo que permite que contenga una colección de objetos visuales.</span><span class="sxs-lookup"><span data-stu-id="927eb-141">The <xref:System.Windows.Media.DrawingVisual> class derives from the <xref:System.Windows.Media.ContainerVisual> class, allowing it to contain a collection of visual objects.</span></span>  
  
### <a name="drawing-content-in-visual-objects"></a><span data-ttu-id="927eb-142">Dibujo de contenido en objetos visuales</span><span class="sxs-lookup"><span data-stu-id="927eb-142">Drawing Content in Visual Objects</span></span>  
 <span data-ttu-id="927eb-143">Un <xref:System.Windows.Media.Visual> objeto almacena sus datos de representación como una **lista de instrucciones de gráficos vectoriales**.</span><span class="sxs-lookup"><span data-stu-id="927eb-143">A <xref:System.Windows.Media.Visual> object stores its render data as a **vector graphics instruction list**.</span></span> <span data-ttu-id="927eb-144">Cada elemento de la lista de instrucciones representa un conjunto de bajo nivel de datos gráficos y recursos asociados en un formato serializado.</span><span class="sxs-lookup"><span data-stu-id="927eb-144">Each item in the instruction list represents a low-level set of graphics data and associated resources in a serialized format.</span></span> <span data-ttu-id="927eb-145">Hay cuatro tipos diferentes de datos de representación que pueden incluir contenido de dibujo.</span><span class="sxs-lookup"><span data-stu-id="927eb-145">There are four different types of render data that can contain drawing content.</span></span>  
  
|<span data-ttu-id="927eb-146">Tipo de contenido de dibujo</span><span class="sxs-lookup"><span data-stu-id="927eb-146">Drawing content type</span></span>|<span data-ttu-id="927eb-147">Descripción</span><span class="sxs-lookup"><span data-stu-id="927eb-147">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="927eb-148">Gráficos vectoriales</span><span class="sxs-lookup"><span data-stu-id="927eb-148">Vector graphics</span></span>|<span data-ttu-id="927eb-149">Representa los datos de gráficos vectoriales y <xref:System.Windows.Media.Brush> cualquier <xref:System.Windows.Media.Pen> información asociada.</span><span class="sxs-lookup"><span data-stu-id="927eb-149">Represents vector graphics data, and any associated <xref:System.Windows.Media.Brush> and <xref:System.Windows.Media.Pen> information.</span></span>|  
|<span data-ttu-id="927eb-150">Imagen</span><span class="sxs-lookup"><span data-stu-id="927eb-150">Image</span></span>|<span data-ttu-id="927eb-151">Representa una imagen dentro de una región definida por un <xref:System.Windows.Rect> .</span><span class="sxs-lookup"><span data-stu-id="927eb-151">Represents an image within a region defined by a <xref:System.Windows.Rect>.</span></span>|  
|<span data-ttu-id="927eb-152">Glifo</span><span class="sxs-lookup"><span data-stu-id="927eb-152">Glyph</span></span>|<span data-ttu-id="927eb-153">Representa un dibujo que representa un <xref:System.Windows.Media.GlyphRun> , que es una secuencia de glifos de un recurso de fuente especificado.</span><span class="sxs-lookup"><span data-stu-id="927eb-153">Represents a drawing that renders a <xref:System.Windows.Media.GlyphRun>, which is a sequence of glyphs from a specified font resource.</span></span> <span data-ttu-id="927eb-154">Así es como se representa el texto.</span><span class="sxs-lookup"><span data-stu-id="927eb-154">This is how text is represented.</span></span>|  
|<span data-ttu-id="927eb-155">Vídeo</span><span class="sxs-lookup"><span data-stu-id="927eb-155">Video</span></span>|<span data-ttu-id="927eb-156">Representa un dibujo que representa vídeo.</span><span class="sxs-lookup"><span data-stu-id="927eb-156">Represents a drawing that renders video.</span></span>|  
  
 <span data-ttu-id="927eb-157"><xref:System.Windows.Media.DrawingContext>Permite rellenar un <xref:System.Windows.Media.Visual> con contenido visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-157">The <xref:System.Windows.Media.DrawingContext> allows you to populate a <xref:System.Windows.Media.Visual> with visual content.</span></span> <span data-ttu-id="927eb-158">Cuando se usan <xref:System.Windows.Media.DrawingContext> comandos de dibujo de un objeto, en realidad se almacena un conjunto de datos de representación que el sistema de gráficos usará más adelante; no se dibuja en la pantalla en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="927eb-158">When you use a <xref:System.Windows.Media.DrawingContext> object's draw commands, you are actually storing a set of render data that will later be used by the graphics system; you are not drawing to the screen in real-time.</span></span>  
  
 <span data-ttu-id="927eb-159">Al crear un [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, como <xref:System.Windows.Controls.Button> , el control genera implícitamente los datos de representación para dibujarse.</span><span class="sxs-lookup"><span data-stu-id="927eb-159">When you create a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, such as a <xref:System.Windows.Controls.Button>, the control implicitly generates render data for drawing itself.</span></span> <span data-ttu-id="927eb-160">Por ejemplo, si se establece la <xref:System.Windows.Controls.ContentControl.Content%2A> propiedad de, <xref:System.Windows.Controls.Button> el control almacena una representación de representación de un glifo.</span><span class="sxs-lookup"><span data-stu-id="927eb-160">For example, setting the <xref:System.Windows.Controls.ContentControl.Content%2A> property of the <xref:System.Windows.Controls.Button> causes the control to store a rendering representation of a glyph.</span></span>  
  
 <span data-ttu-id="927eb-161"><xref:System.Windows.Media.Visual>Describe su contenido como uno o varios <xref:System.Windows.Media.Drawing> objetos contenidos en un <xref:System.Windows.Media.DrawingGroup> .</span><span class="sxs-lookup"><span data-stu-id="927eb-161">A <xref:System.Windows.Media.Visual> describes its content as one or more <xref:System.Windows.Media.Drawing> objects contained within a <xref:System.Windows.Media.DrawingGroup>.</span></span> <span data-ttu-id="927eb-162"><xref:System.Windows.Media.DrawingGroup>También describe las máscaras de opacidad, las transformaciones, los efectos de imagen y otras operaciones que se aplican a su contenido.</span><span class="sxs-lookup"><span data-stu-id="927eb-162">A <xref:System.Windows.Media.DrawingGroup> also describes opacity masks, transforms, bitmap effects, and other operations that are applied to its contents.</span></span> <span data-ttu-id="927eb-163"><xref:System.Windows.Media.DrawingGroup>las operaciones se aplican en el siguiente orden cuando se representa el contenido: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A> , <xref:System.Windows.Media.DrawingGroup.Opacity%2A> , <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A> , <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A> , <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A> y, a continuación, <xref:System.Windows.Media.DrawingGroup.Transform%2A> .</span><span class="sxs-lookup"><span data-stu-id="927eb-163"><xref:System.Windows.Media.DrawingGroup> operations are applied in the following order when content is rendered: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>, <xref:System.Windows.Media.DrawingGroup.Opacity%2A>, <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>, <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A>, <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>, and then <xref:System.Windows.Media.DrawingGroup.Transform%2A>.</span></span>  
  
 <span data-ttu-id="927eb-164">En la ilustración siguiente se muestra el orden en que <xref:System.Windows.Media.DrawingGroup> se aplican las operaciones durante la secuencia de representación.</span><span class="sxs-lookup"><span data-stu-id="927eb-164">The following illustration shows the order in which <xref:System.Windows.Media.DrawingGroup> operations are applied during the rendering sequence.</span></span>  
  
 <span data-ttu-id="927eb-165">![Orden de las operaciones de DrawingGroup](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span><span class="sxs-lookup"><span data-stu-id="927eb-165">![DrawingGroup order of operations](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span></span>  
<span data-ttu-id="927eb-166">Orden de las operaciones de DrawingGroup</span><span class="sxs-lookup"><span data-stu-id="927eb-166">Order of DrawingGroup operations</span></span>  
  
 <span data-ttu-id="927eb-167">Para más información, consulte [Información general sobre objetos Drawing](drawing-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="927eb-167">For more information, see [Drawing Objects Overview](drawing-objects-overview.md).</span></span>  
  
#### <a name="drawing-content-at-the-visual-layer"></a><span data-ttu-id="927eb-168">Contenido de dibujo en la capa de Visual</span><span class="sxs-lookup"><span data-stu-id="927eb-168">Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="927eb-169">Nunca se crean instancias directamente de un <xref:System.Windows.Media.DrawingContext> ; sin embargo, se puede adquirir un contexto de dibujo de determinados métodos, como <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> y <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="927eb-169">You never directly instantiate a <xref:System.Windows.Media.DrawingContext>; you can, however, acquire a drawing context from certain methods, such as <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> and <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="927eb-170">En el ejemplo siguiente se recupera un <xref:System.Windows.Media.DrawingContext> de un <xref:System.Windows.Media.DrawingVisual> y se utiliza para dibujar un rectángulo.</span><span class="sxs-lookup"><span data-stu-id="927eb-170">The following example retrieves a <xref:System.Windows.Media.DrawingContext> from a <xref:System.Windows.Media.DrawingVisual> and uses it to draw a rectangle.</span></span>  
  
 [!code-csharp[drawingvisualsample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingVisualSample/CSharp/Window1.xaml.cs#101)]
 [!code-vb[drawingvisualsample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DrawingVisualSample/visualbasic/window1.xaml.vb#101)]  
  
#### <a name="enumerating-drawing-content-at-the-visual-layer"></a><span data-ttu-id="927eb-171">Enumeración de contenido de dibujo en la capa de Visual</span><span class="sxs-lookup"><span data-stu-id="927eb-171">Enumerating Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="927eb-172">Además de sus otros usos, los <xref:System.Windows.Media.Drawing> objetos también proporcionan un modelo de objetos para enumerar el contenido de <xref:System.Windows.Media.Visual> .</span><span class="sxs-lookup"><span data-stu-id="927eb-172">In addition to their other uses, <xref:System.Windows.Media.Drawing> objects also provide an object model for enumerating the contents of a <xref:System.Windows.Media.Visual>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="927eb-173">Cuando se enumera el contenido del objeto visual, se recuperan los <xref:System.Windows.Media.Drawing> objetos y no la representación subyacente de los datos de representación como una lista de instrucciones de gráficos vectoriales.</span><span class="sxs-lookup"><span data-stu-id="927eb-173">When you are enumerating the contents of the visual, you are retrieving <xref:System.Windows.Media.Drawing> objects, and not the underlying representation of the render data as a vector graphics instruction list.</span></span>  
  
 <span data-ttu-id="927eb-174">En el ejemplo siguiente se usa el <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> método para recuperar el <xref:System.Windows.Media.DrawingGroup> valor de un <xref:System.Windows.Media.Visual> y enumerarlo.</span><span class="sxs-lookup"><span data-stu-id="927eb-174">The following example uses the <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> method to retrieve the <xref:System.Windows.Media.DrawingGroup> value of a <xref:System.Windows.Media.Visual> and enumerate it.</span></span>  
  
 [!code-csharp[DrawingMiscSnippets_snip#GraphicsMMRetrieveDrawings](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingMiscSnippets_snip/CSharp/EnumerateDrawingsExample.xaml.cs#graphicsmmretrievedrawings)]  
  
<a name="how_visual_objects_are_used_to_build_controls"></a>
## <a name="how-visual-objects-are-used-to-build-controls"></a><span data-ttu-id="927eb-175">Uso de los objetos visuales para compilar controles</span><span class="sxs-lookup"><span data-stu-id="927eb-175">How Visual Objects are Used to Build Controls</span></span>  
 <span data-ttu-id="927eb-176">Muchos de los objetos de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] están formados por otros objetos visuales, lo que significa que pueden contener diversas jerarquías de objetos descendientes.</span><span class="sxs-lookup"><span data-stu-id="927eb-176">Many of the objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are composed of other visual objects, meaning they can contain varying hierarchies of descendant objects.</span></span> <span data-ttu-id="927eb-177">Muchos de los elementos de la interfaz de usuario de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], como los controles, constan de varios objetos visuales, que representan diferentes tipos de representación de elementos.</span><span class="sxs-lookup"><span data-stu-id="927eb-177">Many of the user interface elements in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], such as controls, are composed of multiple visual objects, representing different types of rendering elements.</span></span> <span data-ttu-id="927eb-178">Por ejemplo, el <xref:System.Windows.Controls.Button> control puede contener varios objetos, incluidos <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> , <xref:System.Windows.Controls.ContentPresenter> y <xref:System.Windows.Controls.TextBlock> .</span><span class="sxs-lookup"><span data-stu-id="927eb-178">For example, the <xref:System.Windows.Controls.Button> control can contain a number of other objects, including <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, <xref:System.Windows.Controls.ContentPresenter>, and <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="927eb-179">En el código siguiente se muestra un <xref:System.Windows.Controls.Button> control definido en el marcado.</span><span class="sxs-lookup"><span data-stu-id="927eb-179">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet1)]  
  
 <span data-ttu-id="927eb-180">Si tuviera que enumerar los objetos visuales que componen el <xref:System.Windows.Controls.Button> control predeterminado, encontraría la jerarquía de objetos visuales que se ilustra a continuación:</span><span class="sxs-lookup"><span data-stu-id="927eb-180">If you were to enumerate the visual objects that comprise the default <xref:System.Windows.Controls.Button> control, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagrama de jerarquía de árbol visual](./media/wpf-graphics-rendering-overview/visual-object-diagram.gif)
  
 <span data-ttu-id="927eb-182">El <xref:System.Windows.Controls.Button> control contiene un <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> elemento que, a su vez, contiene un <xref:System.Windows.Controls.ContentPresenter> elemento.</span><span class="sxs-lookup"><span data-stu-id="927eb-182">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="927eb-183">El <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> elemento es responsable de dibujar un borde y un fondo para <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="927eb-183">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing a border and a background for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="927eb-184">El <xref:System.Windows.Controls.ContentPresenter> elemento es responsable de mostrar el contenido de <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="927eb-184">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="927eb-185">En este caso, puesto que se muestra texto, el <xref:System.Windows.Controls.ContentPresenter> elemento contiene un <xref:System.Windows.Controls.TextBlock> elemento.</span><span class="sxs-lookup"><span data-stu-id="927eb-185">In this case, since you are displaying text, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.TextBlock> element.</span></span> <span data-ttu-id="927eb-186">El hecho de que el <xref:System.Windows.Controls.Button> control utilice un <xref:System.Windows.Controls.ContentPresenter> significa que el contenido podría estar representado por otros elementos, como un objeto <xref:System.Windows.Controls.Image> o una geometría, como <xref:System.Windows.Media.EllipseGeometry> .</span><span class="sxs-lookup"><span data-stu-id="927eb-186">The fact that the <xref:System.Windows.Controls.Button> control uses a <xref:System.Windows.Controls.ContentPresenter> means that the content could be represented by other elements, such as an <xref:System.Windows.Controls.Image> or a geometry, such as an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
### <a name="control-templates"></a><span data-ttu-id="927eb-187">Plantillas de control</span><span class="sxs-lookup"><span data-stu-id="927eb-187">Control Templates</span></span>  
 <span data-ttu-id="927eb-188">La clave para la expansión de un control en una jerarquía de controles es <xref:System.Windows.Controls.ControlTemplate> .</span><span class="sxs-lookup"><span data-stu-id="927eb-188">The key to the expansion of a control into a hierarchy of controls is the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="927eb-189">Una plantilla de control especifica la jerarquía visual predeterminada de un control.</span><span class="sxs-lookup"><span data-stu-id="927eb-189">A control template specifies the default visual hierarchy for a control.</span></span> <span data-ttu-id="927eb-190">Al hacer referencia explícitamente a un control, implícitamente también se hace referencia a su jerarquía visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-190">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span> <span data-ttu-id="927eb-191">Puede reemplazar los valores predeterminados de una plantilla de control para crear una apariencia visual personalizada para un control.</span><span class="sxs-lookup"><span data-stu-id="927eb-191">You can override the default values for a control template to create a customized visual appearance for a control.</span></span> <span data-ttu-id="927eb-192">Por ejemplo, puede modificar el valor de color de fondo del <xref:System.Windows.Controls.Button> control para que use un valor de color de degradado lineal en lugar de un valor de color sólido.</span><span class="sxs-lookup"><span data-stu-id="927eb-192">For example, you could modify the background color value of the <xref:System.Windows.Controls.Button> control so that it uses a linear gradient color value instead of a solid color value.</span></span> <span data-ttu-id="927eb-193">Para más información, consulte [Button ControlTemplate Example](../controls/button-styles-and-templates.md) (Ejemplo de ControlTemplate de Button).</span><span class="sxs-lookup"><span data-stu-id="927eb-193">For more information, see [Button Styles and Templates](../controls/button-styles-and-templates.md).</span></span>  
  
 <span data-ttu-id="927eb-194">Un elemento de la interfaz de usuario, como un <xref:System.Windows.Controls.Button> control, contiene varias listas de instrucciones de gráficos vectoriales que describen toda la definición de representación de un control.</span><span class="sxs-lookup"><span data-stu-id="927eb-194">A user interface element, such as a <xref:System.Windows.Controls.Button> control, contains several vector graphics instruction lists that describe the entire rendering definition of a control.</span></span> <span data-ttu-id="927eb-195">En el código siguiente se muestra un <xref:System.Windows.Controls.Button> control definido en el marcado.</span><span class="sxs-lookup"><span data-stu-id="927eb-195">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet2](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet2)]  
  
 <span data-ttu-id="927eb-196">Si tuviera que enumerar los objetos visuales y las listas de instrucciones de gráficos vectoriales que componen el <xref:System.Windows.Controls.Button> control, encontraría la jerarquía de objetos que se ilustra a continuación:</span><span class="sxs-lookup"><span data-stu-id="927eb-196">If you were to enumerate the visual objects and vector graphics instruction lists that comprise the <xref:System.Windows.Controls.Button> control, you would find the hierarchy of objects illustrated below:</span></span>  
  
 ![Diagrama de árbol visual y datos de representación](./media/wpf-graphics-rendering-overview/visual-tree-rendering-data.png)  
  
 <span data-ttu-id="927eb-198">El <xref:System.Windows.Controls.Button> control contiene un <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> elemento que, a su vez, contiene un <xref:System.Windows.Controls.ContentPresenter> elemento.</span><span class="sxs-lookup"><span data-stu-id="927eb-198">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="927eb-199">El <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> elemento es responsable de dibujar todos los elementos gráficos discretos que componen el borde y el fondo de un botón.</span><span class="sxs-lookup"><span data-stu-id="927eb-199">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing all the discrete graphic elements that make up the border and background of a button.</span></span> <span data-ttu-id="927eb-200">El <xref:System.Windows.Controls.ContentPresenter> elemento es responsable de mostrar el contenido de <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="927eb-200">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="927eb-201">En este caso, puesto que se muestra una imagen, el <xref:System.Windows.Controls.ContentPresenter> elemento contiene un <xref:System.Windows.Controls.Image> elemento.</span><span class="sxs-lookup"><span data-stu-id="927eb-201">In this case, since you are displaying an image, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.Image> element.</span></span>  
  
 <span data-ttu-id="927eb-202">Hay que tener en cuenta varios aspectos de la jerarquía de objetos visuales y las listas de instrucciones de gráficos vectoriales:</span><span class="sxs-lookup"><span data-stu-id="927eb-202">There are a number of points to note about the hierarchy of visual objects and vector graphics instruction lists:</span></span>  
  
- <span data-ttu-id="927eb-203">El orden de la jerarquía representa el orden de procesamiento de la información de dibujo.</span><span class="sxs-lookup"><span data-stu-id="927eb-203">The ordering in the hierarchy represents the rendering order of the drawing information.</span></span> <span data-ttu-id="927eb-204">Desde el elemento del objeto visual raíz, se atraviesa a los elementos secundarios de izquierda a derecha y de arriba a abajo.</span><span class="sxs-lookup"><span data-stu-id="927eb-204">From the root visual element, child elements are traversed, left to right, top to bottom.</span></span> <span data-ttu-id="927eb-205">Si un elemento tiene elementos visuales secundarios, se atraviesan antes que los relacionados del elemento.</span><span class="sxs-lookup"><span data-stu-id="927eb-205">If an element has visual child elements, they are traversed before the element’s siblings.</span></span>  
  
- <span data-ttu-id="927eb-206">Los elementos de nodo no hoja de la jerarquía, como <xref:System.Windows.Controls.ContentPresenter> , se usan para contener elementos secundarios; no contienen listas de instrucciones.</span><span class="sxs-lookup"><span data-stu-id="927eb-206">Non-leaf node elements in the hierarchy, such as <xref:System.Windows.Controls.ContentPresenter>, are used to contain child elements—they do not contain instruction lists.</span></span>  
  
- <span data-ttu-id="927eb-207">Si un elemento visual contiene una lista de instrucciones de gráficos vectoriales y elementos secundarios visuales, la lista de instrucciones del elemento visual primario se representa antes que los dibujos en cualquiera de los objetos visuales secundarios.</span><span class="sxs-lookup"><span data-stu-id="927eb-207">If a visual element contains both a vector graphics instruction list and visual children, the instruction list in the parent visual element is rendered before drawings in any of the visual child objects.</span></span>  
  
- <span data-ttu-id="927eb-208">Los elementos de la lista de instrucciones de gráficos vectoriales se representan de izquierda a derecha.</span><span class="sxs-lookup"><span data-stu-id="927eb-208">The items in the vector graphics instruction list are rendered left to right.</span></span>  
  
<a name="visual_tree"></a>
## <a name="visual-tree"></a><span data-ttu-id="927eb-209">Árbol visual</span><span class="sxs-lookup"><span data-stu-id="927eb-209">Visual Tree</span></span>  
 <span data-ttu-id="927eb-210">El árbol visual contiene todos los elementos visuales que se usan en la interfaz de usuario de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="927eb-210">The visual tree contains all visual elements used in an application's user interface.</span></span> <span data-ttu-id="927eb-211">Puesto que un elemento visual contiene información guardada del dibujo, el árbol visual se puede considerar un gráfico de la escena, que contiene toda la información de representación necesaria para componer la salida de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="927eb-211">Since a visual element contains persisted drawing information, you can think of the visual tree as a scene graph, containing all the rendering information needed to compose the output to the display device.</span></span> <span data-ttu-id="927eb-212">Este árbol es la acumulación de todos los elementos visuales creados directamente por la aplicación, ya sea a través de código o de marcación.</span><span class="sxs-lookup"><span data-stu-id="927eb-212">This tree is the accumulation of all visual elements created directly by the application, whether in code or in markup.</span></span> <span data-ttu-id="927eb-213">El árbol visual también contiene todos los elementos visuales que ha creado la expansión de la plantilla de elementos, como controles y objetos de datos.</span><span class="sxs-lookup"><span data-stu-id="927eb-213">The visual tree also contains all visual elements created by the template expansion of elements such as controls and data objects.</span></span>  
  
 <span data-ttu-id="927eb-214">En el código siguiente se muestra un <xref:System.Windows.Controls.StackPanel> elemento definido en el marcado.</span><span class="sxs-lookup"><span data-stu-id="927eb-214">The following code shows a <xref:System.Windows.Controls.StackPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet3](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet3)]  
  
 <span data-ttu-id="927eb-215">Si tuviera que enumerar los objetos visuales que componen el <xref:System.Windows.Controls.StackPanel> elemento en el ejemplo de marcación, encontraría la jerarquía de objetos visuales que se ilustra a continuación:</span><span class="sxs-lookup"><span data-stu-id="927eb-215">If you were to enumerate the visual objects that comprise the <xref:System.Windows.Controls.StackPanel> element in the markup example, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagrama de jerarquía de árbol visual](./media/wpf-graphics-rendering-overview/visual-tree-hierarchy.gif)  
  
### <a name="rendering-order"></a><span data-ttu-id="927eb-217">Orden de representación</span><span class="sxs-lookup"><span data-stu-id="927eb-217">Rendering Order</span></span>  
 <span data-ttu-id="927eb-218">El árbol visual determina el orden de representación de objetos visuales y de dibujo de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="927eb-218">The visual tree determines the rendering order of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual and drawing objects.</span></span> <span data-ttu-id="927eb-219">El orden del recorrido comienza con el objeto visual raíz, que es el nodo de nivel superior del árbol visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-219">The order of traversal starts with the root visual, which is the top-most node in the visual tree.</span></span> <span data-ttu-id="927eb-220">A continuación, se atraviesan los elementos secundarios del objeto visual raíz, de izquierda a derecha.</span><span class="sxs-lookup"><span data-stu-id="927eb-220">The root visual’s children are then traversed, left to right.</span></span> <span data-ttu-id="927eb-221">Si un objeto visual tiene elementos secundarios, estos se atraviesan antes que los elementos del mismo nivel del objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-221">If a visual has children, its children are traversed before the visual’s siblings.</span></span> <span data-ttu-id="927eb-222">Esto significa que el contenido de un objeto visual secundario se representa delante del contenido propio del objeto visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-222">This means that the content of a child visual is rendered in front of the visual's own content.</span></span>  
  
 ![Diagrama del orden de representación del árbol visual](./media/wpf-graphics-rendering-overview/visual-tree-rendering-order.gif)
  
### <a name="root-visual"></a><span data-ttu-id="927eb-224">Objeto visual raíz</span><span class="sxs-lookup"><span data-stu-id="927eb-224">Root Visual</span></span>  
 <span data-ttu-id="927eb-225">El **objeto visual raíz** es el elemento de nivel superior de una jerarquía de árbol visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-225">The **root visual** is the top-most element in a visual tree hierarchy.</span></span> <span data-ttu-id="927eb-226">En la mayoría de las aplicaciones, la clase base del visual raíz es <xref:System.Windows.Window> o <xref:System.Windows.Navigation.NavigationWindow> .</span><span class="sxs-lookup"><span data-stu-id="927eb-226">In most applications, the base class of the root visual is either <xref:System.Windows.Window> or <xref:System.Windows.Navigation.NavigationWindow>.</span></span> <span data-ttu-id="927eb-227">Sin embargo, si se hospedaran objetos visuales en una aplicación Win32, el objeto visual raíz sería el objeto visual de nivel superior que se hospeda en la ventana de Win32.</span><span class="sxs-lookup"><span data-stu-id="927eb-227">However, if you were hosting visual objects in a Win32 application, the root visual would be the top-most visual you were hosting in the Win32 window.</span></span> <span data-ttu-id="927eb-228">Para más información, consulte [Tutorial: Hosting Visual Objects in a Win32 Application](tutorial-hosting-visual-objects-in-a-win32-application.md) (Tutorial: hospedar objetos visuales en una aplicación Win32).</span><span class="sxs-lookup"><span data-stu-id="927eb-228">For more information, see [Tutorial: Hosting Visual Objects in a Win32 Application](tutorial-hosting-visual-objects-in-a-win32-application.md).</span></span>  
  
### <a name="relationship-to-the-logical-tree"></a><span data-ttu-id="927eb-229">Relación con el árbol lógico</span><span class="sxs-lookup"><span data-stu-id="927eb-229">Relationship to the Logical Tree</span></span>  
 <span data-ttu-id="927eb-230">El árbol lógico de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] representa los elementos de una aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="927eb-230">The logical tree in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] represents the elements of an application at run time.</span></span> <span data-ttu-id="927eb-231">Aunque no manipula directamente este árbol, esta vista de la aplicación es útil para entender la herencia de propiedades y el enrutamiento de eventos.</span><span class="sxs-lookup"><span data-stu-id="927eb-231">Although you do not manipulate this tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="927eb-232">A diferencia del árbol visual, el árbol lógico puede representar objetos de datos no visuales, como <xref:System.Windows.Documents.ListItem> .</span><span class="sxs-lookup"><span data-stu-id="927eb-232">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="927eb-233">En muchos casos, el árbol lógico se asigna muy estrechamente con las definiciones de marcación de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="927eb-233">In many cases, the logical tree maps very closely to an application's markup definitions.</span></span> <span data-ttu-id="927eb-234">En el código siguiente se muestra un <xref:System.Windows.Controls.DockPanel> elemento definido en el marcado.</span><span class="sxs-lookup"><span data-stu-id="927eb-234">The following code shows a <xref:System.Windows.Controls.DockPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet5](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet5)]  
  
 <span data-ttu-id="927eb-235">Si tuviera que enumerar los objetos lógicos que componen el <xref:System.Windows.Controls.DockPanel> elemento en el ejemplo de marcación, encontraría la jerarquía de objetos lógicos que se ilustra a continuación:</span><span class="sxs-lookup"><span data-stu-id="927eb-235">If you were to enumerate the logical objects that comprise the <xref:System.Windows.Controls.DockPanel> element in the markup example, you would find the hierarchy of logical objects illustrated below:</span></span>  
  
 <span data-ttu-id="927eb-236">![Diagrama de árbol](./media/tree1-wcp.gif "Tree1_wcp")</span><span class="sxs-lookup"><span data-stu-id="927eb-236">![Tree diagram](./media/tree1-wcp.gif "Tree1_wcp")</span></span>  
<span data-ttu-id="927eb-237">Diagrama de árbol lógico</span><span class="sxs-lookup"><span data-stu-id="927eb-237">Diagram of logical tree</span></span>  
  
 <span data-ttu-id="927eb-238">El árbol visual y el árbol lógico se sincronizan con el conjunto actual de elementos de la aplicación, que refleja cualquier adición, eliminación o modificación de elementos.</span><span class="sxs-lookup"><span data-stu-id="927eb-238">Both the visual tree and logical tree are synchronized with the current set of application elements, reflecting any addition, deletion, or modification of elements.</span></span> <span data-ttu-id="927eb-239">Sin embargo, los árboles presentan distintas vistas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="927eb-239">However, the trees present different views of the application.</span></span> <span data-ttu-id="927eb-240">A diferencia del árbol visual, el árbol lógico no expande el elemento de un control <xref:System.Windows.Controls.ContentPresenter> .</span><span class="sxs-lookup"><span data-stu-id="927eb-240">Unlike the visual tree, the logical tree does not expand a control's <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="927eb-241">Esto significa que no hay una correspondencia uno a uno directa entre un árbol lógico y un árbol visual del mismo conjunto de objetos.</span><span class="sxs-lookup"><span data-stu-id="927eb-241">This means there is not a direct one-to-one correspondence between a logical tree and a visual tree for the same set of objects.</span></span> <span data-ttu-id="927eb-242">De hecho, al invocar el método del objeto **LogicalTreeHelper** <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> y el método del objeto **VisualTreeHelper** <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> con el mismo elemento que un parámetro, se generan resultados diferentes.</span><span class="sxs-lookup"><span data-stu-id="927eb-242">In fact, invoking the **LogicalTreeHelper** object's <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> method and the **VisualTreeHelper** object's <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method using the same element as a parameter yields differing results.</span></span>  
  
 <span data-ttu-id="927eb-243">Para obtener más información sobre el árbol lógico, consulte [Árboles en WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="927eb-243">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
### <a name="viewing-the-visual-tree-with-xamlpad"></a><span data-ttu-id="927eb-244">Visualización del árbol visual con XamlPad</span><span class="sxs-lookup"><span data-stu-id="927eb-244">Viewing the Visual Tree with XamlPad</span></span>  
 <span data-ttu-id="927eb-245">La [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] herramienta XamlPad proporciona una opción para ver y explorar el árbol visual que corresponde al contenido XAML definido actualmente.</span><span class="sxs-lookup"><span data-stu-id="927eb-245">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tool, XamlPad, provides an option for viewing and exploring the visual tree that corresponds to the currently defined XAML content.</span></span> <span data-ttu-id="927eb-246">Haga clic en el botón **Show Visual Tree** (Mostrar árbol visual) de la barra de menús para mostrar el árbol visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-246">Click the **Show Visual Tree** button on the menu bar to display the visual tree.</span></span> <span data-ttu-id="927eb-247">A continuación se muestra la expansión de contenido XAML en nodos de árbol visual en el panel del **Explorador de árbol visual** de XamlPad:</span><span class="sxs-lookup"><span data-stu-id="927eb-247">The following illustrates the expansion of XAML content into visual tree nodes in the **Visual Tree Explorer** panel of XamlPad:</span></span>  
  
 ![Panel del explorador de árbol visual en XamlPad](./media/wpf-graphics-rendering-overview/visual-tree-explorer.png)  

 <span data-ttu-id="927eb-249">Observe cómo los <xref:System.Windows.Controls.Label> <xref:System.Windows.Controls.TextBox> controles, y <xref:System.Windows.Controls.Button> muestran una jerarquía de objetos visuales independiente en el panel del **Explorador de árbol visual** de XamlPad.</span><span class="sxs-lookup"><span data-stu-id="927eb-249">Notice how the <xref:System.Windows.Controls.Label>, <xref:System.Windows.Controls.TextBox>, and <xref:System.Windows.Controls.Button> controls each display a separate visual object hierarchy in the **Visual Tree Explorer** panel of XamlPad.</span></span> <span data-ttu-id="927eb-250">Esto se debe [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] a que los controles tienen un <xref:System.Windows.Controls.ControlTemplate> que contiene el árbol visual de ese control.</span><span class="sxs-lookup"><span data-stu-id="927eb-250">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls have a <xref:System.Windows.Controls.ControlTemplate> that contains the visual tree of that control.</span></span> <span data-ttu-id="927eb-251">Al hacer referencia explícitamente a un control, implícitamente también se hace referencia a su jerarquía visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-251">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span>  
  
### <a name="profiling-visual-performance"></a><span data-ttu-id="927eb-252">Generación de perfiles de rendimiento visual</span><span class="sxs-lookup"><span data-stu-id="927eb-252">Profiling Visual Performance</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="927eb-253">ofrece un conjunto de herramientas de generación de perfiles de rendimiento que le permiten analizar el comportamiento en tiempo de ejecución de la aplicación y determinar los tipos de optimizaciones de rendimiento que puede aplicar.</span><span class="sxs-lookup"><span data-stu-id="927eb-253">provides a suite of performance profiling tools that allow you to analyze the run-time behavior of your application and determine the types of performance optimizations you can apply.</span></span> <span data-ttu-id="927eb-254">La herramienta Generador de perfiles visuales proporciona una vista gráfica completa de los datos de rendimiento mediante la asignación al árbol visual de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="927eb-254">The Visual Profiler tool provides a rich, graphical view of performance data by mapping directly to the application's visual tree.</span></span> <span data-ttu-id="927eb-255">En esta captura de pantalla, la sección **Uso de CPU** del generador de perfiles visuales proporciona un desglose preciso del uso que un objeto realiza de los servicios de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], como la representación y el diseño.</span><span class="sxs-lookup"><span data-stu-id="927eb-255">In this screenshot, the **CPU Usage** section of the Visual Profiler gives you a precise breakdown of an object's use of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] services, such as rendering and layout.</span></span>  
  
 <span data-ttu-id="927eb-256">![Resultados del generador de perfiles visuales](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span><span class="sxs-lookup"><span data-stu-id="927eb-256">![Visual Profiler display output](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span></span>  
<span data-ttu-id="927eb-257">Resultados del generador de perfiles visuales</span><span class="sxs-lookup"><span data-stu-id="927eb-257">Visual Profiler display output</span></span>  
  
<a name="visual_rendering_behavior"></a>
## <a name="visual-rendering-behavior"></a><span data-ttu-id="927eb-258">Comportamiento de la representación visual</span><span class="sxs-lookup"><span data-stu-id="927eb-258">Visual Rendering Behavior</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="927eb-259">presenta varias características que afectan al comportamiento de la representación de los objetos visuales: gráficos en modo retenido, gráficos vectoriales y gráficos independientes del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="927eb-259">introduces several features that affect the rendering behavior of visual objects: retained mode graphics, vector graphics, and device independent graphics.</span></span>  
  
### <a name="retained-mode-graphics"></a><span data-ttu-id="927eb-260">Gráficos en modo retenido</span><span class="sxs-lookup"><span data-stu-id="927eb-260">Retained Mode Graphics</span></span>  
 <span data-ttu-id="927eb-261">Una de las claves para conocer el rol del objeto visual es conocer la diferencia entre los sistemas de gráficos del **modo inmediato** y del **modo retenido**.</span><span class="sxs-lookup"><span data-stu-id="927eb-261">One of the keys to understanding the role of the Visual object is to understand the difference between **immediate mode** and **retained mode** graphics systems.</span></span> <span data-ttu-id="927eb-262">Una aplicación Win32 estándar basada en GDI o GDI + utiliza un sistema de gráficos de modo inmediato.</span><span class="sxs-lookup"><span data-stu-id="927eb-262">A standard Win32 application based on GDI or GDI+ uses an immediate mode graphics system.</span></span> <span data-ttu-id="927eb-263">Esto significa que la aplicación es responsable de volver a dibujar la parte del área de cliente que se ha invalidado, debido a una acción, como el cambio de tamaño de una ventana o al cambio de la apariencia visual de un objeto.</span><span class="sxs-lookup"><span data-stu-id="927eb-263">This means that the application is responsible for repainting the portion of the client area that is invalidated, due to an action such as a window being resized, or an object changing its visual appearance.</span></span>  
  
 ![Diagrama de secuencia de representación de Win32](./media/wpf-graphics-rendering-overview/win32-rendering-squence.png)  
  
 <span data-ttu-id="927eb-265">En cambio, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] utiliza un sistema de modo retenido.</span><span class="sxs-lookup"><span data-stu-id="927eb-265">In contrast, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses a retained mode system.</span></span> <span data-ttu-id="927eb-266">Esto significa que los objetos de la aplicación que tienen una apariencia visual definen un conjunto de datos de dibujo serializados.</span><span class="sxs-lookup"><span data-stu-id="927eb-266">This means application objects that have a visual appearance define a set of serialized drawing data.</span></span> <span data-ttu-id="927eb-267">Una vez que se definen los datos de dibujo, el sistema es responsable de responder a todas las solicitudes de repetición del dibujo para representar los objetos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="927eb-267">Once the drawing data is defined, the system is responsible thereafter for responding to all repaint requests for rendering the application objects.</span></span> <span data-ttu-id="927eb-268">Incluso en tiempo de ejecución, puede modificar o crear objetos de la aplicación y seguir confiando en que el sistema responderá a las solicitudes de dibujo.</span><span class="sxs-lookup"><span data-stu-id="927eb-268">Even at run time, you can modify or create application objects, and still rely on the system for responding to paint requests.</span></span> <span data-ttu-id="927eb-269">La eficacia de un sistema de gráficos en modo retenido es que la aplicación guarda siempre la información de dibujo en un estado serializado, pero la responsabilidad de la representación se deja al sistema.</span><span class="sxs-lookup"><span data-stu-id="927eb-269">The power in a retained mode graphics system is that drawing information is always persisted in a serialized state by the application, but rendering responsibility left to the system.</span></span> <span data-ttu-id="927eb-270">El siguiente diagrama muestra la forma en que la aplicación usa [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] para responder a las solicitudes de dibujo.</span><span class="sxs-lookup"><span data-stu-id="927eb-270">The following diagram shows how the application relies on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] for responding to paint requests.</span></span>  
  
 ![Diagrama de secuencia de representación de WPF](./media/wpf-graphics-rendering-overview/wpf-rendering-sequence.png)  

#### <a name="intelligent-redrawing"></a><span data-ttu-id="927eb-272">Volver a dibujar de forma inteligente</span><span class="sxs-lookup"><span data-stu-id="927eb-272">Intelligent Redrawing</span></span>  
 <span data-ttu-id="927eb-273">Una de las mayores ventajas de utilizar gráficos en modo retenido es que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] puede optimizar eficazmente lo que hay que volver a dibujar en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="927eb-273">One of the biggest benefits in using retained mode graphics is that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can efficiently optimize what needs to be redrawn in the application.</span></span> <span data-ttu-id="927eb-274">Aunque tenga una escena compleja con diferentes niveles de opacidad, por lo general no es preciso escribir código especial para optimizar el redibujado.</span><span class="sxs-lookup"><span data-stu-id="927eb-274">Even if you have a complex scene with varying levels of opacity, you generally do not need to write special-purpose code to optimize redrawing.</span></span> <span data-ttu-id="927eb-275">Compárelo esto con la programación de Win32, en la que se puede dedicar mucho esfuerzo a optimizar la aplicación mediante la minimización de la cantidad de redibujado que se realiza en la región de actualización.</span><span class="sxs-lookup"><span data-stu-id="927eb-275">Compare this with Win32 programming in which you can spend a great deal of effort in optimizing your application by minimizing the amount of redrawing in the update region.</span></span> <span data-ttu-id="927eb-276">Consulte [Redrawing in the Update Region](/windows/desktop/gdi/redrawing-in-the-update-region) (Redibujado en la región de actualización) para obtener un ejemplo del tipo de complejidad implicado en la optimización del redibujado en las aplicaciones de Win32.</span><span class="sxs-lookup"><span data-stu-id="927eb-276">See [Redrawing in the Update Region](/windows/desktop/gdi/redrawing-in-the-update-region) for an example of the type of complexity involved in optimizing redrawing in Win32 applications.</span></span>  
  
### <a name="vector-graphics"></a><span data-ttu-id="927eb-277">Gráficos vectoriales</span><span class="sxs-lookup"><span data-stu-id="927eb-277">Vector Graphics</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="927eb-278">usa **gráficos vectoriales** como formato de los datos de representación.</span><span class="sxs-lookup"><span data-stu-id="927eb-278">uses **vector graphics** as its rendering data format.</span></span> <span data-ttu-id="927eb-279">Los gráficos vectoriales, que incluyen Scalable Vector Graphics (SVG), metarchivos de Windows (.wmf) y fuentes TrueType, almacenan datos de representación y los transmiten como una lista de instrucciones que describen cómo volver a crear una imagen mediante primitivas de gráficos.</span><span class="sxs-lookup"><span data-stu-id="927eb-279">Vector graphics—which include Scalable Vector Graphics (SVG), Windows metafiles (.wmf), and TrueType fonts—store rendering data and transmit it as a list of instructions that describe how to recreate an image using graphics primitives.</span></span> <span data-ttu-id="927eb-280">Por ejemplo, las fuentes TrueType son fuentes de esquema que describen un conjunto de líneas, curvas y comandos, en lugar de una matriz de píxeles.</span><span class="sxs-lookup"><span data-stu-id="927eb-280">For example, TrueType fonts are outline fonts that describe a set of lines, curves, and commands, rather than an array of pixels.</span></span> <span data-ttu-id="927eb-281">Una de las ventajas principales de los gráficos vectoriales es su capacidad para escalar a cualquier tamaño y resolución.</span><span class="sxs-lookup"><span data-stu-id="927eb-281">One of the key benefits of vector graphics is the ability to scale to any size and resolution.</span></span>  
  
 <span data-ttu-id="927eb-282">A diferencia de los gráficos vectoriales, los gráficos de mapa de bits almacenan los datos de representación como una representación píxel a píxel de una imagen, previamente representada para una resolución específica.</span><span class="sxs-lookup"><span data-stu-id="927eb-282">Unlike vector graphics, bitmap graphics store rendering data as a pixel-by-pixel representation of an image, pre-rendered for a specific resolution.</span></span> <span data-ttu-id="927eb-283">Una de las principales diferencias entre los formatos de gráficos vectoriales y de mapa de bits es la fidelidad con la imagen original.</span><span class="sxs-lookup"><span data-stu-id="927eb-283">One of the key differences between bitmap and vector graphic formats is fidelity to the original source image.</span></span> <span data-ttu-id="927eb-284">Por ejemplo, cuando se modifica el tamaño de una imagen de origen, los sistemas de gráficos de mapa de bits ajustan la imagen, mientras que los sistemas de gráficos vectoriales la escalan, lo que mantiene su fidelidad.</span><span class="sxs-lookup"><span data-stu-id="927eb-284">For example, when the size of a source image is modified, bitmap graphics systems stretch the image, whereas vector graphics systems scale the image, preserving the image fidelity.</span></span>  
  
 <span data-ttu-id="927eb-285">La ilustración siguiente muestra una imagen de origen cuyo tamaño se ha cambiado en un 300 %.</span><span class="sxs-lookup"><span data-stu-id="927eb-285">The following illustration shows a source image that has been resized by 300%.</span></span> <span data-ttu-id="927eb-286">Observe las distorsiones que aparecen cuando la imagen de origen es un gráfico de mapa de bits y se ajusta, en lugar de escalarse como imagen de gráfico vectorial.</span><span class="sxs-lookup"><span data-stu-id="927eb-286">Notice the distortions that appear when the source image is stretched as a bitmap graphics image rather than scaled as a vector graphics image.</span></span>  
  
 ![Diferencias entre gráficos de trama y vectoriales](./media/wpf-graphics-rendering-overview/raster-vector-differences.png)  
  
 <span data-ttu-id="927eb-288">El marcado siguiente muestra dos <xref:System.Windows.Shapes.Path> elementos definidos.</span><span class="sxs-lookup"><span data-stu-id="927eb-288">The following markup shows two <xref:System.Windows.Shapes.Path> elements defined.</span></span> <span data-ttu-id="927eb-289">El segundo elemento utiliza <xref:System.Windows.Media.ScaleTransform> para cambiar el tamaño de las instrucciones de dibujo del primer elemento en un 300%.</span><span class="sxs-lookup"><span data-stu-id="927eb-289">The second element uses a <xref:System.Windows.Media.ScaleTransform> to resize the drawing instructions of the first element by 300%.</span></span> <span data-ttu-id="927eb-290">Observe que las instrucciones de dibujo de los <xref:System.Windows.Shapes.Path> elementos permanecen sin cambios.</span><span class="sxs-lookup"><span data-stu-id="927eb-290">Notice that the drawing instructions in the <xref:System.Windows.Shapes.Path> elements remain unchanged.</span></span>  
  
 [!code-xaml[VectorGraphicsSnippets#VectorGraphicsSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VectorGraphicsSnippets/CS/PageOne.xaml#vectorgraphicssnippet1)]  
  
### <a name="about-resolution-and-device-independent-graphics"></a><span data-ttu-id="927eb-291">Acerca de los gráficos independientes de la resolución y del dispositivo</span><span class="sxs-lookup"><span data-stu-id="927eb-291">About Resolution and Device-Independent Graphics</span></span>  
 <span data-ttu-id="927eb-292">Hay dos factores del sistema que determinan el tamaño tanto del texto como de los gráficos en la pantalla: la resolución y los puntos por pulgada.</span><span class="sxs-lookup"><span data-stu-id="927eb-292">There are two system factors that determine the size of text and graphics on your screen: resolution and DPI.</span></span> <span data-ttu-id="927eb-293">La resolución describe el número de píxeles que aparecen en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="927eb-293">Resolution describes the number of pixels that appear on the screen.</span></span> <span data-ttu-id="927eb-294">A medida que aumenta la resolución, disminuye el tamaño de los píxeles, lo que provoca que tanto los gráficos como el texto parezcan menores.</span><span class="sxs-lookup"><span data-stu-id="927eb-294">As the resolution gets higher, pixels get smaller, causing graphics and text to appear smaller.</span></span> <span data-ttu-id="927eb-295">Un gráfico que se muestre en un monitor cuya resolución se haya configurado en 1024 x 768 píxeles parecerá mucho más pequeño cuando dicha resolución se cambie a 1600 x 1200.</span><span class="sxs-lookup"><span data-stu-id="927eb-295">A graphic displayed on a monitor set to 1024 x 768 will appear much smaller when the resolution is changed to 1600 x 1200.</span></span>  
  
 <span data-ttu-id="927eb-296">La otra configuración del sistema, los puntos por pulgada (ppp), describe el tamaño de una pulgada de pantalla, en píxeles.</span><span class="sxs-lookup"><span data-stu-id="927eb-296">The other system setting, DPI, describes the size of a screen inch in pixels.</span></span> <span data-ttu-id="927eb-297">La mayoría de los sistemas de Windows tienen un PPP de 96, lo que significa que una pulgada de pantalla es de 96 píxeles.</span><span class="sxs-lookup"><span data-stu-id="927eb-297">Most Windows systems have a DPI of 96, which means a screen inch is 96 pixels.</span></span> <span data-ttu-id="927eb-298">El aumento de la configuración de PPP aumenta el tamaño de la pulgada de la pantalla; mientras que su disminución lo reduce,</span><span class="sxs-lookup"><span data-stu-id="927eb-298">Increasing the DPI setting makes the screen inch larger; decreasing the DPI makes the screen inch smaller.</span></span> <span data-ttu-id="927eb-299">lo que significa que una pulgada de la pantalla no es el mismo tamaño que una pulgada real; en la mayoría de los sistemas, es probable que no lo sea.</span><span class="sxs-lookup"><span data-stu-id="927eb-299">This means that a screen inch isn't the same size as a real-world inch; on most systems, it's probably not.</span></span> <span data-ttu-id="927eb-300">A medida que se aumente el valor de PPP, tanto el texto como los gráficos con reconocimiento de PPP serán mayores, ya que se ha incrementado el tamaño de la pulgada de pantalla.</span><span class="sxs-lookup"><span data-stu-id="927eb-300">As you increase the DPI, DPI-aware graphics and text become larger because you've increased the size of the screen inch.</span></span> <span data-ttu-id="927eb-301">El aumento del valor de PPP puede facilitar la lectura del texto, especialmente en resoluciones altas.</span><span class="sxs-lookup"><span data-stu-id="927eb-301">Increasing the DPI can make text easier to read, especially at high resolutions.</span></span>  
  
 <span data-ttu-id="927eb-302">No todas las aplicaciones reconocen el PPP: algunas utilizan los píxeles de hardware como unidad de medida principal; por consiguiente, el cambio de los PPP del sistema no tiene ningún efecto en dichas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="927eb-302">Not all applications are DPI-aware: some use hardware pixels as the primary unit of measurement; changing the system DPI has no effect on these applications.</span></span> <span data-ttu-id="927eb-303">Muchas otras aplicaciones utilizan unidades con reconocimiento de PPP para describir los tamaños de fuente, pero usan píxeles para describir todo lo demás.</span><span class="sxs-lookup"><span data-stu-id="927eb-303">Many other applications use DPI-aware units to describe font sizes, but use pixels to describe everything else.</span></span> <span data-ttu-id="927eb-304">Un valor de PPP es demasiado pequeño o demasiado grande puede provocar problemas de diseño en estas aplicaciones, ya que el texto de las aplicaciones se escala con la configuración de PPP del sistema, mientras que su interfaz de usuario no lo hace.</span><span class="sxs-lookup"><span data-stu-id="927eb-304">Making the DPI too small or too large can cause layout problems for these applications, because the applications' text scales with the system's DPI setting, but the applications' UI does not.</span></span> <span data-ttu-id="927eb-305">Este problema se ha eliminado en las aplicaciones desarrolladas mediante [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="927eb-305">This problem has been eliminated for applications developed using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="927eb-306">admite el escalado automático mediante el uso del píxel independiente del dispositivo como unidad de medida principal, en lugar de los píxeles de hardware; tanto el texto como los gráficos se escalan correctamente sin que el desarrollador de la aplicación tenga que realizar ningún trabajo adicional.</span><span class="sxs-lookup"><span data-stu-id="927eb-306">supports automatic scaling by using the device independent pixel as its primary unit of measurement, instead of hardware pixels; graphics and text scale properly without any extra work from the application developer.</span></span> <span data-ttu-id="927eb-307">La siguiente ilustración muestra un ejemplo de cómo aparecen tanto el texto como los gráficos de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] con diferentes configuraciones de PPP.</span><span class="sxs-lookup"><span data-stu-id="927eb-307">The following illustration shows an example of how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] text and graphics are appear at different DPI settings.</span></span>  
  
 <span data-ttu-id="927eb-308">![Gráficos y texto con diferentes configuraciones de PPP](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span><span class="sxs-lookup"><span data-stu-id="927eb-308">![Graphics and text at different DPI settings](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span></span>  
<span data-ttu-id="927eb-309">Gráficos y texto con diferentes configuraciones de PPP</span><span class="sxs-lookup"><span data-stu-id="927eb-309">Graphics and text at different DPI settings</span></span>  
  
<a name="visualtreehelper_class"></a>
## <a name="visualtreehelper-class"></a><span data-ttu-id="927eb-310">Clase VisualTreeHelper</span><span class="sxs-lookup"><span data-stu-id="927eb-310">VisualTreeHelper Class</span></span>  
 <span data-ttu-id="927eb-311">La <xref:System.Windows.Media.VisualTreeHelper> clase es una clase auxiliar estática que proporciona funcionalidad de bajo nivel para programar en el nivel de objeto visual, lo que resulta útil en escenarios muy concretos, como el desarrollo de controles personalizados de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="927eb-311">The <xref:System.Windows.Media.VisualTreeHelper> class is a static helper class that provides low-level functionality for programming at the visual object level, which is useful in very specific scenarios, such as developing high-performance custom controls.</span></span> <span data-ttu-id="927eb-312">En la mayoría de los casos, los objetos de plataforma de nivel superior [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , como <xref:System.Windows.Controls.Canvas> y <xref:System.Windows.Controls.TextBlock> , ofrecen mayor flexibilidad y facilidad de uso.</span><span class="sxs-lookup"><span data-stu-id="927eb-312">In most case, the higher-level [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] framework objects, such as <xref:System.Windows.Controls.Canvas> and <xref:System.Windows.Controls.TextBlock>, offer greater flexibility and ease of use.</span></span>  
  
### <a name="hit-testing"></a><span data-ttu-id="927eb-313">Pruebas de posicionamiento</span><span class="sxs-lookup"><span data-stu-id="927eb-313">Hit Testing</span></span>  
 <span data-ttu-id="927eb-314">La <xref:System.Windows.Media.VisualTreeHelper> clase proporciona métodos para realizar pruebas de posicionamiento en objetos visuales cuando la compatibilidad con la prueba de posicionamiento predeterminada no satisface sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="927eb-314">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for hit testing on visual objects when the default hit test support does not meet your needs.</span></span> <span data-ttu-id="927eb-315">Puede usar los <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> métodos de la <xref:System.Windows.Media.VisualTreeHelper> clase para determinar si una geometría o un valor de coordenadas de punto está dentro del límite de un objeto determinado, como un control o un elemento gráfico.</span><span class="sxs-lookup"><span data-stu-id="927eb-315">You can use the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> methods in the <xref:System.Windows.Media.VisualTreeHelper> class to determine whether a geometry or point coordinate value is within the boundary of a given object, such as a control or graphic element.</span></span> <span data-ttu-id="927eb-316">Por ejemplo, las pruebas de posicionamiento se pueden utilizar para determinar si un clic del mouse dentro del rectángulo delimitador de un objeto pertenece a la geometría de un círculo. También puede elegir invalidar la implementación predeterminada de las pruebas de posicionamiento para realizar sus propios cálculos de las pruebas de posicionamiento.</span><span class="sxs-lookup"><span data-stu-id="927eb-316">For example, you could use hit testing to determine whether a mouse click within the bounding rectangle of an object falls within the geometry of a circle You can also choose to override the default implementation of hit testing to perform your own custom hit test calculations.</span></span>  
  
 <span data-ttu-id="927eb-317">Para más información acerca de las pruebas de posicionamiento, consulte [Hit Testing in the Visual Layer](hit-testing-in-the-visual-layer.md) (Pruebas de posicionamiento en la capa visual).</span><span class="sxs-lookup"><span data-stu-id="927eb-317">For more information on hit testing, see [Hit Testing in the Visual Layer](hit-testing-in-the-visual-layer.md).</span></span>  
  
### <a name="enumerating-the-visual-tree"></a><span data-ttu-id="927eb-318">Enumeración del árbol visual</span><span class="sxs-lookup"><span data-stu-id="927eb-318">Enumerating the Visual Tree</span></span>  
 <span data-ttu-id="927eb-319">La <xref:System.Windows.Media.VisualTreeHelper> clase proporciona la funcionalidad para enumerar los miembros de un árbol visual.</span><span class="sxs-lookup"><span data-stu-id="927eb-319">The <xref:System.Windows.Media.VisualTreeHelper> class provides functionality for enumerating the members of a visual tree.</span></span> <span data-ttu-id="927eb-320">Para recuperar un elemento primario, llame al <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> método.</span><span class="sxs-lookup"><span data-stu-id="927eb-320">To retrieve a parent, call the <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> method.</span></span> <span data-ttu-id="927eb-321">Para recuperar un elemento secundario o un descendiente directo de un objeto visual, llame al <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> método.</span><span class="sxs-lookup"><span data-stu-id="927eb-321">To retrieve a child, or direct descendant, of a visual object, call the <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method.</span></span> <span data-ttu-id="927eb-322">Este método devuelve un elemento secundario <xref:System.Windows.Media.Visual> del elemento primario en el índice especificado.</span><span class="sxs-lookup"><span data-stu-id="927eb-322">This method returns a child <xref:System.Windows.Media.Visual> of the parent at the specified index.</span></span>  
  
 <span data-ttu-id="927eb-323">En el ejemplo siguiente se muestra cómo enumerar todos los descendientes de un objeto visual, que es una técnica que se puede utilizar si se desea serializar toda la información de representación de una jerarquía de objetos visuales.</span><span class="sxs-lookup"><span data-stu-id="927eb-323">The following example shows how to enumerate all the descendants of a visual object, which is a technique you might want to use if you were interested in serializing all the rendering information of a visual object hierarchy.</span></span>  
  
 [!code-csharp[VisualsOverview#101](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#101)]
 [!code-vb[VisualsOverview#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#101)]  
  
 <span data-ttu-id="927eb-324">En la mayoría de los casos, el árbol lógico es una representación más útil de los elementos de una aplicación de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="927eb-324">In most cases, the logical tree is a more useful representation of the elements in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="927eb-325">Aunque no se modifique directamente el árbol lógico, esta vista de la aplicación es útil para entender la herencia de propiedades y el enrutamiento de eventos.</span><span class="sxs-lookup"><span data-stu-id="927eb-325">Although you do not modify the logical tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="927eb-326">A diferencia del árbol visual, el árbol lógico puede representar objetos de datos no visuales, como <xref:System.Windows.Documents.ListItem> .</span><span class="sxs-lookup"><span data-stu-id="927eb-326">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="927eb-327">Para obtener más información sobre el árbol lógico, consulte [Árboles en WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="927eb-327">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
 <span data-ttu-id="927eb-328">La <xref:System.Windows.Media.VisualTreeHelper> clase proporciona métodos para devolver el rectángulo delimitador de objetos visuales.</span><span class="sxs-lookup"><span data-stu-id="927eb-328">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for returning the bounding rectangle of visual objects.</span></span> <span data-ttu-id="927eb-329">Puede devolver el rectángulo delimitador de un objeto visual llamando a <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A> .</span><span class="sxs-lookup"><span data-stu-id="927eb-329">You can return the bounding rectangle of a visual object by calling <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>.</span></span> <span data-ttu-id="927eb-330">Puede devolver el rectángulo delimitador de todos los descendientes de un objeto visual, incluido el propio objeto visual, mediante una llamada a <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A> .</span><span class="sxs-lookup"><span data-stu-id="927eb-330">You can return the bounding rectangle of all the descendants of a visual object, including the visual object itself, by calling <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>.</span></span> <span data-ttu-id="927eb-331">El código siguiente muestra cómo se calcularía el rectángulo delimitador de un objeto visual y todos sus descendientes.</span><span class="sxs-lookup"><span data-stu-id="927eb-331">The following code shows how you would calculate the bounding rectangle of a visual object and all its descendants.</span></span>  
  
 [!code-csharp[VisualsOverview#102](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#102)]
 [!code-vb[VisualsOverview#102](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#102)]  
  
## <a name="see-also"></a><span data-ttu-id="927eb-332">Vea también</span><span class="sxs-lookup"><span data-stu-id="927eb-332">See also</span></span>

- <xref:System.Windows.Media.Visual>
- <xref:System.Windows.Media.VisualTreeHelper>
- <xref:System.Windows.Media.DrawingVisual>
- [<span data-ttu-id="927eb-333">Imágenes y gráficos 2D</span><span class="sxs-lookup"><span data-stu-id="927eb-333">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="927eb-334">Realizar pruebas de posicionamiento en la capa visual</span><span class="sxs-lookup"><span data-stu-id="927eb-334">Hit Testing in the Visual Layer</span></span>](hit-testing-in-the-visual-layer.md)
- [<span data-ttu-id="927eb-335">Usar objetos DrawingVisual</span><span class="sxs-lookup"><span data-stu-id="927eb-335">Using DrawingVisual Objects</span></span>](using-drawingvisual-objects.md)
- [<span data-ttu-id="927eb-336">Tutorial: Hospedar objetos visuales en una aplicación Win32</span><span class="sxs-lookup"><span data-stu-id="927eb-336">Tutorial: Hosting Visual Objects in a Win32 Application</span></span>](tutorial-hosting-visual-objects-in-a-win32-application.md)
- [<span data-ttu-id="927eb-337">Optimizar WPF: Rendimiento de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="927eb-337">Optimizing WPF Application Performance</span></span>](../advanced/optimizing-wpf-application-performance.md)
