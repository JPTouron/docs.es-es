---
title: Introducción a las propiedades de dependencia
description: Una propiedad respaldada por el sistema de propiedades de WPF se conoce como una propiedad de dependencia. En esta información general se describe el sistema de propiedades de WPF y las funcionalidades de una propiedad de dependencia.
ms.date: 06/06/2018
dev_langs:
- csharp
- vb
helpviewer_keywords:
- properties [WPF], attached
- properties [WPF], overview
- styles [WPF]
- attached properties [WPF]
- data binding [WPF]
- dependency properties [WPF]
- resources [WPF], references to
ms.assetid: d119d00c-3afb-48d6-87a0-c4da4f83dee5
ms.openlocfilehash: 9a911b99b4543ae7957b685df06b4d85f13c7790
ms.sourcegitcommit: c76c8b2c39ed2f0eee422b61a2ab4c05ca7771fa
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/21/2020
ms.locfileid: "83762245"
---
# <a name="dependency-properties-overview"></a><span data-ttu-id="e656d-104">Introducción a las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="e656d-104">Dependency properties overview</span></span>

<span data-ttu-id="e656d-105">Windows Presentation Foundation (WPF) proporciona un conjunto de servicios que se pueden usar para ampliar la funcionalidad de la [propiedad](../../../standard/base-types/common-type-system.md#properties) de un tipo.</span><span class="sxs-lookup"><span data-stu-id="e656d-105">Windows Presentation Foundation (WPF) provides a set of services that can be used to extend the functionality of a type's [property](../../../standard/base-types/common-type-system.md#properties).</span></span> <span data-ttu-id="e656d-106">Colectivamente, se suele hacer referencia a estos servicios como el sistema de propiedades de WPF.</span><span class="sxs-lookup"><span data-stu-id="e656d-106">Collectively, these services are typically referred to as the WPF property system.</span></span> <span data-ttu-id="e656d-107">Una propiedad respaldada por el sistema de propiedades de WPF se conoce como una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-107">A property that is backed by the WPF property system is known as a dependency property.</span></span> <span data-ttu-id="e656d-108">En esta información general se describe el sistema de propiedades de WPF y las funcionalidades de una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-108">This overview describes the WPF property system and the capabilities of a dependency property.</span></span> <span data-ttu-id="e656d-109">Esto incluye cómo usar las propiedades de dependencia existentes en XAML y en el código.</span><span class="sxs-lookup"><span data-stu-id="e656d-109">This includes how to use existing dependency properties in XAML and in code.</span></span> <span data-ttu-id="e656d-110">Esta información general también presenta aspectos especializados de las propiedades de dependencia, como los metadatos de las propiedades de dependencia y el proceso de creación de una propiedad de dependencia propia en una clase personalizada.</span><span class="sxs-lookup"><span data-stu-id="e656d-110">This overview also introduces specialized aspects of dependency properties, such as dependency property metadata, and how to create your own dependency property in a custom class.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e656d-111">Prerrequisitos</span><span class="sxs-lookup"><span data-stu-id="e656d-111">Prerequisites</span></span>
<span data-ttu-id="e656d-112">En este tema se supone que tiene conocimientos básicos sobre el sistema de tipos de .NET y la programación orientada a objetos.</span><span class="sxs-lookup"><span data-stu-id="e656d-112">This topic assumes that you have some basic knowledge of the .NET type system and object-oriented programming.</span></span> <span data-ttu-id="e656d-113">Para seguir los ejemplos de este tema, también debe comprender el lenguaje XAML y saber cómo escribir aplicaciones de WPF.</span><span class="sxs-lookup"><span data-stu-id="e656d-113">In order to follow the examples in this topic, you should also understand XAML and know how to write WPF applications.</span></span> <span data-ttu-id="e656d-114">Para obtener más información, vea [Tutorial: Mi primera aplicación de escritorio WPF](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-114">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span></span>  
  
## <a name="dependency-properties-and-clr-properties"></a><span data-ttu-id="e656d-115">Propiedades de dependencia y propiedades CLR</span><span class="sxs-lookup"><span data-stu-id="e656d-115">Dependency properties and CLR properties</span></span>
 <span data-ttu-id="e656d-116">En WPF, las propiedades se suelen exponer como [propiedades estándar](../../../standard/base-types/common-type-system.md#properties) de .NET.</span><span class="sxs-lookup"><span data-stu-id="e656d-116">In WPF, properties are typically exposed as standard .NET [properties](../../../standard/base-types/common-type-system.md#properties).</span></span> <span data-ttu-id="e656d-117">En un nivel básico, podría interactuar directamente con estas propiedades y no llegar a saber que están implementadas como una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-117">At a basic level, you could interact with these properties directly and never know that they are implemented as a dependency property.</span></span> <span data-ttu-id="e656d-118">Pero debería familiarizarse con todas o algunas de las características del sistema de propiedades de WPF, a fin de poder aprovechar estas características.</span><span class="sxs-lookup"><span data-stu-id="e656d-118">However, you should become familiar with some or all of the features of the WPF property system, so that you can take advantage of these features.</span></span>

<span data-ttu-id="e656d-119">El propósito de las propiedades de dependencia es proporcionar una manera de calcular el valor de una propiedad en función del valor de otras entradas.</span><span class="sxs-lookup"><span data-stu-id="e656d-119">The purpose of dependency properties is to provide a way to compute the value of a property based on the value of other inputs.</span></span> <span data-ttu-id="e656d-120">Estas otras entradas pueden incluir propiedades del sistema, tales como temas y preferencias del usuario, mecanismos de determinación de propiedades Just-In-Time como el enlace de datos y las animaciones o los guiones gráficos, plantillas de usos múltiples como recursos y estilos, o valores conocidos a través de relaciones primario-secundario con otros elementos del árbol de elementos.</span><span class="sxs-lookup"><span data-stu-id="e656d-120">These other inputs might include system properties such as themes and user preference, just-in-time property determination mechanisms such as data binding and animations/storyboards, multiple-use templates such as resources and styles, or values known through parent-child relationships with other elements in the element tree.</span></span> <span data-ttu-id="e656d-121">Además, una propiedad de dependencia se puede implementar para proporcionar una validación autocontenida, valores predeterminados, devoluciones de llamada que controlen los cambios en otras propiedades y un sistema que pueda forzar los valores de propiedad de acuerdo con la información de tiempo de ejecución en potencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-121">In addition, a dependency property can be implemented to provide self-contained validation, default values, callbacks that monitor changes to other properties, and a system that can coerce property values based on potentially runtime information.</span></span> <span data-ttu-id="e656d-122">Las clases derivadas también pueden cambiar algunas características concretas de una propiedad existente mediante la invalidación de los metadatos de la propiedad de dependencia, en lugar de invalidar la implementación real de las propiedades existentes o de crear nuevas propiedades.</span><span class="sxs-lookup"><span data-stu-id="e656d-122">Derived classes can also change some specific characteristics of an existing property by overriding dependency property metadata, rather than overriding the actual implementation of existing properties or creating new properties.</span></span>

<span data-ttu-id="e656d-123">En la referencia del SDK, puede identificar qué propiedad es una propiedad de dependencia por la presencia de la sección de información de la propiedad de dependencia en la página de referencia administrada de esa propiedad.</span><span class="sxs-lookup"><span data-stu-id="e656d-123">In the SDK reference, you can identify which property is a dependency property by the presence of the Dependency Property Information section on the managed reference page for that property.</span></span> <span data-ttu-id="e656d-124">En la sección de información de las propiedades de dependencia se incluye un vínculo al campo de identificador <xref:System.Windows.DependencyProperty> de esa propiedad de dependencia, así como una lista de las opciones de metadatos establecidas para esa propiedad, información de invalidación por clases y otros detalles.</span><span class="sxs-lookup"><span data-stu-id="e656d-124">The Dependency Property Information section includes a link to the <xref:System.Windows.DependencyProperty> identifier field for that dependency property, and also includes a list of the metadata options that are set for that property, per-class override information, and other details.</span></span>

## <a name="dependency-properties-back-clr-properties"></a><span data-ttu-id="e656d-125">Las propiedades de dependencia respaldan las propiedades CLR</span><span class="sxs-lookup"><span data-stu-id="e656d-125">Dependency properties back CLR properties</span></span>
<span data-ttu-id="e656d-126">Las propiedades de dependencia y el sistema de propiedades de WPF extienden la funcionalidad de las propiedades al proporcionar un tipo que respalda una propiedad, como una implementación alternativa al patrón estándar de respaldar la propiedad con un campo privado.</span><span class="sxs-lookup"><span data-stu-id="e656d-126">Dependency properties and the WPF property system extend property functionality by providing a type that backs a property, as an alternative implementation to the standard pattern of backing the property with a private field.</span></span> <span data-ttu-id="e656d-127">El nombre de este tipo es <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="e656d-127">The name of this type is <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="e656d-128">El otro tipo importante que define el sistema de propiedades de WPF es <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="e656d-128">The other important type that defines the WPF property system is <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="e656d-129"><xref:System.Windows.DependencyObject> define la clase base que puede registrar y poseer una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-129"><xref:System.Windows.DependencyObject> defines the base class that can register and own a dependency property.</span></span>

<span data-ttu-id="e656d-130">A continuación se enumera la terminología que se usa con las propiedades de dependencia:</span><span class="sxs-lookup"><span data-stu-id="e656d-130">The following lists the terminology that is used with dependency properties:</span></span>

- <span data-ttu-id="e656d-131">**Propiedad de dependencia:** una propiedad que está respaldada por una <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="e656d-131">**Dependency property:** A property that is backed by a <xref:System.Windows.DependencyProperty>.</span></span>

- <span data-ttu-id="e656d-132">**Identificador de la propiedad de dependencia:** una instancia de <xref:System.Windows.DependencyProperty>, que se obtiene como un valor devuelto al registrar una propiedad de dependencia y, después, se almacena como un miembro estático de una clase.</span><span class="sxs-lookup"><span data-stu-id="e656d-132">**Dependency property identifier:** A <xref:System.Windows.DependencyProperty> instance, which is obtained as a return value when registering a dependency property, and then stored as a static member of a class.</span></span> <span data-ttu-id="e656d-133">Este identificador se usa como un parámetro para muchas de las API que interactúan con el sistema de propiedades de WPF.</span><span class="sxs-lookup"><span data-stu-id="e656d-133">This identifier is used as a parameter for many of the APIs that interact with the WPF property system.</span></span>

- <span data-ttu-id="e656d-134">**"Contenedor" de CLR:** implementaciones de get y set reales de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="e656d-134">**CLR "wrapper":** The actual get and set implementations for the property.</span></span> <span data-ttu-id="e656d-135">Estas implementaciones incorporan el identificador de la propiedad de dependencia usándolo en las llamadas a <xref:System.Windows.DependencyObject.GetValue%2A> y <xref:System.Windows.DependencyObject.SetValue%2A>, proporcionando así el respaldo para la propiedad que usa el sistema de propiedades WPF.</span><span class="sxs-lookup"><span data-stu-id="e656d-135">These implementations incorporate the dependency property identifier by using it in the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> calls, thus providing the backing for the property using the WPF property system.</span></span>

<span data-ttu-id="e656d-136">En el ejemplo siguiente se define la propiedad de dependencia `IsSpinning` y se muestra la relación del identificador <xref:System.Windows.DependencyProperty> con la propiedad que respalda.</span><span class="sxs-lookup"><span data-stu-id="e656d-136">The following example defines the `IsSpinning` dependency property, and shows the relationship of the <xref:System.Windows.DependencyProperty> identifier to the property that it backs.</span></span>

[!code-csharp[PropertiesOvwSupport#DPFormBasic](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)]
[!code-vb[PropertiesOvwSupport#DPFormBasic](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)]  
  
<span data-ttu-id="e656d-137">La convención de nomenclatura de la propiedad y su campo de respaldo <xref:System.Windows.DependencyProperty> es importante.</span><span class="sxs-lookup"><span data-stu-id="e656d-137">The naming convention of the property and its backing <xref:System.Windows.DependencyProperty> field is important.</span></span> <span data-ttu-id="e656d-138">El nombre del campo siempre es el nombre de la propiedad, con el sufijo `Property` anexado.</span><span class="sxs-lookup"><span data-stu-id="e656d-138">The name of the field is always the name of the property, with the suffix `Property` appended.</span></span> <span data-ttu-id="e656d-139">Para obtener más información acerca de esta convención y las razones para usarla, consulte [Propiedades de dependencia personalizadas](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-139">For more information about this convention and the reasons for it, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>  

## <a name="setting-property-values"></a><span data-ttu-id="e656d-140">Establecimiento de valores de propiedad</span><span class="sxs-lookup"><span data-stu-id="e656d-140">Setting property values</span></span>
<span data-ttu-id="e656d-141">Puede establecer propiedades en el código o en XAML.</span><span class="sxs-lookup"><span data-stu-id="e656d-141">You can set properties either in code or in XAML.</span></span>

### <a name="setting-property-values-in-xaml"></a><span data-ttu-id="e656d-142">Establecimiento de valores de propiedad en XAML</span><span class="sxs-lookup"><span data-stu-id="e656d-142">Setting property values in XAML</span></span>
<span data-ttu-id="e656d-143">El siguiente ejemplo de XAML especifica el color de fondo de un botón como rojo.</span><span class="sxs-lookup"><span data-stu-id="e656d-143">The following XAML example specifies the background color of a button as red.</span></span> <span data-ttu-id="e656d-144">En este ejemplo se muestra un caso donde el analizador de XAML de WPF convirtió el tipo del valor de cadena simple de un atributo XAML en un tipo WPF (<xref:System.Windows.Media.Color>, por medio de <xref:System.Windows.Media.SolidColorBrush>) en el código generado.</span><span class="sxs-lookup"><span data-stu-id="e656d-144">This example illustrates a case where the simple string value for a XAML attribute is type-converted by the WPF XAML parser into a WPF type (a <xref:System.Windows.Media.Color>, by way of a <xref:System.Windows.Media.SolidColorBrush>) in the generated code.</span></span>

[!code-xaml[PropertiesOvwSupport#MostBasicProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#mostbasicproperty)]

<span data-ttu-id="e656d-145">XAML admite una variedad de formatos de sintaxis para establecer propiedades.</span><span class="sxs-lookup"><span data-stu-id="e656d-145">XAML supports a variety of syntax forms for setting properties.</span></span> <span data-ttu-id="e656d-146">La sintaxis que se debe usar para una propiedad determinada dependerá del tipo de valor que use la propiedad, así como de otros factores, tal como la presencia de un convertidor de tipos.</span><span class="sxs-lookup"><span data-stu-id="e656d-146">Which syntax to use for a particular property will depend on the value type that a property uses, as well as other factors such as the presence of a type converter.</span></span> <span data-ttu-id="e656d-147">Para obtener más información sobre la sintaxis XAML y establecer propiedades, consulte [Información general sobre XAML (WPF)](../../../desktop-wpf/fundamentals/xaml.md) y [Detalles de la sintaxis XAML](xaml-syntax-in-detail.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-147">For more information on XAML syntax for property setting, see [XAML Overview (WPF)](../../../desktop-wpf/fundamentals/xaml.md) and [XAML Syntax In Detail](xaml-syntax-in-detail.md).</span></span>

<span data-ttu-id="e656d-148">Como ejemplo de sintaxis sin atributos, en el ejemplo de XAML siguiente se muestra otro fondo de botón.</span><span class="sxs-lookup"><span data-stu-id="e656d-148">As an example of non-attribute syntax, the following XAML example shows another button background.</span></span> <span data-ttu-id="e656d-149">Esta vez, en lugar de establecer un color sólido simple, el fondo se establece en una imagen, con un elemento que representa esa imagen y el origen de la imagen especificado como un atributo del elemento anidado.</span><span class="sxs-lookup"><span data-stu-id="e656d-149">This time rather than setting a simple solid color, the background is set to an image, with an element representing that image and the source of that image specified as an attribute of the nested element.</span></span> <span data-ttu-id="e656d-150">Este es un ejemplo de sintaxis de elemento de propiedad.</span><span class="sxs-lookup"><span data-stu-id="e656d-150">This is an example of property element syntax.</span></span>

[!code-xaml[PropertiesOvwSupport#PESyntaxProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#pesyntaxproperty)]

### <a name="setting-properties-in-code"></a><span data-ttu-id="e656d-151">Establecimiento de propiedades en el código</span><span class="sxs-lookup"><span data-stu-id="e656d-151">Setting properties in code</span></span>
 <span data-ttu-id="e656d-152">Establecer los valores de propiedad de dependencia en el código suele ser simplemente una llamada a la implementación de conjunto expuesta por el "contenedor" de CLR.</span><span class="sxs-lookup"><span data-stu-id="e656d-152">Setting dependency property values in code is typically just a call to the set implementation exposed by the CLR "wrapper".</span></span>

[!code-csharp[PropertiesOvwSupport#ProceduralPropertySet](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyset)]
[!code-vb[PropertiesOvwSupport#ProceduralPropertySet](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyset)]

<span data-ttu-id="e656d-153">Para obtener un valor de propiedad también se requiere esencialmente una llamada a la implementación de get del "contenedor":</span><span class="sxs-lookup"><span data-stu-id="e656d-153">Getting a property value is also essentially a call to the get "wrapper" implementation:</span></span>

[!code-csharp[PropertiesOvwSupport#ProceduralPropertyGet](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyget)]
 [!code-vb[PropertiesOvwSupport#ProceduralPropertyGet](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyget)]

<span data-ttu-id="e656d-154">También puede llamar a las API del sistema de propiedades <xref:System.Windows.DependencyObject.GetValue%2A> y <xref:System.Windows.DependencyObject.SetValue%2A> directamente.</span><span class="sxs-lookup"><span data-stu-id="e656d-154">You can also call the property system APIs <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly.</span></span> <span data-ttu-id="e656d-155">Normalmente, esto no es necesario si se usan propiedades existentes (los contenedores son más cómodos y proporcionan una mejor exposición de la propiedad para las herramientas de desarrollo), pero la llamada directa a las API es adecuada para determinados escenarios.</span><span class="sxs-lookup"><span data-stu-id="e656d-155">This is not typically necessary if you are using existing properties (the wrappers are more convenient, and provide better exposure of the property for developer tools), but calling the APIs directly is appropriate for certain scenarios.</span></span>

<span data-ttu-id="e656d-156">Las propiedades también se pueden establecer en XAML y se puede acceder a ellas más adelante en el código a través del código subyacente.</span><span class="sxs-lookup"><span data-stu-id="e656d-156">Properties can be also set in XAML and then accessed later in code, through code-behind.</span></span> <span data-ttu-id="e656d-157">Para obtener información detallada, vea [Código subyacente y XAML en WPF](code-behind-and-xaml-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-157">For details, see [Code-Behind and XAML in WPF](code-behind-and-xaml-in-wpf.md).</span></span>

## <a name="property-functionality-provided-by-a-dependency-property"></a><span data-ttu-id="e656d-158">Funcionalidad de propiedad proporcionada por una propiedad de dependencia</span><span class="sxs-lookup"><span data-stu-id="e656d-158">Property functionality provided by a dependency property</span></span>
<span data-ttu-id="e656d-159">Una propiedad de dependencia proporciona una funcionalidad que amplía la funcionalidad de una propiedad, al contrario que una propiedad respaldada por un campo.</span><span class="sxs-lookup"><span data-stu-id="e656d-159">A dependency property provides functionality that extends the functionality of a property as opposed to a property that is backed by a field.</span></span> <span data-ttu-id="e656d-160">A menudo, esta funcionalidad representa o admite una de las características específicas siguientes:</span><span class="sxs-lookup"><span data-stu-id="e656d-160">Often, such functionality represents or supports one of the following specific features:</span></span>

- [<span data-ttu-id="e656d-161">Recursos</span><span class="sxs-lookup"><span data-stu-id="e656d-161">Resources</span></span>](#resources)

- [<span data-ttu-id="e656d-162">Enlace de datos</span><span class="sxs-lookup"><span data-stu-id="e656d-162">Data binding</span></span>](#data-binding)

- [<span data-ttu-id="e656d-163">Estilos</span><span class="sxs-lookup"><span data-stu-id="e656d-163">Styles</span></span>](#styles)

- [<span data-ttu-id="e656d-164">Animaciones</span><span class="sxs-lookup"><span data-stu-id="e656d-164">Animations</span></span>](#animations)

- [<span data-ttu-id="e656d-165">Invalidaciones de metadatos</span><span class="sxs-lookup"><span data-stu-id="e656d-165">Metadata overrides</span></span>](#metadata-overrides)

- [<span data-ttu-id="e656d-166">Herencia de valores de propiedad</span><span class="sxs-lookup"><span data-stu-id="e656d-166">Property value inheritance</span></span>](#property-value-inheritance)

- [<span data-ttu-id="e656d-167">Integración de WPF Designer</span><span class="sxs-lookup"><span data-stu-id="e656d-167">WPF Designer integration</span></span>](#wpf-designer-integration)

### <a name="resources"></a><span data-ttu-id="e656d-168">Recursos</span><span class="sxs-lookup"><span data-stu-id="e656d-168">Resources</span></span>
<span data-ttu-id="e656d-169">Un valor de propiedad de dependencia se puede establecer mediante una referencia a un recurso.</span><span class="sxs-lookup"><span data-stu-id="e656d-169">A dependency property value can be set by referencing a resource.</span></span> <span data-ttu-id="e656d-170">Los recursos se especifican normalmente como el valor de propiedad `Resources` de un elemento de raíz de la página o de la aplicación (estas ubicaciones permiten un acceso más cómodo al recurso).</span><span class="sxs-lookup"><span data-stu-id="e656d-170">Resources are typically specified as the `Resources` property value of a page root element, or of the application (these locations enable the most convenient access to the resource).</span></span> <span data-ttu-id="e656d-171">En el ejemplo siguiente se muestra cómo definir un recurso <xref:System.Windows.Media.SolidColorBrush>.</span><span class="sxs-lookup"><span data-stu-id="e656d-171">The following example shows how to define a <xref:System.Windows.Media.SolidColorBrush> resource.</span></span>

[!code-xaml[PropertiesOvwSupport#ResourcesResource](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesresource)]

<span data-ttu-id="e656d-172">Una vez que el recurso está definido, puede hacer referencia al recurso y usarlo para proporcionar un valor de propiedad:</span><span class="sxs-lookup"><span data-stu-id="e656d-172">Once the resource is defined, you can reference the resource and use it to provide a property value:</span></span>

[!code-xaml[PropertiesOvwSupport#ResourcesReference](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesreference)]

<span data-ttu-id="e656d-173">Se hace referencia a este recurso concreto como una [Extensión de marcado DynamicResource](dynamicresource-markup-extension.md) (en XAML de WPF, puede usar una referencia a recursos estáticos o dinámicos).</span><span class="sxs-lookup"><span data-stu-id="e656d-173">This particular resource is referenced as a [DynamicResource Markup Extension](dynamicresource-markup-extension.md) (in WPF XAML, you can use either a static or dynamic resource reference).</span></span> <span data-ttu-id="e656d-174">Para usar una referencia a recursos dinámicos, se debe establecer una propiedad de dependencia, que es específicamente el uso de referencias a recursos dinámicos que permite el sistema de propiedades de WPF.</span><span class="sxs-lookup"><span data-stu-id="e656d-174">To use a dynamic resource reference, you must be setting to a dependency property, so it is specifically the dynamic resource reference usage that is enabled by the WPF property system.</span></span> <span data-ttu-id="e656d-175">Para obtener más información, consulte [Recursos XAML](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-175">For more information, see [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span>

> [!NOTE]
> <span data-ttu-id="e656d-176">Los recursos se tratan como un valor local, lo que significa que si establece otro valor local, eliminará la referencia a los recursos.</span><span class="sxs-lookup"><span data-stu-id="e656d-176">Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference.</span></span> <span data-ttu-id="e656d-177">Para obtener más información, consulte [Prioridad de los valores de propiedades de dependencia](dependency-property-value-precedence.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-177">For more information, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

### <a name="data-binding"></a><span data-ttu-id="e656d-178">Enlace de datos</span><span class="sxs-lookup"><span data-stu-id="e656d-178">Data binding</span></span>
<span data-ttu-id="e656d-179">Una propiedad de dependencia puede hacer referencia a un valor mediante el enlace de datos.</span><span class="sxs-lookup"><span data-stu-id="e656d-179">A dependency property can reference a value through data binding.</span></span> <span data-ttu-id="e656d-180">El enlace de datos funciona mediante una sintaxis de extensión de marcado específica en XAML, o bien mediante el objeto <xref:System.Windows.Data.Binding> en el código.</span><span class="sxs-lookup"><span data-stu-id="e656d-180">Data binding works through a specific markup extension syntax in XAML, or the <xref:System.Windows.Data.Binding> object in code.</span></span> <span data-ttu-id="e656d-181">Con el enlace de datos, la determinación del valor de propiedad final se aplaza hasta el tiempo de ejecución, momento en el que se obtiene el valor de un origen de datos.</span><span class="sxs-lookup"><span data-stu-id="e656d-181">With data binding, the final property value determination is deferred until run time, at which time the value is obtained from a data source.</span></span>

<span data-ttu-id="e656d-182">En el ejemplo siguiente se establece la propiedad <xref:System.Windows.Controls.ContentControl.Content%2A> para un <xref:System.Windows.Controls.Button>, mediante un enlace declarado en XAML.</span><span class="sxs-lookup"><span data-stu-id="e656d-182">The following example sets the <xref:System.Windows.Controls.ContentControl.Content%2A> property for a <xref:System.Windows.Controls.Button>, using a binding declared in XAML.</span></span> <span data-ttu-id="e656d-183">El enlace usa un contexto de datos heredado y un origen de datos <xref:System.Windows.Data.XmlDataProvider> (no se muestra).</span><span class="sxs-lookup"><span data-stu-id="e656d-183">The binding uses an inherited data context and an <xref:System.Windows.Data.XmlDataProvider> data source (not shown).</span></span> <span data-ttu-id="e656d-184">El propio enlace especifica la propiedad de origen deseada mediante <xref:System.Windows.Data.Binding.XPath%2A> en el origen de datos.</span><span class="sxs-lookup"><span data-stu-id="e656d-184">The binding itself specifies the desired source property by <xref:System.Windows.Data.Binding.XPath%2A> within the data source.</span></span>

[!code-xaml[PropertiesOvwSupport#BasicInlineBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#basicinlinebinding)]

> [!NOTE]
> <span data-ttu-id="e656d-185">Los enlaces se tratan como un valor local, lo que significa que si establece otro valor local, eliminará el enlace.</span><span class="sxs-lookup"><span data-stu-id="e656d-185">Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding.</span></span> <span data-ttu-id="e656d-186">Para obtener más información, consulte [Prioridad de los valores de propiedades de dependencia](dependency-property-value-precedence.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-186">For details, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

<span data-ttu-id="e656d-187">Las propiedades de dependencia, o bien la clase <xref:System.Windows.DependencyObject>, no admiten de forma nativa <xref:System.ComponentModel.INotifyPropertyChanged> para fines de generación de notificaciones de cambios en el valor de propiedad de origen <xref:System.Windows.DependencyObject> para las operaciones de enlace de datos.</span><span class="sxs-lookup"><span data-stu-id="e656d-187">Dependency properties, or the <xref:System.Windows.DependencyObject> class, do not natively support <xref:System.ComponentModel.INotifyPropertyChanged> for purposes of producing notifications of changes in <xref:System.Windows.DependencyObject> source property value for data binding operations.</span></span> <span data-ttu-id="e656d-188">Para obtener más información acerca de cómo crear propiedades para su uso en un enlace de datos capaz de notificar los cambios en un destino de enlace de datos, consulte [Información general sobre el enlace de datos](../../../desktop-wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-188">For more information on how to create properties for use in data binding that can report changes to a data binding target, see [Data Binding Overview](../../../desktop-wpf/data/data-binding-overview.md).</span></span>

### <a name="styles"></a><span data-ttu-id="e656d-189">Estilos</span><span class="sxs-lookup"><span data-stu-id="e656d-189">Styles</span></span>
<span data-ttu-id="e656d-190">Los estilos y las plantillas son dos de los principales escenarios que invitan a usar las propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-190">Styles and templates are two of the chief motivating scenarios for using dependency properties.</span></span> <span data-ttu-id="e656d-191">Los estilos son particularmente útiles para establecer las propiedades que definen la [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e656d-191">Styles are particularly useful for setting properties that define application [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="e656d-192">Los estilos se definen normalmente como recursos en XAML.</span><span class="sxs-lookup"><span data-stu-id="e656d-192">Styles are typically defined as resources in XAML.</span></span> <span data-ttu-id="e656d-193">Los estilos interactúan con el sistema de propiedades porque suelen contener "establecedores" para determinadas propiedades, así como "desencadenadores" que cambian un valor de propiedad según el valor en tiempo real de otra propiedad.</span><span class="sxs-lookup"><span data-stu-id="e656d-193">Styles interact with the property system because they typically contain "setters" for particular properties, as well as "triggers" that change a property value based on the real-time value for another property.</span></span>

<span data-ttu-id="e656d-194">En el ejemplo siguiente se crea un estilo simple (que se definiría dentro de un <xref:System.Windows.FrameworkElement.Resources%2A> Diccionario, que no se muestra) y, a continuación, se aplica ese estilo directamente a la <xref:System.Windows.FrameworkElement.Style%2A> propiedad de <xref:System.Windows.Controls.Button> .</span><span class="sxs-lookup"><span data-stu-id="e656d-194">The following example creates a simple style (which would be defined inside a <xref:System.Windows.FrameworkElement.Resources%2A> dictionary, not shown), then applies that style directly to the <xref:System.Windows.FrameworkElement.Style%2A> property for a <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="e656d-195">El establecedor dentro del estilo establece la propiedad <xref:System.Windows.Controls.Control.Background%2A> de un <xref:System.Windows.Controls.Button> con estilo en el color verde.</span><span class="sxs-lookup"><span data-stu-id="e656d-195">The setter within the style sets the <xref:System.Windows.Controls.Control.Background%2A> property for a styled <xref:System.Windows.Controls.Button> to green.</span></span>

[!code-xaml[PropertiesOvwSupport#SimpleStyleDef](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyledef)]

[!code-xaml[PropertiesOvwSupport#SimpleStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyle)]

<span data-ttu-id="e656d-196">Para obtener más información, consulte [Aplicar estilos y plantillas](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-196">For more information, see [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span>

### <a name="animations"></a><span data-ttu-id="e656d-197">Animaciones</span><span class="sxs-lookup"><span data-stu-id="e656d-197">Animations</span></span>
<span data-ttu-id="e656d-198">Las propiedades de dependencia se pueden animar.</span><span class="sxs-lookup"><span data-stu-id="e656d-198">Dependency properties can be animated.</span></span> <span data-ttu-id="e656d-199">Cuando una animación está aplicada y en ejecución, el valor animado funciona con una precedencia más alta que cualquier otro valor (por ejemplo, un valor local) que tenga la propiedad.</span><span class="sxs-lookup"><span data-stu-id="e656d-199">When an animation is applied and is running, the animated value operates at a higher precedence than any value (such as a local value) that the property otherwise has.</span></span>

<span data-ttu-id="e656d-200">En el ejemplo siguiente se anima el atributo <xref:System.Windows.Controls.Control.Background%2A> de una propiedad <xref:System.Windows.Controls.Button> (técnicamente, se anima <xref:System.Windows.Controls.Control.Background%2A> mediante la sintaxis de elemento de propiedad para especificar un <xref:System.Windows.Media.SolidColorBrush> en blanco para <xref:System.Windows.Controls.Control.Background%2A>, y después la propiedad <xref:System.Windows.Media.SolidColorBrush.Color%2A> de ese <xref:System.Windows.Media.SolidColorBrush> es la que se anima directamente).</span><span class="sxs-lookup"><span data-stu-id="e656d-200">The following example animates the <xref:System.Windows.Controls.Control.Background%2A> on a <xref:System.Windows.Controls.Button> property (technically, the <xref:System.Windows.Controls.Control.Background%2A> is animated by using property element syntax to specify a blank <xref:System.Windows.Media.SolidColorBrush> as the <xref:System.Windows.Controls.Control.Background%2A>, then the <xref:System.Windows.Media.SolidColorBrush.Color%2A> property of that <xref:System.Windows.Media.SolidColorBrush> is the property that is directly animated).</span></span>

[!code-xaml[PropertiesOvwSupport#MiniAnimate](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#minianimate)]

<span data-ttu-id="e656d-201">Para obtener más información sobre la animación de propiedades, consulte [Información general sobre animaciones](../graphics-multimedia/animation-overview.md) e [Información general sobre objetos Storyboard](../graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-201">For more information on animating properties, see [Animation Overview](../graphics-multimedia/animation-overview.md) and [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span></span>

### <a name="metadata-overrides"></a><span data-ttu-id="e656d-202">Invalidaciones de metadatos</span><span class="sxs-lookup"><span data-stu-id="e656d-202">Metadata overrides</span></span>
<span data-ttu-id="e656d-203">Puede cambiar ciertos comportamientos de una propiedad de dependencia mediante la invalidación de los metadatos de la propiedad cuando se deriva de la clase que originalmente registra la propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-203">You can change certain behaviors of a dependency property by overriding the metadata for that property when you derive from the class that originally registers the dependency property.</span></span> <span data-ttu-id="e656d-204">La invalidación de metadatos se basa en el identificador <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="e656d-204">Overriding metadata relies on the <xref:System.Windows.DependencyProperty> identifier.</span></span> <span data-ttu-id="e656d-205">Para reemplazar los metadatos, no es necesario volver a implementar la propiedad.</span><span class="sxs-lookup"><span data-stu-id="e656d-205">Overriding metadata does not require reimplementing the property.</span></span> <span data-ttu-id="e656d-206">El sistema de propiedades controla de forma nativa el cambio en los metadatos; cada clase puede contener metadatos individuales de todas las propiedades que se heredan de las clases base, por tipo.</span><span class="sxs-lookup"><span data-stu-id="e656d-206">The metadata change is handled natively by the property system; each class potentially holds individual metadata for all properties that are inherited from base classes, on a per-type basis.</span></span>

<span data-ttu-id="e656d-207">En el ejemplo siguiente se invalidan los metadatos para una propiedad de dependencia <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="e656d-207">The following example overrides metadata for a dependency property <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>.</span></span> <span data-ttu-id="e656d-208">La invalidación de los metadatos de esta propiedad de dependencia concreta forma parte de un patrón de implementación que crea controles que pueden usar estilos predeterminados de temas.</span><span class="sxs-lookup"><span data-stu-id="e656d-208">Overriding this particular dependency property metadata is part of an implementation pattern that creates controls that can use default styles from themes.</span></span>

[!code-csharp[PropertiesOvwSupport#OverrideMetadata](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml.cs#overridemetadata)]
[!code-vb[PropertiesOvwSupport#OverrideMetadata](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page3.xaml.vb#overridemetadata)]

<span data-ttu-id="e656d-209">Para obtener más información sobre cómo invalidar u obtener los metadatos de las propiedades, consulte [Metadatos de las propiedades de dependencia](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-209">For more information about overriding or obtaining property metadata, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

### <a name="property-value-inheritance"></a><span data-ttu-id="e656d-210">Herencia de valores de propiedad</span><span class="sxs-lookup"><span data-stu-id="e656d-210">Property value inheritance</span></span>
<span data-ttu-id="e656d-211">Un elemento puede heredar el valor de una propiedad de dependencia de su elemento primario en el árbol de objetos.</span><span class="sxs-lookup"><span data-stu-id="e656d-211">An element can inherit the value of a dependency property from its parent in the object tree.</span></span>

> [!NOTE]
> <span data-ttu-id="e656d-212">El comportamiento de la herencia de valores de propiedad no está habilitado globalmente para todas las propiedades de dependencia, porque el tiempo de cálculo de la herencia afecta de algún modo al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e656d-212">Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact.</span></span> <span data-ttu-id="e656d-213">La herencia de valores de propiedad suele habilitarse normalmente solo para las propiedades donde un escenario determinado sugiere que dicha herencia es adecuada.</span><span class="sxs-lookup"><span data-stu-id="e656d-213">Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate.</span></span> <span data-ttu-id="e656d-214">Para determinar si una propiedad de dependencia se hereda, puede consultar la sección de **información sobre las propiedades de dependencia** correspondiente a esa propiedad de dependencia en la referencia del SDK.</span><span class="sxs-lookup"><span data-stu-id="e656d-214">You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference.</span></span>

<span data-ttu-id="e656d-215">En el ejemplo siguiente se muestra un enlace y se establece la propiedad <xref:System.Windows.FrameworkElement.DataContext%2A> que especifica el origen del enlace, que no se mostró en el ejemplo del enlace anterior.</span><span class="sxs-lookup"><span data-stu-id="e656d-215">The following example shows a binding, and sets the <xref:System.Windows.FrameworkElement.DataContext%2A> property that specifies the source of the binding, which was not shown in the earlier binding example.</span></span> <span data-ttu-id="e656d-216">No es necesario que los enlaces siguientes en los objetos secundarios especifiquen el origen; pueden usar el valor heredado de <xref:System.Windows.FrameworkElement.DataContext%2A> en el objeto <xref:System.Windows.Controls.StackPanel> primario.</span><span class="sxs-lookup"><span data-stu-id="e656d-216">Any subsequent bindings in child objects do not need to specify the source, they can use the inherited value from <xref:System.Windows.FrameworkElement.DataContext%2A> in the parent <xref:System.Windows.Controls.StackPanel> object.</span></span> <span data-ttu-id="e656d-217">(Como alternativa, un objeto secundario podría especificar directamente su propio <xref:System.Windows.FrameworkElement.DataContext%2A> o un <xref:System.Windows.Data.Binding.Source%2A> en <xref:System.Windows.Data.Binding>, y no usar deliberadamente el valor heredado para el contexto de datos de sus enlaces).</span><span class="sxs-lookup"><span data-stu-id="e656d-217">(Alternatively, a child object could instead choose to directly specify its own <xref:System.Windows.FrameworkElement.DataContext%2A> or a <xref:System.Windows.Data.Binding.Source%2A> in the <xref:System.Windows.Data.Binding>, and to deliberately not use the inherited value for data context of its bindings.)</span></span>

[!code-xaml[PropertiesOvwSupport#InheritanceContext](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#inheritancecontext)]

<span data-ttu-id="e656d-218">Para más información, vea [Herencia de valores de propiedad](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-218">For more information, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

### <a name="wpf-designer-integration"></a><span data-ttu-id="e656d-219">Integración de WPF Designer</span><span class="sxs-lookup"><span data-stu-id="e656d-219">WPF designer integration</span></span>
<span data-ttu-id="e656d-220">Un control personalizado con propiedades que se implementan como propiedades de dependencia recibirá el diseñador de WPF adecuado para la compatibilidad con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e656d-220">A custom control with properties that are implemented as dependency properties will receive appropriate WPF Designer for Visual Studio support.</span></span> <span data-ttu-id="e656d-221">Un ejemplo es la capacidad de editar las propiedades de dependencia directas y adjuntas con la ventana **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="e656d-221">One example is the ability to edit direct and attached dependency properties with the **Properties** window.</span></span> <span data-ttu-id="e656d-222">Para obtener más información, consulte [Información general sobre la creación de controles](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-222">For more information, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>

## <a name="dependency-property-value-precedence"></a><span data-ttu-id="e656d-223">Prioridad de los valores de propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="e656d-223">Dependency property value precedence</span></span>
<span data-ttu-id="e656d-224">Cuando se obtiene el valor de una propiedad de dependencia, potencialmente se está obteniendo un valor establecido en esa propiedad mediante cualquiera de las otras entradas basadas en propiedades que se incluyen en el sistema de propiedades de WPF.</span><span class="sxs-lookup"><span data-stu-id="e656d-224">When you get the value of a dependency property, you are potentially obtaining a value that was set on that property through any one of the other property-based inputs that participate in the WPF property system.</span></span> <span data-ttu-id="e656d-225">La precedencia de los valores de propiedad de dependencia existe para que distintos escenarios sobre cómo las propiedades obtienen sus valores puedan interactuar de forma predecible.</span><span class="sxs-lookup"><span data-stu-id="e656d-225">Dependency property value precedence exists so that a variety of scenarios for how properties obtain their values can interact in a predictable way.</span></span>

<span data-ttu-id="e656d-226">Considere el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="e656d-226">Consider the following example.</span></span> <span data-ttu-id="e656d-227">El ejemplo incluye un estilo que se aplica a todos los botones y sus propiedades <xref:System.Windows.Controls.Control.Background%2A>, pero después también especifica un botón con un valor <xref:System.Windows.Controls.Control.Background%2A> establecido localmente.</span><span class="sxs-lookup"><span data-stu-id="e656d-227">The example includes a style that applies to all buttons and their <xref:System.Windows.Controls.Control.Background%2A> properties, but then also specifies one button with a locally set <xref:System.Windows.Controls.Control.Background%2A> value.</span></span>

> [!NOTE]
> <span data-ttu-id="e656d-228">La documentación del SDK usa los términos "valor local" o "valor establecido localmente" ocasionalmente al hablar de las propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-228">The SDK documentation uses the terms "local value" or "locally set value" occasionally when discussing dependency properties.</span></span> <span data-ttu-id="e656d-229">Un valor establecido localmente es un valor de propiedad que se establece directamente en una instancia de objeto en el código, o bien como un atributo en un elemento en XAML.</span><span class="sxs-lookup"><span data-stu-id="e656d-229">A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.</span></span>  
  
<span data-ttu-id="e656d-230">En principio, para el primer botón, la propiedad se establece dos veces, pero se aplica solo un valor: el valor con la precedencia más alta.</span><span class="sxs-lookup"><span data-stu-id="e656d-230">In principle, for the first button, the property is set twice, but only one value applies: the value with the highest precedence.</span></span> <span data-ttu-id="e656d-231">Un valor establecido localmente tiene la precedencia más alta (excepto para una animación en ejecución, pero ninguna animación es aplicable en este ejemplo) y, por tanto, el valor establecido localmente se usa en lugar del valor del establecedor de estilo para el fondo del primer botón.</span><span class="sxs-lookup"><span data-stu-id="e656d-231">A locally set value has the highest precedence (except for a running animation, but no animation applies in this example) and thus the locally set value is used instead of the style setter value for the background on the first button.</span></span> <span data-ttu-id="e656d-232">El segundo botón no tiene ningún valor local (ni ningún otro valor con una precedencia más alta que un establecedor de estilo) y, por tanto, el fondo de ese botón procede del establecedor de estilo.</span><span class="sxs-lookup"><span data-stu-id="e656d-232">The second button has no local value (and no other value with higher precedence than a style setter) and thus the background in that button comes from the style setter.</span></span>

[!code-xaml[PropertiesOvwSupport#MiniPrecedence](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#miniprecedence)]  

### <a name="why-does-dependency-property-precedence-exist"></a><span data-ttu-id="e656d-233">¿Por qué existe la precedencia de las propiedades de dependencia?</span><span class="sxs-lookup"><span data-stu-id="e656d-233">Why does dependency property precedence exist?</span></span>
<span data-ttu-id="e656d-234">Normalmente, no querrá que los estilos se apliquen siempre y oculten incluso un valor establecido localmente de un elemento individual (de lo contrario, sería difícil usar estilos o elementos en general).</span><span class="sxs-lookup"><span data-stu-id="e656d-234">Typically, you would not want styles to always apply and to obscure even a locally set value of an individual element (otherwise, it would be difficult to use either styles or elements in general).</span></span> <span data-ttu-id="e656d-235">Por lo tanto, los valores que proceden de estilos funcionan con una precedencia más baja que un valor establecido localmente.</span><span class="sxs-lookup"><span data-stu-id="e656d-235">Therefore, the values that come from styles operate at a lower precedent than a locally set value.</span></span> <span data-ttu-id="e656d-236">Para obtener una lista más completa de las propiedades de dependencia y conocer la procedencia del valor efectivo de una propiedad de dependencia, consulte [Prioridad de los valores de propiedades de dependencia](dependency-property-value-precedence.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-236">For a more thorough listing of dependency properties and where a dependency property effective value might come from, see [Dependency Property Value Precedence](dependency-property-value-precedence.md).</span></span>

> [!NOTE]
> <span data-ttu-id="e656d-237">Existen varias propiedades definidas en elementos de WPF que no son propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-237">There are a number of properties defined on WPF elements that are not dependency properties.</span></span> <span data-ttu-id="e656d-238">En general, las propiedades se implementaban como propiedades de dependencia solo cuando era necesario admitir al menos uno de los escenarios que habilitaba el sistema de propiedades: enlace de datos, estilos, animación, compatibilidad con los valores predeterminados, herencia, propiedades adjuntas o invalidación.</span><span class="sxs-lookup"><span data-stu-id="e656d-238">By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.</span></span>

## <a name="learning-more-about-dependency-properties"></a><span data-ttu-id="e656d-239">Más información sobre las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="e656d-239">Learning more about dependency properties</span></span>  

- <span data-ttu-id="e656d-240">Una propiedad adjunta es un tipo de propiedad que admite una sintaxis especializada en XAML.</span><span class="sxs-lookup"><span data-stu-id="e656d-240">An attached property is a type of property that supports a specialized syntax in XAML.</span></span> <span data-ttu-id="e656d-241">Una propiedad adjunta no suele tener una correspondencia de 1:1 con una propiedad de Common Language Runtime (CLR) y no es necesariamente una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e656d-241">An attached property often does not have a 1:1 correspondence with a common language runtime (CLR) property, and is not necessarily a dependency property.</span></span> <span data-ttu-id="e656d-242">El propósito típico de una propiedad adjunta es permitir que los elementos secundarios informen los valores de propiedad de un elemento primario, aunque el elemento primario y el elemento secundario no posean esa propiedad como parte de los listados de miembros de clase.</span><span class="sxs-lookup"><span data-stu-id="e656d-242">The typical purpose of an attached property is to allow child elements to report property values to a parent element, even if the parent element and child element do not both possess that property as part of the class members listings.</span></span> <span data-ttu-id="e656d-243">Un escenario principal es habilitar los elementos secundarios para que informen al elemento primario de cómo se deben mostrar en [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]; para obtener un ejemplo, vea <xref:System.Windows.Controls.DockPanel.Dock%2A> o <xref:System.Windows.Controls.Canvas.Left%2A>.</span><span class="sxs-lookup"><span data-stu-id="e656d-243">One primary scenario is to enable child elements to inform the parent how they should be presented in [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]; for an example, see <xref:System.Windows.Controls.DockPanel.Dock%2A> or <xref:System.Windows.Controls.Canvas.Left%2A>.</span></span> <span data-ttu-id="e656d-244">Para obtener información detallada, vea [Información general sobre propiedades asociadas](attached-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-244">For details, see [Attached Properties Overview](attached-properties-overview.md).</span></span>

- <span data-ttu-id="e656d-245">Los desarrolladores de componentes o de aplicaciones pueden querer crear su propia propiedad de dependencia para habilitar funcionalidades, tales como el enlace de datos o la compatibilidad con estilos, o para admitir la invalidación y la coerción de valores.</span><span class="sxs-lookup"><span data-stu-id="e656d-245">Component developers or application developers may wish to create their own dependency property, in order to enable capabilities such as data binding or styles support, or for invalidation and value coercion support.</span></span> <span data-ttu-id="e656d-246">Para obtener más información, consulte [Propiedades de dependencia personalizadas](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-246">For details, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>

- <span data-ttu-id="e656d-247">Considere las propiedades de dependencia como propiedades públicas, accesibles o al menos reconocible por cualquier llamador que tenga acceso a una instancia de.</span><span class="sxs-lookup"><span data-stu-id="e656d-247">Consider dependency properties to be public properties, accessible or at least discoverable by any caller that has access to an instance.</span></span> <span data-ttu-id="e656d-248">Para obtener más información, consulte [Seguridad de las propiedades de dependencia](dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="e656d-248">For more information, see [Dependency Property Security](dependency-property-security.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="e656d-249">Consulte también:</span><span class="sxs-lookup"><span data-stu-id="e656d-249">See also</span></span>

- [<span data-ttu-id="e656d-250">Propiedades de dependencia personalizadas</span><span class="sxs-lookup"><span data-stu-id="e656d-250">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="e656d-251">Propiedades de dependencia de sólo lectura</span><span class="sxs-lookup"><span data-stu-id="e656d-251">Read-Only Dependency Properties</span></span>](read-only-dependency-properties.md)
- [<span data-ttu-id="e656d-252">Información general sobre XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="e656d-252">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="e656d-253">Arquitectura de WPF</span><span class="sxs-lookup"><span data-stu-id="e656d-253">WPF Architecture</span></span>](wpf-architecture.md)
