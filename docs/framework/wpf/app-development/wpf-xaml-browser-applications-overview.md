---
title: Información general sobre las aplicaciones de explorador XAML
description: Obtenga información sobre cómo las aplicaciones de explorador XAML combinan las características de las aplicaciones web y las aplicaciones cliente enriquecidas en el Windows Presentation Foundation (WPF).
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XBAP [WPF], XAML browser application
- WPF XAML browser applications (XBAP)
- XAML browser applications (XBAP)
- browser-hosted applications [WPF]
ms.assetid: 3a7a86a8-75d5-4898-96b9-73da151e5e16
ms.openlocfilehash: 3395445dd5639e25f62aeef09d070e326704ed40
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/01/2020
ms.locfileid: "85617917"
---
# <a name="wpf-xaml-browser-applications-overview"></a><span data-ttu-id="a4467-103">Información general sobre las aplicaciones de explorador XAML de WPF</span><span class="sxs-lookup"><span data-stu-id="a4467-103">WPF XAML Browser Applications Overview</span></span>
<a name="introduction"></a><span data-ttu-id="a4467-104">Las aplicaciones de explorador XAML (XBAP) combinan características de las aplicaciones web y las aplicaciones cliente enriquecidas.</span><span class="sxs-lookup"><span data-stu-id="a4467-104">XAML browser applications (XBAPs) combines features of both Web applications and rich-client applications.</span></span> <span data-ttu-id="a4467-105">Al igual que las aplicaciones web, las aplicaciones XBAP se pueden implementar en un servidor web e iniciar desde Internet Explorer o Firefox.</span><span class="sxs-lookup"><span data-stu-id="a4467-105">Like Web applications, XBAPs can be deployed to a Web server and started from Internet Explorer or Firefox.</span></span> <span data-ttu-id="a4467-106">Al igual que las aplicaciones cliente enriquecidas, las XBAP pueden aprovechar las capacidades de WPF.</span><span class="sxs-lookup"><span data-stu-id="a4467-106">Like rich-client applications, XBAPs can take advantage of the capabilities of WPF.</span></span> <span data-ttu-id="a4467-107">El desarrollo de aplicaciones XBAP también se parece al desarrollo de clientes enriquecidos.</span><span class="sxs-lookup"><span data-stu-id="a4467-107">Developing XBAPs is also similar to rich-client development.</span></span> <span data-ttu-id="a4467-108">En este tema se proporciona una sencilla introducción de alto nivel al desarrollo de aplicaciones XBAP y se describe en qué se diferencia este del desarrollo estándar de clientes enriquecidos.</span><span class="sxs-lookup"><span data-stu-id="a4467-108">This topic provides a simple, high-level introduction to XBAP development and describes where XBAP development differs from standard rich-client development.</span></span>

 <span data-ttu-id="a4467-109">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="a4467-109">This topic contains the following sections:</span></span>

- [<span data-ttu-id="a4467-110">Creación de una aplicación de explorador XAML (XBAP)</span><span class="sxs-lookup"><span data-stu-id="a4467-110">Creating a New XAML Browser Application (XBAP)</span></span>](#creating_a_new_xaml_browser_application_xbap)

- [<span data-ttu-id="a4467-111">Implementación de una aplicación XBAP</span><span class="sxs-lookup"><span data-stu-id="a4467-111">Deploying an XBAP</span></span>](#deploying_a_xbap)

- [<span data-ttu-id="a4467-112">Comunicación con la página web host</span><span class="sxs-lookup"><span data-stu-id="a4467-112">Communicating with the Host Web Page</span></span>](#communicating_with_the_host_web_page)

- [<span data-ttu-id="a4467-113">Consideraciones de seguridad para XBAP</span><span class="sxs-lookup"><span data-stu-id="a4467-113">XBAP Security Considerations</span></span>](#xbap_security_considerations)

- [<span data-ttu-id="a4467-114">Consideraciones sobre el rendimiento de tiempo de inicio de XBAP</span><span class="sxs-lookup"><span data-stu-id="a4467-114">XBAP Start Time Performance Considerations</span></span>](#xbap_start_time_performance_considerations)

<a name="creating_a_new_xaml_browser_application_xbap"></a>
## <a name="creating-a-new-xaml-browser-application-xbap"></a><span data-ttu-id="a4467-115">Creación de una aplicación de explorador XAML (XBAP)</span><span class="sxs-lookup"><span data-stu-id="a4467-115">Creating a New XAML Browser Application (XBAP)</span></span>
 <span data-ttu-id="a4467-116">La manera más sencilla de crear un nuevo proyecto de XBAP es con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4467-116">The simplest way to create a new XBAP project is with Visual Studio.</span></span> <span data-ttu-id="a4467-117">Al crear un proyecto, seleccione **Aplicación de explorador WPF** en la lista de plantillas.</span><span class="sxs-lookup"><span data-stu-id="a4467-117">When creating a new project, select **WPF Browser Application** from the list of templates.</span></span> <span data-ttu-id="a4467-118">Para obtener más información, vea [Cómo: Crear un nuevo proyecto de aplicación de explorador de WPF](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628663(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a4467-118">For more information, see [How to: Create a New WPF Browser Application Project](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628663(v=vs.100)).</span></span>

 <span data-ttu-id="a4467-119">Cuando se ejecuta el proyecto de XBAP, se abre en una ventana del explorador en lugar de en una independiente.</span><span class="sxs-lookup"><span data-stu-id="a4467-119">When you run the XBAP project, it opens in a browser window instead of a stand-alone window.</span></span> <span data-ttu-id="a4467-120">Al depurar la aplicación XBAP desde Visual Studio, la aplicación se ejecuta con el permiso de zona de Internet y, por tanto, producirá excepciones de seguridad si se superan esos permisos.</span><span class="sxs-lookup"><span data-stu-id="a4467-120">When you debug the XBAP from Visual Studio, the application runs with Internet zone permission and will therefore throw security exceptions if those permissions are exceeded.</span></span> <span data-ttu-id="a4467-121">Para más información, consulte [Seguridad](../security-wpf.md) y [Seguridad de confianza parcial de WPF](../wpf-partial-trust-security.md).</span><span class="sxs-lookup"><span data-stu-id="a4467-121">For more information, see [Security](../security-wpf.md) and [WPF Partial Trust Security](../wpf-partial-trust-security.md).</span></span>

> [!NOTE]
> <span data-ttu-id="a4467-122">Si no va a desarrollar con Visual Studio o desea obtener más información sobre los archivos del proyecto, consulte [compilar una aplicación de WPF](building-a-wpf-application-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="a4467-122">If you are not developing with Visual Studio or want to learn more about the project files, see [Building a WPF Application](building-a-wpf-application-wpf.md).</span></span>

<a name="deploying_a_xbap"></a>
## <a name="deploying-an-xbap"></a><span data-ttu-id="a4467-123">Implementación de una aplicación XBAP</span><span class="sxs-lookup"><span data-stu-id="a4467-123">Deploying an XBAP</span></span>
 <span data-ttu-id="a4467-124">Cuando se compila una aplicación XBAP, en la salida se incluyen los tres archivos siguientes:</span><span class="sxs-lookup"><span data-stu-id="a4467-124">When you build an XBAP, the output includes the following three files:</span></span>

|<span data-ttu-id="a4467-125">Archivo</span><span class="sxs-lookup"><span data-stu-id="a4467-125">File</span></span>|<span data-ttu-id="a4467-126">Descripción</span><span class="sxs-lookup"><span data-stu-id="a4467-126">Description</span></span>|
|----------|-----------------|
|<span data-ttu-id="a4467-127">Ejecutable (.exe)</span><span class="sxs-lookup"><span data-stu-id="a4467-127">Executable (.exe)</span></span>|<span data-ttu-id="a4467-128">Contiene el código compilado y tiene la extensión .exe.</span><span class="sxs-lookup"><span data-stu-id="a4467-128">This contains the compiled code and has an .exe extension.</span></span>|
|<span data-ttu-id="a4467-129">Manifiesto de aplicación (.manifest)</span><span class="sxs-lookup"><span data-stu-id="a4467-129">Application manifest (.manifest)</span></span>|<span data-ttu-id="a4467-130">Contiene metadatos asociados con la aplicación y tiene la extensión .manifest.</span><span class="sxs-lookup"><span data-stu-id="a4467-130">This contains metadata associated with the application and has a .manifest extension.</span></span>|
|<span data-ttu-id="a4467-131">Manifiesto de implementación (.xbap)</span><span class="sxs-lookup"><span data-stu-id="a4467-131">Deployment manifest (.xbap)</span></span>|<span data-ttu-id="a4467-132">Este archivo contiene la información que usa ClickOnce para implementar la aplicación y tiene la extensión. XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-132">This file contains the information that ClickOnce uses to deploy the application and has the .xbap extension.</span></span>|

 <span data-ttu-id="a4467-133">Las XBAP se implementan en un servidor Web, por ejemplo, Microsoft Internet Information Services (IIS) 5,0 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="a4467-133">You deploy XBAPs to a Web server, for example Microsoft Internet Information Services (IIS) 5.0 or later versions.</span></span> <span data-ttu-id="a4467-134">No es necesario que instale el .NET Framework en el servidor Web, pero tiene que registrar los tipos de extensiones multipropósito de correo Internet (MIME) y las extensiones de nombre de archivo de WPF.</span><span class="sxs-lookup"><span data-stu-id="a4467-134">You do not have to install the .NET Framework on the Web server, but you do have to register the WPF Multipurpose Internet Mail Extensions (MIME) types and file name extensions.</span></span> <span data-ttu-id="a4467-135">Para más información, consulte [Cómo: Configurar IIS 5.0 e IIS 6.0 para implementar aplicaciones WPF](how-to-configure-iis-5-0-and-iis-6-0-to-deploy-wpf-applications.md).</span><span class="sxs-lookup"><span data-stu-id="a4467-135">For more information, see [Configure IIS 5.0 and IIS 6.0 to Deploy WPF Applications](how-to-configure-iis-5-0-and-iis-6-0-to-deploy-wpf-applications.md).</span></span>

 <span data-ttu-id="a4467-136">Para preparar la aplicación XBAP para la implementación, copie el archivo .exe y los manifiestos asociados al servidor web.</span><span class="sxs-lookup"><span data-stu-id="a4467-136">To prepare your XBAP for deployment, copy the .exe and the associated manifests to the Web server.</span></span> <span data-ttu-id="a4467-137">Cree una página HTML que contenga un hipervínculo para abrir el manifiesto de implementación, que es el archivo con la extensión .xbap.</span><span class="sxs-lookup"><span data-stu-id="a4467-137">Create an HTML page that contains a hyperlink to open the deployment manifest, which is the file that has the .xbap extension.</span></span> <span data-ttu-id="a4467-138">Cuando el usuario hace clic en el vínculo al archivo. XBAP, ClickOnce controla automáticamente los mecanismos de descarga e inicio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a4467-138">When the user clicks the link to the .xbap file, ClickOnce automatically handles the mechanics of downloading and starting the application.</span></span> <span data-ttu-id="a4467-139">En el ejemplo de código siguiente, se muestra una página HTML que contiene un hipervínculo que apunta a una aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-139">The following example code shows an HTML page that contains a hyperlink that points to an XBAP.</span></span>

```html
<html>
    <head></head>
    <body>
        <a href="XbapEx.xbap">Click this link to launch the application</a>
    </body>
</html>
```

 <span data-ttu-id="a4467-140">También puede hospedar una aplicación XBAP en el marco de una página web.</span><span class="sxs-lookup"><span data-stu-id="a4467-140">You can also host an XBAP in the frame of a Web page.</span></span> <span data-ttu-id="a4467-141">Cree una página web con uno o varios marcos.</span><span class="sxs-lookup"><span data-stu-id="a4467-141">Create a Web page with one or more frames.</span></span> <span data-ttu-id="a4467-142">Establezca la propiedad de origen de un marco en el archivo de manifiesto de implementación.</span><span class="sxs-lookup"><span data-stu-id="a4467-142">Set the source property of a frame to the deployment manifest file.</span></span> <span data-ttu-id="a4467-143">Si desea usar el mecanismo integrado para la comunicación entre la página web que hospeda y la aplicación XBAP, debe hospedar la aplicación en un marco.</span><span class="sxs-lookup"><span data-stu-id="a4467-143">If you want to use the built-in mechanism to communicate between the hosting Web page and the XBAP, you must host the application in a frame.</span></span> <span data-ttu-id="a4467-144">En el ejemplo de código siguiente, se muestra una página HTML con dos marcos, donde el origen del segundo marco está establecido en una aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-144">The following example code shows an HTML page with two frames, the source for the second frame is set to an XBAP.</span></span>

```html
<html>
    <head>
        <title>A page with frames</title>
    </head>
    <frameset cols="50%,50%">
        <frame src="introduction.htm">
        <frame src="XbapEx.xbap">
    </frameset>
</html>
```

### <a name="clearing-cached-xbaps"></a><span data-ttu-id="a4467-145">Borrado de las aplicaciones XBAP en caché</span><span class="sxs-lookup"><span data-stu-id="a4467-145">Clearing Cached XBAPs</span></span>
 <span data-ttu-id="a4467-146">En algunas situaciones, después de volver a compilar e iniciar la aplicación XBAP, es posible que se abra una versión anterior de ella.</span><span class="sxs-lookup"><span data-stu-id="a4467-146">In some situations after rebuilding and starting your XBAP, you may find that an earlier version of the XBAP is opened.</span></span> <span data-ttu-id="a4467-147">Por ejemplo, este comportamiento puede producirse cuando el número de versión del ensamblado XBAP es estático y se inicia la aplicación XBAP desde la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="a4467-147">For example, this behavior may occur when your XBAP assembly version number is static and you start the XBAP from the command line.</span></span> <span data-ttu-id="a4467-148">En este caso, como no ha cambiado el número de versión entre la versión almacenada en caché (la que se inició previamente) y la nueva versión, no se descarga la nueva versión de la aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-148">In this case, because the version number between the cached version (the version that was previously started) and the new version remains the same, the new version of the XBAP is not downloaded.</span></span> <span data-ttu-id="a4467-149">En su lugar, se carga la versión almacenada en caché.</span><span class="sxs-lookup"><span data-stu-id="a4467-149">Instead, the cached version is loaded.</span></span>

 <span data-ttu-id="a4467-150">En estas situaciones, puede quitar la versión almacenada en caché mediante el comando **Mage** (instalado con Visual Studio o el Windows SDK) en el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="a4467-150">In these situations, you can remove the cached version by using the **Mage** command (installed with Visual Studio or the Windows SDK) at the command prompt.</span></span> <span data-ttu-id="a4467-151">Con el siguiente comando se borra la memoria caché de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a4467-151">The following command clears the application cache.</span></span>

 ```console
 Mage.exe -cc
 ```

 <span data-ttu-id="a4467-152">Este comando garantiza que se inicie la versión más reciente de la aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-152">This command guarantees that the latest version of your XBAP is started.</span></span> <span data-ttu-id="a4467-153">Al depurar la aplicación en Visual Studio, se debe iniciar la versión más reciente de la aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-153">When you debug your application in Visual Studio, the latest version of your XBAP should be started.</span></span> <span data-ttu-id="a4467-154">Por lo general, debería actualizar el número de versión de implementación con cada compilación.</span><span class="sxs-lookup"><span data-stu-id="a4467-154">In general, you should update your deployment version number with each build.</span></span> <span data-ttu-id="a4467-155">Para más información sobre Mage, consulte [Mage.exe (Herramienta de generación y edición de manifiestos)](../../tools/mage-exe-manifest-generation-and-editing-tool.md).</span><span class="sxs-lookup"><span data-stu-id="a4467-155">For more information about Mage, see [Mage.exe (Manifest Generation and Editing Tool)](../../tools/mage-exe-manifest-generation-and-editing-tool.md).</span></span>

<a name="communicating_with_the_host_web_page"></a>
## <a name="communicating-with-the-host-web-page"></a><span data-ttu-id="a4467-156">Comunicación con la página web host</span><span class="sxs-lookup"><span data-stu-id="a4467-156">Communicating with the Host Web Page</span></span>
 <span data-ttu-id="a4467-157">Cuando la aplicación se hospeda en un marco HTML, se puede comunicar con la página web que contiene la aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-157">When the application is hosted in an HTML frame, you can communicate with the Web page that contains the XBAP.</span></span> <span data-ttu-id="a4467-158">Para ello, se recupera la <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> propiedad de <xref:System.Windows.Interop.BrowserInteropHelper> .</span><span class="sxs-lookup"><span data-stu-id="a4467-158">You do this by retrieving the <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> property of <xref:System.Windows.Interop.BrowserInteropHelper>.</span></span> <span data-ttu-id="a4467-159">Esta propiedad devuelve un objeto de script que representa la ventana HTML.</span><span class="sxs-lookup"><span data-stu-id="a4467-159">This property returns a script object that represents the HTML window.</span></span> <span data-ttu-id="a4467-160">Después, puede acceder a las propiedades, los métodos y los eventos en el [objeto window](https://developer.mozilla.org/en-US/docs/Web/API/Window) mediante la sintaxis con punto normal.</span><span class="sxs-lookup"><span data-stu-id="a4467-160">You can then access the properties, methods, and events on the [window object](https://developer.mozilla.org/en-US/docs/Web/API/Window) by using regular dot syntax.</span></span> <span data-ttu-id="a4467-161">También puede acceder a los métodos de script y a las variables globales.</span><span class="sxs-lookup"><span data-stu-id="a4467-161">You can also access script methods and global variables.</span></span> <span data-ttu-id="a4467-162">En el ejemplo siguiente se muestra cómo recuperar el objeto de script y cerrar el explorador.</span><span class="sxs-lookup"><span data-stu-id="a4467-162">The following example shows how to retrieve the script object and close the browser.</span></span>

 [!code-csharp[XbapBrowserInterop#10](~/samples/snippets/csharp/VS_Snippets_Wpf/xbapbrowserinterop/cs/page1.xaml.cs#10)]
 [!code-vb[XbapBrowserInterop#10](~/samples/snippets/visualbasic/VS_Snippets_Wpf/xbapbrowserinterop/vb/page1.xaml.vb#10)]

### <a name="debugging-xbaps-that-use-hostscript"></a><span data-ttu-id="a4467-163">Depuración de aplicaciones XBAP que usan HostScript</span><span class="sxs-lookup"><span data-stu-id="a4467-163">Debugging XBAPs that Use HostScript</span></span>
 <span data-ttu-id="a4467-164">Si su aplicación XBAP usa el <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> objeto para comunicarse con la ventana HTML, hay dos opciones que debe especificar para ejecutar y depurar la aplicación en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4467-164">If your XBAP uses the <xref:System.Windows.Interop.BrowserInteropHelper.HostScript%2A> object to communicate with the HTML window, there are two settings that you must specify to run and debug the application in Visual Studio.</span></span> <span data-ttu-id="a4467-165">La aplicación debe tener acceso a su sitio de origen y se debe iniciar la aplicación con la página HTML que contiene la aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-165">The application must have access to its site of origin and you must start the application with the HTML page that contains the XBAP.</span></span> <span data-ttu-id="a4467-166">En los pasos siguientes se describe cómo comprobar estas dos configuraciones:</span><span class="sxs-lookup"><span data-stu-id="a4467-166">The following steps describe how to check these two settings:</span></span>

1. <span data-ttu-id="a4467-167">En Visual Studio, abra las propiedades del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a4467-167">In Visual Studio, open the project properties.</span></span>

2. <span data-ttu-id="a4467-168">En la pestaña **Seguridad**, haga clic en **Opciones avanzadas**.</span><span class="sxs-lookup"><span data-stu-id="a4467-168">On the **Security** tab, click **Advanced**.</span></span>

     <span data-ttu-id="a4467-169">Se abrirá el cuadro de diálogo Configuración de seguridad avanzada.</span><span class="sxs-lookup"><span data-stu-id="a4467-169">The Advanced Security Settings dialog box appears.</span></span>

3. <span data-ttu-id="a4467-170">Asegúrese de que la casilla **Conceder a la aplicación acceso al sitio de origen** esté activada y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a4467-170">Make sure that the **Grant the application access to its site of origin** check box is checked and then click **OK**.</span></span>

4. <span data-ttu-id="a4467-171">En la pestaña **Depurar**, seleccione la opción **Iniciar explorador con la dirección URL** y especifique la dirección URL de la página HTML que contiene la aplicación XBAP.</span><span class="sxs-lookup"><span data-stu-id="a4467-171">On the **Debug** tab, select the **Start browser with URL** option and specify the URL for the HTML page that contains the XBAP.</span></span>

5. <span data-ttu-id="a4467-172">En Internet Explorer, haga clic en el botón **Herramientas** y seleccione **Opciones de Internet**.</span><span class="sxs-lookup"><span data-stu-id="a4467-172">In Internet Explorer, click the **Tools** button and then select **Internet Options**.</span></span>

     <span data-ttu-id="a4467-173">Aparecerá el cuadro de diálogo Opciones de Internet.</span><span class="sxs-lookup"><span data-stu-id="a4467-173">The Internet Options dialog box appears.</span></span>

6. <span data-ttu-id="a4467-174">Haga clic en la ficha **Opciones avanzadas**.</span><span class="sxs-lookup"><span data-stu-id="a4467-174">Click the **Advanced** tab.</span></span>

7. <span data-ttu-id="a4467-175">En la lista **Configuración**, bajo **Seguridad**, active la casilla **Permitir que el contenido activo se ejecute en los archivos de mi equipo**.</span><span class="sxs-lookup"><span data-stu-id="a4467-175">In the **Settings** list under **Security**, check the **Allow active content to run in files on My Computer** check box.</span></span>

8. <span data-ttu-id="a4467-176">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a4467-176">Click **OK**.</span></span>

     <span data-ttu-id="a4467-177">Los cambios surtirán efecto una vez que reinicie Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="a4467-177">The changes will take effect after you restart Internet Explorer.</span></span>

> [!CAUTION]
> <span data-ttu-id="a4467-178">La habilitación del contenido activo en Internet Explorer puede poner en peligro su equipo.</span><span class="sxs-lookup"><span data-stu-id="a4467-178">Enabling active content in Internet Explorer may put your computer at risk.</span></span> <span data-ttu-id="a4467-179">Si no desea cambiar la configuración de seguridad de Internet Explorer, puede iniciar la página HTML desde un servidor y adjuntar el depurador de Visual Studio al proceso.</span><span class="sxs-lookup"><span data-stu-id="a4467-179">If you do not want to change your Internet Explorer security settings, you can launch the HTML page from a server and attach the Visual Studio debugger to the process.</span></span>

<a name="xbap_security_considerations"></a>
## <a name="xbap-security-considerations"></a><span data-ttu-id="a4467-180">Consideraciones de seguridad para XBAP</span><span class="sxs-lookup"><span data-stu-id="a4467-180">XBAP Security Considerations</span></span>
 <span data-ttu-id="a4467-181">Las aplicaciones XBAP suelen ejecutarse en un espacio aislado con seguridad de confianza parcial que se restringe al conjunto de permisos de zona de Internet.</span><span class="sxs-lookup"><span data-stu-id="a4467-181">XBAPs typically execute in a partial-trust security sandbox that is restricted to the Internet zone permission set.</span></span> <span data-ttu-id="a4467-182">Por consiguiente, la implementación de debe admitir el subconjunto de elementos de WPF que se admiten en la zona de Internet o debe elevar los permisos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a4467-182">Consequently, your implementation must support the subset of WPF elements that are supported in the Internet zone or you must elevate the permissions of your application.</span></span> <span data-ttu-id="a4467-183">Para obtener más información, consulte [Seguridad](../security-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="a4467-183">For more information, see [Security](../security-wpf.md).</span></span>

 <span data-ttu-id="a4467-184">Cuando se usa un <xref:System.Windows.Controls.WebBrowser> control en la aplicación, WPF crea internamente instancias del control ActiveX WebBrowser nativo.</span><span class="sxs-lookup"><span data-stu-id="a4467-184">When you use a <xref:System.Windows.Controls.WebBrowser> control in your application, WPF internally instantiates the native WebBrowser ActiveX control.</span></span> <span data-ttu-id="a4467-185">Cuando se trata de una aplicación XBAP de confianza parcial que se ejecuta en Internet Explorer, el control ActiveX se ejecuta en un subproceso dedicado del proceso de Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="a4467-185">When your application is a partial-trust XBAP running in Internet Explorer, the ActiveX control runs in a dedicated thread of the Internet Explorer process.</span></span> <span data-ttu-id="a4467-186">Por tanto, se aplican las siguientes limitaciones:</span><span class="sxs-lookup"><span data-stu-id="a4467-186">Therefore, the following limitations apply:</span></span>

- <span data-ttu-id="a4467-187">El <xref:System.Windows.Controls.WebBrowser> control debe proporcionar un comportamiento similar al del explorador host, incluidas las restricciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a4467-187">The <xref:System.Windows.Controls.WebBrowser> control should provide behavior similar to the host browser, including security restrictions.</span></span> <span data-ttu-id="a4467-188">Algunas de estas restricciones de seguridad se pueden controlar mediante la configuración de seguridad de Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="a4467-188">Some of these security restrictions can be controlled through the Internet Explorer security settings.</span></span> <span data-ttu-id="a4467-189">Para obtener más información, consulte [Seguridad](../security-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="a4467-189">For more information, see [Security](../security-wpf.md).</span></span>

- <span data-ttu-id="a4467-190">Se genera una excepción cuando se carga una aplicación XBAP entre dominios en una página HTML.</span><span class="sxs-lookup"><span data-stu-id="a4467-190">An exception is thrown when an XBAP is loaded cross-domain in an HTML page.</span></span>

- <span data-ttu-id="a4467-191">La entrada está en un subproceso independiente de WPF <xref:System.Windows.Controls.WebBrowser> , por lo que no se puede interceptar la entrada de teclado y el estado del IME no se comparte.</span><span class="sxs-lookup"><span data-stu-id="a4467-191">Input is on a separate thread from the WPF <xref:System.Windows.Controls.WebBrowser>, so keyboard input cannot be intercepted and the IME state is not shared.</span></span>

- <span data-ttu-id="a4467-192">La sincronización o el orden de navegación pueden variar como consecuencia del control ActiveX que se ejecuta en otro subproceso.</span><span class="sxs-lookup"><span data-stu-id="a4467-192">The timing or order of navigation may be different due to the ActiveX control running on another thread.</span></span> <span data-ttu-id="a4467-193">Por ejemplo, no siempre se cancela la navegación a una página cuando se inicia otra solicitud de navegación.</span><span class="sxs-lookup"><span data-stu-id="a4467-193">For example, navigating to a page is not always cancelled by starting another navigation request.</span></span>

- <span data-ttu-id="a4467-194">Es posible que un control ActiveX personalizado experimente problemas de comunicación porque la aplicación WPF se esté ejecutando en un subproceso independiente.</span><span class="sxs-lookup"><span data-stu-id="a4467-194">A custom ActiveX control may have trouble with communication since the WPF application is running in a separate thread.</span></span>

- <span data-ttu-id="a4467-195"><xref:System.Windows.Interop.HwndHost.MessageHook>no se produce porque <xref:System.Windows.Interop.HwndHost> no puede subclaser una ventana que se ejecuta en otro subproceso o proceso.</span><span class="sxs-lookup"><span data-stu-id="a4467-195"><xref:System.Windows.Interop.HwndHost.MessageHook> does not get raised because <xref:System.Windows.Interop.HwndHost> cannot subclass a window running in another thread or process.</span></span>

### <a name="creating-a-full-trust-xbap"></a><span data-ttu-id="a4467-196">Creación de una aplicación XBAP de plena confianza</span><span class="sxs-lookup"><span data-stu-id="a4467-196">Creating a Full-Trust XBAP</span></span>
 <span data-ttu-id="a4467-197">Si la aplicación XBAP necesita plena confianza, puede cambiar el proyecto para habilitar este permiso.</span><span class="sxs-lookup"><span data-stu-id="a4467-197">If your XBAP requires full trust, you can change your project to enable this permission.</span></span> <span data-ttu-id="a4467-198">En los pasos siguientes se describe cómo habilitar la plena confianza:</span><span class="sxs-lookup"><span data-stu-id="a4467-198">The following steps describe how to enable full trust:</span></span>

1. <span data-ttu-id="a4467-199">En Visual Studio, abra las propiedades del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a4467-199">In Visual Studio, open the project properties.</span></span>

2. <span data-ttu-id="a4467-200">En la pestaña **Seguridad**, seleccione la opción **Aplicación de plena confianza**.</span><span class="sxs-lookup"><span data-stu-id="a4467-200">On the **Security** tab, select the **This is a full trust application** option.</span></span>

 <span data-ttu-id="a4467-201">Esta configuración realiza los cambios siguientes:</span><span class="sxs-lookup"><span data-stu-id="a4467-201">This setting makes the following changes:</span></span>

- <span data-ttu-id="a4467-202">En el archivo de proyecto, el valor del elemento `<TargetZone>` se cambia a `Custom`.</span><span class="sxs-lookup"><span data-stu-id="a4467-202">In the project file, the `<TargetZone>` element value is changed to `Custom`.</span></span>

- <span data-ttu-id="a4467-203">En el manifiesto de aplicación (App. manifest), `Unrestricted="true"` se agrega un atributo al <xref:System.Security.PermissionSet> elemento '.</span><span class="sxs-lookup"><span data-stu-id="a4467-203">In the application manifest (app.manifest), an `Unrestricted="true"` attribute is added to the \`<xref:System.Security.PermissionSet> element.</span></span>

    ```xml
    <PermissionSet class="System.Security.PermissionSet"
                   version="1"
                   ID="Custom"
                   SameSite="site"
                   Unrestricted="true" />
    ```

### <a name="deploying-a-full-trust-xbap"></a><span data-ttu-id="a4467-204">Implementación de una aplicación XBAP de plena confianza</span><span class="sxs-lookup"><span data-stu-id="a4467-204">Deploying a Full-Trust XBAP</span></span>
 <span data-ttu-id="a4467-205">Al implementar una aplicación XBAP de plena confianza que no sigue el modelo de implementación de confianza de ClickOnce, el comportamiento cuando el usuario ejecute la aplicación dependerá de la zona de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a4467-205">When you deploy a full-trust XBAP that does not follow the ClickOnce Trusted Deployment model, the behavior when the user runs the application will depend on the security zone.</span></span> <span data-ttu-id="a4467-206">En algunos casos, el usuario recibirá una advertencia al intentar instalarlo.</span><span class="sxs-lookup"><span data-stu-id="a4467-206">In some cases, the user will receive a warning when they attempt to install it.</span></span> <span data-ttu-id="a4467-207">El usuario puede elegir continuar con la instalación o cancelarla.</span><span class="sxs-lookup"><span data-stu-id="a4467-207">The user can choose to continue or cancel the installation.</span></span> <span data-ttu-id="a4467-208">En la tabla siguiente se describe el comportamiento de la aplicación para cada zona de seguridad y qué se debe hacer para que la aplicación reciba plena confianza.</span><span class="sxs-lookup"><span data-stu-id="a4467-208">The following table describes the behavior of the application for each security zone and what you have to do for the application to receive full trust.</span></span>

|<span data-ttu-id="a4467-209">Zona de seguridad</span><span class="sxs-lookup"><span data-stu-id="a4467-209">Security Zone</span></span>|<span data-ttu-id="a4467-210">Comportamiento</span><span class="sxs-lookup"><span data-stu-id="a4467-210">Behavior</span></span>|<span data-ttu-id="a4467-211">Obtener plena confianza</span><span class="sxs-lookup"><span data-stu-id="a4467-211">Getting Full Trust</span></span>|
|-------------------|--------------|------------------------|
|<span data-ttu-id="a4467-212">Equipo local</span><span class="sxs-lookup"><span data-stu-id="a4467-212">Local computer</span></span>|<span data-ttu-id="a4467-213">Plena confianza automática</span><span class="sxs-lookup"><span data-stu-id="a4467-213">Automatic full trust</span></span>|<span data-ttu-id="a4467-214">No se requiere ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="a4467-214">No action is needed.</span></span>|
|<span data-ttu-id="a4467-215">Intranet y sitios de confianza</span><span class="sxs-lookup"><span data-stu-id="a4467-215">Intranet and trusted sites</span></span>|<span data-ttu-id="a4467-216">Pedir plena confianza</span><span class="sxs-lookup"><span data-stu-id="a4467-216">Prompt for full trust</span></span>|<span data-ttu-id="a4467-217">Firme la aplicación XBAP con un certificado para que el usuario vea el origen en la petición.</span><span class="sxs-lookup"><span data-stu-id="a4467-217">Sign the XBAP with a certificate so that the user sees the source in the prompt.</span></span>|
|<span data-ttu-id="a4467-218">Internet</span><span class="sxs-lookup"><span data-stu-id="a4467-218">Internet</span></span>|<span data-ttu-id="a4467-219">Error: "Confianza no concedida"</span><span class="sxs-lookup"><span data-stu-id="a4467-219">Fails with "Trust Not Granted"</span></span>|<span data-ttu-id="a4467-220">Firme la aplicación XBAP con un certificado.</span><span class="sxs-lookup"><span data-stu-id="a4467-220">Sign the XBAP with a certificate.</span></span>|

> [!NOTE]
> <span data-ttu-id="a4467-221">El comportamiento descrito en la tabla anterior es para las aplicaciones XBAP de plena confianza que no sigan el modelo de implementación de confianza de ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="a4467-221">The behavior described in the previous table is for full-trust XBAPs that do not follow the ClickOnce Trusted Deployment model.</span></span>

 <span data-ttu-id="a4467-222">Se recomienda que utilice el modelo de implementación de confianza de ClickOnce para implementar una aplicación XBAP de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="a4467-222">It is recommended that you use the ClickOnce Trusted Deployment model for deploying a full-trust XBAP.</span></span> <span data-ttu-id="a4467-223">Este modelo permite que se conceda a la aplicación XBAP plena confianza automáticamente, independientemente de la zona de seguridad, por lo que no hay que pedirla al usuario.</span><span class="sxs-lookup"><span data-stu-id="a4467-223">This model allows your XBAP to be granted full trust automatically, regardless of the security zone, so that the user is not prompted.</span></span> <span data-ttu-id="a4467-224">Como parte de este modelo, debe firmar la aplicación con un certificado de un editor de confianza.</span><span class="sxs-lookup"><span data-stu-id="a4467-224">As part of this model, you must sign your application with a certificate from a trusted publisher.</span></span> <span data-ttu-id="a4467-225">Para más información, consulte [Información general sobre la implementación de aplicaciones de confianza](/visualstudio/deployment/trusted-application-deployment-overview) y [Seguridad](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="a4467-225">For more information, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview) and [Introduction to Code Signing](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span></span>

<a name="xbap_start_time_performance_considerations"></a>
## <a name="xbap-start-time-performance-considerations"></a><span data-ttu-id="a4467-226">Consideraciones sobre el rendimiento de tiempo de inicio de XBAP</span><span class="sxs-lookup"><span data-stu-id="a4467-226">XBAP Start Time Performance Considerations</span></span>
 <span data-ttu-id="a4467-227">Un aspecto importante del rendimiento de la aplicación XBAP es el tiempo de inicio.</span><span class="sxs-lookup"><span data-stu-id="a4467-227">An important aspect of XBAP performance is its start time.</span></span> <span data-ttu-id="a4467-228">Si una aplicación XBAP es la primera aplicación WPF en cargarse, el tiempo de *inicio en frío* puede ser de diez segundos o más.</span><span class="sxs-lookup"><span data-stu-id="a4467-228">If an XBAP is the first WPF application to load, the *cold start* time can be ten seconds or more.</span></span> <span data-ttu-id="a4467-229">Esto se debe a que WPF representa la página de progreso, y tanto CLR como WPF se deben iniciar en frío para mostrar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a4467-229">This is because the progress page is rendered by WPF, and both the CLR and WPF must be cold-started to display the application.</span></span>

 <span data-ttu-id="a4467-230">A partir de .NET Framework 3,5 SP1, la hora de inicio en frío de XBAP se mitiga al mostrar una página de progreso no administrada al principio del ciclo de implementación.</span><span class="sxs-lookup"><span data-stu-id="a4467-230">Starting in .NET Framework 3.5 SP1, XBAP cold-start time is mitigated by displaying an unmanaged progress page early in the deployment cycle.</span></span> <span data-ttu-id="a4467-231">La página de progreso aparece casi inmediatamente después de iniciarse la aplicación, porque se muestra con código hospedado de forma nativa y se representa en HTML.</span><span class="sxs-lookup"><span data-stu-id="a4467-231">The progress page appears almost immediately after the application is started, because it is displayed by native hosting code and rendered in HTML.</span></span>

 <span data-ttu-id="a4467-232">Además, la simultaneidad mejorada de la secuencia de descarga de ClickOnce mejora el tiempo de inicio hasta un diez por ciento.</span><span class="sxs-lookup"><span data-stu-id="a4467-232">In addition, improved concurrency of the ClickOnce download sequence improves start time by up to ten percent.</span></span> <span data-ttu-id="a4467-233">Una vez que ClickOnce descarga y valida los manifiestos, se inicia la descarga de la aplicación y la barra de progreso comienza a actualizarse.</span><span class="sxs-lookup"><span data-stu-id="a4467-233">After ClickOnce downloads and validates manifests, the application download starts, and the progress bar starts to update.</span></span>

## <a name="see-also"></a><span data-ttu-id="a4467-234">Vea también</span><span class="sxs-lookup"><span data-stu-id="a4467-234">See also</span></span>

- [<span data-ttu-id="a4467-235">Configurar Visual Studio para depurar una aplicación de explorador XAML y llamar a un servicio Web</span><span class="sxs-lookup"><span data-stu-id="a4467-235">Configure Visual Studio to Debug a XAML Browser Application to Call a Web Service</span></span>](configure-vs-to-debug-a-xaml-browser-to-call-a-web-service.md)
- [<span data-ttu-id="a4467-236">Implementar una aplicación WPF</span><span class="sxs-lookup"><span data-stu-id="a4467-236">Deploying a WPF Application</span></span>](deploying-a-wpf-application-wpf.md)
