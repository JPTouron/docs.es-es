---
title: Usar un servicio de datos en una aplicación cliente (Data Services de WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: b921e78c1b3d3d90d9ac8b4a459df496cf6d14dd
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91180587"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a><span data-ttu-id="36c14-102">Usar un servicio de datos en una aplicación cliente (Data Services de WCF)</span><span class="sxs-lookup"><span data-stu-id="36c14-102">Using a Data Service in a Client Application (WCF Data Services)</span></span>

<span data-ttu-id="36c14-103">Puede tener acceso a un servicio que exponga una fuente de Open Data Protocol (OData) proporcionando un URI a un explorador Web.</span><span class="sxs-lookup"><span data-stu-id="36c14-103">You can access a service that exposes an Open Data Protocol (OData) feed by supplying a URI to a Web browser.</span></span> <span data-ttu-id="36c14-104">El URI proporciona la dirección de un recurso y los mensajes de solicitud se envían a estas direcciones para obtener acceso o cambiar los datos subyacentes que el recurso representa.</span><span class="sxs-lookup"><span data-stu-id="36c14-104">The URI provides the address of a resource, and request messages are sent to these addresses to access or change the underlying data that the resource represents.</span></span> <span data-ttu-id="36c14-105">El explorador emite un comando GET de HTTP y devuelve el recurso solicitado como una fuente de OData.</span><span class="sxs-lookup"><span data-stu-id="36c14-105">The browser issues an HTTP GET command and returns the requested resource as an OData feed.</span></span> <span data-ttu-id="36c14-106">Para obtener más información, consulte [acceso al servicio desde un explorador Web](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span><span class="sxs-lookup"><span data-stu-id="36c14-106">For more information, see [Accessing the Service from a Web Browser](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span></span>  
  
 <span data-ttu-id="36c14-107">Aunque un explorador Web puede ser útil para probar que un servicio de OData devuelve los datos esperados, normalmente se accede a los servicios OData de producción que permiten también crear, actualizar y eliminar datos mediante código de aplicación o lenguajes de scripting en una página web.</span><span class="sxs-lookup"><span data-stu-id="36c14-107">Although a Web browser may be useful for testing that an OData service returns the expected data, production OData services that enable you to also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="36c14-108">En este tema se proporciona información general sobre cómo obtener acceso a las fuentes de OData desde una aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="36c14-108">This topic provides an overview of how to access OData feeds from a client application.</span></span>  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a><span data-ttu-id="36c14-109">Obtener acceso y cambiar datos mediante la semántica REST</span><span class="sxs-lookup"><span data-stu-id="36c14-109">Accessing and Changing Data Using REST Semantics</span></span>  

 <span data-ttu-id="36c14-110">OData ayuda a garantizar la interoperabilidad entre servicios que exponen fuentes y aplicaciones de OData que consumen fuentes de OData.</span><span class="sxs-lookup"><span data-stu-id="36c14-110">OData helps guarantee interoperability between services that expose OData feeds and applications that consume OData feeds.</span></span> <span data-ttu-id="36c14-111">Las aplicaciones tienen acceso a los datos y los cambian en un servicio basado en OData enviando mensajes de solicitud de una acción HTTP concreta y con un URI que direcciona un recurso de entidad en el que se debe realizar la acción.</span><span class="sxs-lookup"><span data-stu-id="36c14-111">Applications access and change data in an OData-based service by sending request messages of a specific HTTP action and with a URI that addresses an entity resource against which the action should be performed.</span></span> <span data-ttu-id="36c14-112">Cuando sea obligatorio proporcionar datos de la entidad, se proporcionan mediante una carga específicamente codificada en el cuerpo del mensaje.</span><span class="sxs-lookup"><span data-stu-id="36c14-112">When entity data must be supplied, it is supplied as a specifically encoded payload in the body of the message.</span></span>  
  
### <a name="http-actions"></a><span data-ttu-id="36c14-113">Acciones HTTP</span><span class="sxs-lookup"><span data-stu-id="36c14-113">HTTP Actions</span></span>  

 <span data-ttu-id="36c14-114">OData admite las siguientes acciones HTTP para realizar operaciones de creación, lectura, actualización y eliminación en los datos de entidad que representa el recurso direccionado:</span><span class="sxs-lookup"><span data-stu-id="36c14-114">OData supports the following HTTP actions to perform create, read, update, and delete operations on the entity data that the addressed resource represents:</span></span>  
  
- <span data-ttu-id="36c14-115">**Http Get** : se trata de la acción predeterminada cuando se tiene acceso a un recurso desde un explorador.</span><span class="sxs-lookup"><span data-stu-id="36c14-115">**HTTP GET** - This is the default action when a resource is accessed from a browser.</span></span> <span data-ttu-id="36c14-116">No se proporciona ninguna carga en el mensaje de solicitud y se devuelve un método de respuesta con una carga que contiene los datos solicitados.</span><span class="sxs-lookup"><span data-stu-id="36c14-116">No payload is supplied in the request message, and a response method with a payload that contains the requested data is returned.</span></span>  
  
- <span data-ttu-id="36c14-117">**Http post** : inserta nuevos datos de entidad en el recurso proporcionado.</span><span class="sxs-lookup"><span data-stu-id="36c14-117">**HTTP POST** - Inserts new entity data into the supplied resource.</span></span> <span data-ttu-id="36c14-118">Los datos que se van a insertar se proporcionan en la carga del mensaje de solicitud.</span><span class="sxs-lookup"><span data-stu-id="36c14-118">Data to be inserted is supplied in the payload of the request message.</span></span> <span data-ttu-id="36c14-119">La carga del mensaje de respuesta contiene los datos de la entidad recién creada.</span><span class="sxs-lookup"><span data-stu-id="36c14-119">The payload of the response message contains the data for the newly created entity.</span></span> <span data-ttu-id="36c14-120">Esto incluye los valores de clave generados automáticamente.</span><span class="sxs-lookup"><span data-stu-id="36c14-120">This includes any autogenerated key values.</span></span> <span data-ttu-id="36c14-121">El encabezado también contiene el URI que direcciona el nuevo recurso de entidad.</span><span class="sxs-lookup"><span data-stu-id="36c14-121">The header also contains the URI that addresses the new entity resource.</span></span>  
  
- <span data-ttu-id="36c14-122">**Http Delete** : elimina los datos de la entidad que representa el recurso especificado.</span><span class="sxs-lookup"><span data-stu-id="36c14-122">**HTTP DELETE** - Deletes the entity data that the specified resource represents.</span></span> <span data-ttu-id="36c14-123">En los mensajes de solicitud o respuesta no hay presente ninguna carga.</span><span class="sxs-lookup"><span data-stu-id="36c14-123">A payload is not present in the request or response messages.</span></span>  
  
- <span data-ttu-id="36c14-124">**Put de http** : reemplaza los datos de entidad existentes en el recurso solicitado con nuevos datos que se proporcionan en la carga del mensaje de solicitud.</span><span class="sxs-lookup"><span data-stu-id="36c14-124">**HTTP PUT** - Replaces existing entity data at the requested resource with new data that is supplied in the payload of the request message.</span></span>  
  
- <span data-ttu-id="36c14-125">**Combinación http** : debido a las ineficiencias en la ejecución de una eliminación seguida de una inserción en el origen de datos solo para cambiar los datos de la entidad, OData introduce una nueva acción de fusión mediante combinación http.</span><span class="sxs-lookup"><span data-stu-id="36c14-125">**HTTP MERGE** - Because of inefficiencies in executing a delete followed by an insert in the data source just to change entity data, OData introduces a new HTTP MERGE action.</span></span> <span data-ttu-id="36c14-126">La carga del mensaje de solicitud contiene las propiedades que se deben cambiar en el recurso de entidad direccionado.</span><span class="sxs-lookup"><span data-stu-id="36c14-126">The payload of the request message contains the properties that must be changed on the addressed entity resource.</span></span> <span data-ttu-id="36c14-127">Dado que la combinación HTTP no está definida en la especificación HTTP, puede requerir un procesamiento adicional para enrutar una solicitud de combinación HTTP a través de servidores que no son compatibles con OData.</span><span class="sxs-lookup"><span data-stu-id="36c14-127">Because HTTP MERGE is not defined in the HTTP specification, it may require additional processing to route a HTTP MERGE request through non-OData aware servers.</span></span>  
  
 <span data-ttu-id="36c14-128">Para obtener más información, consulte [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span><span class="sxs-lookup"><span data-stu-id="36c14-128">For more information, see [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span></span>
  
### <a name="payload-formats"></a><span data-ttu-id="36c14-129">Formatos de carga</span><span class="sxs-lookup"><span data-stu-id="36c14-129">Payload Formats</span></span>  

 <span data-ttu-id="36c14-130">Para una solicitud PUT, POST o MERGE de HTTP, la carga de un mensaje de solicitud contiene los datos de entidad que el usuario envía al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="36c14-130">For an HTTP PUT, HTTP POST, or HTTP MERGE request, the payload of a request message contains the entity data that you send to the data service.</span></span> <span data-ttu-id="36c14-131">El contenido de la carga depende del formato de datos del mensaje.</span><span class="sxs-lookup"><span data-stu-id="36c14-131">The contents of the payload depend on the data format of the message.</span></span> <span data-ttu-id="36c14-132">Las respuestas HTTP a todas las acciones, excepto DELETE, también contienen este tipo de carga.</span><span class="sxs-lookup"><span data-stu-id="36c14-132">The HTTP responses to all actions except DELETE also contain such a payload.</span></span> <span data-ttu-id="36c14-133">OData admite los siguientes formatos de carga para tener acceso a los datos y cambiarlos con el servicio:</span><span class="sxs-lookup"><span data-stu-id="36c14-133">OData supports the following payload formats for accessing and changing data with the service:</span></span>  
  
- <span data-ttu-id="36c14-134">**Atom** : codificación de mensajes basada en XML que se define en OData como una extensión del Protocolo de publicación Atom (AtomPub) para habilitar el intercambio de datos a través de http para fuentes web, podcasts, wikis y funcionalidad de Internet basada en XML.</span><span class="sxs-lookup"><span data-stu-id="36c14-134">**Atom** - An XML-based message encoding that is defined by OData as an extension to the Atom Publishing Protocol (AtomPub) to enable data exchange over HTTP for Web feeds, podcasts, wikis, and XML-based Internet functionality.</span></span> <span data-ttu-id="36c14-135">Para obtener más información, consulte [OData: formato Atom](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span><span class="sxs-lookup"><span data-stu-id="36c14-135">For more information, see [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span></span>
  
- <span data-ttu-id="36c14-136">**JSON** -notación de objetos JavaScript (JSON) es un formato de intercambio de datos ligero que se basa en un subconjunto del lenguaje de programación JavaScript.</span><span class="sxs-lookup"><span data-stu-id="36c14-136">**JSON** - JavaScript Object Notation (JSON) is a lightweight data interchange format that is based on a subset of the JavaScript Programming Language.</span></span> <span data-ttu-id="36c14-137">Para obtener más información, consulte [OData: formato JSON](https://www.odata.org/documentation/odata-version-2-0/json-format/).</span><span class="sxs-lookup"><span data-stu-id="36c14-137">For more information, see [OData: JSON Format](https://www.odata.org/documentation/odata-version-2-0/json-format/).</span></span>
  
 <span data-ttu-id="36c14-138">El formato de mensaje de la carga se solicita en el encabezado del mensaje de la solicitud HTTP.</span><span class="sxs-lookup"><span data-stu-id="36c14-138">The message format of the payload is requested in the header of the HTTP request message.</span></span> <span data-ttu-id="36c14-139">Para obtener más información, consulte [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span><span class="sxs-lookup"><span data-stu-id="36c14-139">For more information, see [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span></span>
  
## <a name="accessing-and-changing-data-using-client-libraries"></a><span data-ttu-id="36c14-140">Acceso y modificación de datos mediante bibliotecas de cliente</span><span class="sxs-lookup"><span data-stu-id="36c14-140">Accessing and Changing Data Using Client Libraries</span></span>  

 <span data-ttu-id="36c14-141">WCF Data Services incluye bibliotecas de cliente que le permiten consumir más fácilmente una fuente de OData desde .NET Framework y aplicaciones cliente basadas en Silverlight.</span><span class="sxs-lookup"><span data-stu-id="36c14-141">WCF Data Services includes client libraries that enable you to more easily consume an OData feed from .NET Framework and Silverlight-based client applications.</span></span> <span data-ttu-id="36c14-142">Estas bibliotecas simplifican el envío y recepción de los mensajes HTTP.</span><span class="sxs-lookup"><span data-stu-id="36c14-142">These libraries simplify sending and receiving HTTP messages.</span></span> <span data-ttu-id="36c14-143">También traducen la carga del mensaje en objetos CLR que representan los datos de entidad.</span><span class="sxs-lookup"><span data-stu-id="36c14-143">They also translate the message payload into CLR objects that represent entity data.</span></span> <span data-ttu-id="36c14-144">Las bibliotecas cliente representan las dos clases principales <xref:System.Data.Services.Client.DataServiceContext> y <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="36c14-144">The client libraries feature the two core classes <xref:System.Data.Services.Client.DataServiceContext> and <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span> <span data-ttu-id="36c14-145">Estas clases le permiten consultar un servicio de datos y, a continuación, trabajar con los datos de entidad devueltos como objetos CLR.</span><span class="sxs-lookup"><span data-stu-id="36c14-145">These classes enable you to query a data service and then work with the returned entity data as CLR objects.</span></span> <span data-ttu-id="36c14-146">Para obtener más información, vea [WCF Data Services biblioteca de cliente](wcf-data-services-client-library.md) y [WCF Data Services (Silverlight)](/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span><span class="sxs-lookup"><span data-stu-id="36c14-146">For more information, see [WCF Data Services Client Library](wcf-data-services-client-library.md) and [WCF Data Services (Silverlight)](/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span></span>  
  
 <span data-ttu-id="36c14-147">Puede usar el cuadro de diálogo **Agregar referencia de servicio** en Visual Studio para agregar una referencia a un servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="36c14-147">You can use the **Add Service Reference** dialog in Visual Studio to add a reference to a data service.</span></span> <span data-ttu-id="36c14-148">Esta herramienta solicita metadatos de servicio desde un servicio de datos al que se ha hecho referencia y genera el <xref:System.Data.Services.Client.DataServiceContext> que representa un servicio de datos, además de generar las clases de servicio de datos cliente que representan las entidades.</span><span class="sxs-lookup"><span data-stu-id="36c14-148">This tool requests the service metadata from a referenced data service and generates the <xref:System.Data.Services.Client.DataServiceContext> that represents a data service, as well as generates the client data service classes that represent entities.</span></span> <span data-ttu-id="36c14-149">Para obtener más información, vea [generar la biblioteca de cliente del servicio de datos](generating-the-data-service-client-library-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="36c14-149">For more information, see [Generating the Data Service Client Library](generating-the-data-service-client-library-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="36c14-150">Hay bibliotecas de programación disponibles que puede usar para consumir una fuente de OData en otros tipos de aplicaciones cliente.</span><span class="sxs-lookup"><span data-stu-id="36c14-150">There are programming libraries available that you can use to consume an OData feed in other kinds of client applications.</span></span> <span data-ttu-id="36c14-151">Para obtener más información sobre el SDK de OData, vea [el SDK de oData: código de ejemplo](https://www.odata.org/ecosystem/#sdk).</span><span class="sxs-lookup"><span data-stu-id="36c14-151">For more information on OData SDK, see [OData SDK - Sample Code](https://www.odata.org/ecosystem/#sdk).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="36c14-152">Consulte también</span><span class="sxs-lookup"><span data-stu-id="36c14-152">See also</span></span>

- [<span data-ttu-id="36c14-153">Acceso a recursos de servicios de datos</span><span class="sxs-lookup"><span data-stu-id="36c14-153">Accessing Data Service Resources</span></span>](accessing-data-service-resources-wcf-data-services.md)
- [<span data-ttu-id="36c14-154">Guía de inicio rápido</span><span class="sxs-lookup"><span data-stu-id="36c14-154">Quickstart</span></span>](quickstart-wcf-data-services.md)
