---
title: Escenarios de seguridad de aplicaciones en SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: 2d0e65f61939312bf29111e87c49366cd9e389be
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91197656"
---
# <a name="application-security-scenarios-in-sql-server"></a><span data-ttu-id="4788f-102">Escenarios de seguridad de aplicaciones en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-102">Application Security Scenarios in SQL Server</span></span>

<span data-ttu-id="4788f-103">No hay una única manera correcta de crear una aplicación cliente de SQL Server segura.</span><span class="sxs-lookup"><span data-stu-id="4788f-103">There is no single correct way to create a secure SQL Server client application.</span></span> <span data-ttu-id="4788f-104">Cada aplicación es diferente en cuanto a requisitos, al entorno de implementación y al rellenado de usuarios.</span><span class="sxs-lookup"><span data-stu-id="4788f-104">Every application is unique in its requirements, deployment environment, and user population.</span></span> <span data-ttu-id="4788f-105">Una aplicación que es razonablemente segura cuando está implementada inicialmente puede volverse menos segura con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="4788f-105">An application that is reasonably secure when it is initially deployed can become less secure over time.</span></span> <span data-ttu-id="4788f-106">No es posible predecir con precisión qué amenazas pueden surgir en el futuro.</span><span class="sxs-lookup"><span data-stu-id="4788f-106">It is impossible to predict with any accuracy what threats may emerge in the future.</span></span>  
  
 <span data-ttu-id="4788f-107">SQL Server, como producto, ha evolucionado en muchas versiones para incorporar las características de seguridad más recientes que permitan a los desarrolladores crear aplicaciones de base de datos seguras.</span><span class="sxs-lookup"><span data-stu-id="4788f-107">SQL Server, as a product, has evolved over many versions to incorporate the latest security features that enable developers to create secure database applications.</span></span> <span data-ttu-id="4788f-108">Sin embargo, la seguridad no viene incluida de forma predetermina; requiere tareas de supervisión y actualización continuas.</span><span class="sxs-lookup"><span data-stu-id="4788f-108">However, security doesn't come in the box; it requires continual monitoring and updating.</span></span>  
  
## <a name="common-threats"></a><span data-ttu-id="4788f-109">Amenazas comunes</span><span class="sxs-lookup"><span data-stu-id="4788f-109">Common Threats</span></span>  

 <span data-ttu-id="4788f-110">Los desarrolladores deben comprender las amenazas de seguridad, las herramientas proporcionadas para contrarrestarlas y cómo evitar las vulnerabilidades de seguridad.</span><span class="sxs-lookup"><span data-stu-id="4788f-110">Developers need to understand security threats, the tools provided to counter them, and how to avoid self-inflicted security holes.</span></span> <span data-ttu-id="4788f-111">La seguridad se entiende mejor si se piensa que es como una cadena, en la que, si se rompe algún eslabón, se deteriora la fuerza del conjunto.</span><span class="sxs-lookup"><span data-stu-id="4788f-111">Security can best be thought of as a chain, where a break in any one link compromises the strength of the whole.</span></span> <span data-ttu-id="4788f-112">La lista siguiente incluye algunas amenazas de seguridad comunes que se describen con más detalle en los temas de esta sección.</span><span class="sxs-lookup"><span data-stu-id="4788f-112">The following list includes some common security threats that are discussed in more detail in the topics in this section.</span></span>  
  
### <a name="sql-injection"></a><span data-ttu-id="4788f-113">Inyección de código SQL</span><span class="sxs-lookup"><span data-stu-id="4788f-113">SQL Injection</span></span>  

 <span data-ttu-id="4788f-114">La inyección de código SQL es el proceso por el que un usuario malintencionado escribe instrucciones Transact-SQL en lugar de entradas válidas.</span><span class="sxs-lookup"><span data-stu-id="4788f-114">SQL Injection is the process by which a malicious user enters Transact-SQL statements instead of valid input.</span></span> <span data-ttu-id="4788f-115">Si la entrada se pasa directamente al servidor sin ser validada y la aplicación ejecuta accidentalmente el código inyectado, el ataque tiene la posibilidad de dañar o destruir datos.</span><span class="sxs-lookup"><span data-stu-id="4788f-115">If the input is passed directly to the server without being validated and if the application inadvertently executes the injected code, then the attack has the potential to damage or destroy data.</span></span> <span data-ttu-id="4788f-116">Para evitar ataques de inyección de SQL Server, puede usar procedimientos almacenados y comandos con parámetros, con lo que se evita el SQL dinámico y se restringen los permisos en todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="4788f-116">You can thwart SQL Server injection attacks by using stored procedures and parameterized commands, avoiding dynamic SQL, and restricting permissions on all users.</span></span>  
  
### <a name="elevation-of-privilege"></a><span data-ttu-id="4788f-117">Elevación de privilegios</span><span class="sxs-lookup"><span data-stu-id="4788f-117">Elevation of Privilege</span></span>  

 <span data-ttu-id="4788f-118">Los ataques de elevación de privilegios se producen cuando un usuario puede asumir los privilegios de una cuenta de confianza, como un propietario o administrador.</span><span class="sxs-lookup"><span data-stu-id="4788f-118">Elevation of privilege attacks occur when a user is able to assume the privileges of a trusted account, such as an owner or administrator.</span></span> <span data-ttu-id="4788f-119">Realice las operaciones de ejecución siempre con cuentas de usuario con privilegios mínimos y asigne solo aquellos que sean necesarios.</span><span class="sxs-lookup"><span data-stu-id="4788f-119">Always run under least-privileged user accounts and assign only needed permissions.</span></span> <span data-ttu-id="4788f-120">Evite el uso de cuentas administrativas o de propietario para ejecutar código.</span><span class="sxs-lookup"><span data-stu-id="4788f-120">Avoid using administrative or owner accounts for executing code.</span></span> <span data-ttu-id="4788f-121">De este modo, se limita la cantidad de daño que pueden producirse si un ataque se realiza correctamente.</span><span class="sxs-lookup"><span data-stu-id="4788f-121">This limits the amount of damage that can occur if an attack succeeds.</span></span> <span data-ttu-id="4788f-122">Cuando realice tareas que requieran permisos adicionales, use la firma de procedimiento o la suplantación solo mientras dure la tarea.</span><span class="sxs-lookup"><span data-stu-id="4788f-122">When performing tasks that require additional permissions, use procedure signing or impersonation only for the duration of the task.</span></span> <span data-ttu-id="4788f-123">Puede firmar procedimientos almacenados con certificados o usar la suplantación para asignar permisos temporalmente.</span><span class="sxs-lookup"><span data-stu-id="4788f-123">You can sign stored procedures with certificates or use impersonation to temporarily assign permissions.</span></span>  
  
### <a name="probing-and-intelligent-observation"></a><span data-ttu-id="4788f-124">Sondeos y observación inteligente</span><span class="sxs-lookup"><span data-stu-id="4788f-124">Probing and Intelligent Observation</span></span>  

 <span data-ttu-id="4788f-125">Un ataque de sondeo puede utilizar los mensajes de error generados por una aplicación para buscar vulnerabilidades de seguridad.</span><span class="sxs-lookup"><span data-stu-id="4788f-125">A probing attack can use error messages generated by an application to search for security vulnerabilities.</span></span> <span data-ttu-id="4788f-126">Implemente el control de errores en todo el código de procedimiento para evitar que las informaciones de errores de SQL Server lleguen al usuario final.</span><span class="sxs-lookup"><span data-stu-id="4788f-126">Implement error handling in all procedural code to prevent SQL Server error information from being returned to the end user.</span></span>  
  
### <a name="authentication"></a><span data-ttu-id="4788f-127">Authentication</span><span class="sxs-lookup"><span data-stu-id="4788f-127">Authentication</span></span>  

 <span data-ttu-id="4788f-128">Se puede producir un ataque por inyección de cadena de conexión al utilizar inicios de sesión de SQL Server si una cadena de conexión basada en datos proporcionados por el usuario se construye en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4788f-128">A connection string injection attack can occur when using SQL Server logins if a connection string based on user input is constructed at run time.</span></span> <span data-ttu-id="4788f-129">Si en la cadena de conexión no se comprueba si hay pares de palabras clave válidos, un atacante puede insertar caracteres adicionales, tener acceso a información confidencial o a otros recursos del servidor.</span><span class="sxs-lookup"><span data-stu-id="4788f-129">If the connection string is not checked for valid keyword pairs, an attacker can insert extra characters, potentially accessing sensitive data or other resources on the server.</span></span> <span data-ttu-id="4788f-130">Use la autenticación de Windows siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="4788f-130">Use Windows authentication wherever possible.</span></span> <span data-ttu-id="4788f-131">Si debe utilizar inicios de sesión de SQL Server, utilice <xref:System.Data.SqlClient.SqlConnectionStringBuilder> para crear y validar cadenas de conexión en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4788f-131">If you must use SQL Server logins, use the <xref:System.Data.SqlClient.SqlConnectionStringBuilder> to create and validate connection strings at run time.</span></span>  
  
### <a name="passwords"></a><span data-ttu-id="4788f-132">Contraseñas</span><span class="sxs-lookup"><span data-stu-id="4788f-132">Passwords</span></span>  

 <span data-ttu-id="4788f-133">Muchos ataques tienen éxito porque un intruso pudo obtener o adivinar la contraseña de un usuario con privilegios.</span><span class="sxs-lookup"><span data-stu-id="4788f-133">Many attacks succeed because an intruder was able to obtain or guess a password for a privileged user.</span></span> <span data-ttu-id="4788f-134">Las contraseñas son la primera línea de defensa contra los intrusos, por lo que establecer contraseñas seguras es esencial para la seguridad del sistema.</span><span class="sxs-lookup"><span data-stu-id="4788f-134">Passwords are your first line of defense against intruders, so setting strong passwords is essential to the security of your system.</span></span> <span data-ttu-id="4788f-135">Cree y aplique directivas de uso de contraseñas para la autenticación en modo mixto.</span><span class="sxs-lookup"><span data-stu-id="4788f-135">Create and enforce password policies for mixed mode authentication.</span></span>  
  
 <span data-ttu-id="4788f-136">Asigne siempre una contraseña segura a la cuenta `sa`, incluso cuando use la autenticación de Windows.</span><span class="sxs-lookup"><span data-stu-id="4788f-136">Always assign a strong password to the `sa` account, even when using Windows Authentication.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="4788f-137">En esta sección</span><span class="sxs-lookup"><span data-stu-id="4788f-137">In This Section</span></span>  

 [<span data-ttu-id="4788f-138">Administrar permisos con procedimientos almacenados en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-138">Managing Permissions with Stored Procedures in SQL Server</span></span>](managing-permissions-with-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="4788f-139">Describe cómo utilizar procedimientos almacenados para administrar permisos y controlar el acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="4788f-139">Describes how to use stored procedures to manage permissions and control data access.</span></span> <span data-ttu-id="4788f-140">El uso de procedimientos almacenados es una forma efectiva de responder a muchas amenazas a la seguridad.</span><span class="sxs-lookup"><span data-stu-id="4788f-140">Using stored procedures is an effective way to respond to many security threats.</span></span>  
  
 [<span data-ttu-id="4788f-141">Escribir SQL dinámico seguro en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-141">Writing Secure Dynamic SQL in SQL Server</span></span>](writing-secure-dynamic-sql-in-sql-server.md)  
 <span data-ttu-id="4788f-142">Describe técnicas para escribir instrucciones SQL dinámicas seguras mediante procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="4788f-142">Describes techniques for writing secure dynamic SQL using stored procedures.</span></span>  
  
 [<span data-ttu-id="4788f-143">Firmar procedimientos almacenados en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-143">Signing Stored Procedures in SQL Server</span></span>](signing-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="4788f-144">Describe cómo firmar un procedimiento almacenado con un certificado para que los usuarios puedan trabajar con datos a los que no tienen acceso directo.</span><span class="sxs-lookup"><span data-stu-id="4788f-144">Describes how to sign a stored procedure with a certificate to enable users to work with data they do not have direct access to.</span></span> <span data-ttu-id="4788f-145">Esto permite que los procedimientos almacenados realicen operaciones que el autor de la llamada no tiene permisos para realizar directamente.</span><span class="sxs-lookup"><span data-stu-id="4788f-145">This enables stored procedures to perform operations that the caller does not have permissions to perform directly.</span></span>  
  
 [<span data-ttu-id="4788f-146">Personalizar permisos con suplantación en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-146">Customizing Permissions with Impersonation in SQL Server</span></span>](customizing-permissions-with-impersonation-in-sql-server.md)  
 <span data-ttu-id="4788f-147">Describe cómo usar la cláusula EXECUTE AS para suplantar a otro usuario.</span><span class="sxs-lookup"><span data-stu-id="4788f-147">Describes how to use the EXECUTE AS clause to impersonate another user.</span></span> <span data-ttu-id="4788f-148">La suplantación cambia el contexto de ejecución del autor de la llamada al usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="4788f-148">Impersonation switches the execution context from the caller to the specified user.</span></span>  
  
 [<span data-ttu-id="4788f-149">Conceder permisos de nivel de fila en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-149">Granting Row-Level Permissions in SQL Server</span></span>](granting-row-level-permissions-in-sql-server.md)  
 <span data-ttu-id="4788f-150">Describe cómo implementar permisos a nivel de fila con el fin de restringir el acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="4788f-150">Describes how to implement row-level permissions to restrict data access.</span></span>  
  
 [<span data-ttu-id="4788f-151">Crear roles de aplicación en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-151">Creating Application Roles in SQL Server</span></span>](creating-application-roles-in-sql-server.md)  
 <span data-ttu-id="4788f-152">Describe las características y la funcionalidad de los roles de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4788f-152">Describes features and functionality of application roles.</span></span>  
  
 [<span data-ttu-id="4788f-153">Habilitar el acceso entre bases de datos en SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-153">Enabling Cross-Database Access in SQL Server</span></span>](enabling-cross-database-access-in-sql-server.md)  
 <span data-ttu-id="4788f-154">Describe cómo habilitar el acceso entre bases de datos sin poner en peligro la seguridad.</span><span class="sxs-lookup"><span data-stu-id="4788f-154">Describes how to enable cross-database access without jeopardizing security.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4788f-155">Consulte también</span><span class="sxs-lookup"><span data-stu-id="4788f-155">See also</span></span>

- [<span data-ttu-id="4788f-156">Seguridad de SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-156">SQL Server Security</span></span>](sql-server-security.md)
- [<span data-ttu-id="4788f-157">Información general sobre la seguridad de SQL Server</span><span class="sxs-lookup"><span data-stu-id="4788f-157">Overview of SQL Server Security</span></span>](overview-of-sql-server-security.md)
- [<span data-ttu-id="4788f-158">Proteger aplicaciones de ADO.NET</span><span class="sxs-lookup"><span data-stu-id="4788f-158">Securing ADO.NET Applications</span></span>](../securing-ado-net-applications.md)
- [<span data-ttu-id="4788f-159">Información general de ADO.NET</span><span class="sxs-lookup"><span data-stu-id="4788f-159">ADO.NET Overview</span></span>](../ado-net-overview.md)
