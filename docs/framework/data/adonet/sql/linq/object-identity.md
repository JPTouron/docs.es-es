---
title: Identidad de objetos
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c788f2f9-65cc-4455-9907-e8388a268e00
ms.openlocfilehash: 1a1617b4fb15a6adf94c0241c3ba577308c51a8b
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91169432"
---
# <a name="object-identity"></a><span data-ttu-id="35cc4-102">Identidad de objetos</span><span class="sxs-lookup"><span data-stu-id="35cc4-102">Object Identity</span></span>

<span data-ttu-id="35cc4-103">Los objetos en tiempo de ejecución tienen identidades únicas.</span><span class="sxs-lookup"><span data-stu-id="35cc4-103">Objects in the runtime have unique identities.</span></span> <span data-ttu-id="35cc4-104">Dos variables que hacen referencia al mismo objeto en realidad hacen referencia a la misma instancia del objeto.</span><span class="sxs-lookup"><span data-stu-id="35cc4-104">Two variables that refer to the same object actually refer to the same instance of the object.</span></span> <span data-ttu-id="35cc4-105">Por este motivo, los cambios que se realizan a través de una variable están visibles inmediatamente a través de la otra.</span><span class="sxs-lookup"><span data-stu-id="35cc4-105">Because of this fact, changes that you make by way of a path through one variable are immediately visible through the other.</span></span>  
  
 <span data-ttu-id="35cc4-106">Las filas de una tabla de base de datos relacional no tienen identidades únicas.</span><span class="sxs-lookup"><span data-stu-id="35cc4-106">Rows in a relational database table do not have unique identities.</span></span> <span data-ttu-id="35cc4-107">Dado que cada fila tiene una clave principal única, dos filas no comparten el mismo valor de clave.</span><span class="sxs-lookup"><span data-stu-id="35cc4-107">Because each row has a unique primary key, no two rows share the same key value.</span></span> <span data-ttu-id="35cc4-108">Sin embargo, este hecho restringe sólo el contenido de la tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="35cc4-108">However, this fact constrains only the contents of the database table.</span></span>  
  
 <span data-ttu-id="35cc4-109">En realidad, la mayoría de las veces los datos se extraen de la base de datos y se colocan en un nivel diferente, donde una aplicación trabaja con ellos.</span><span class="sxs-lookup"><span data-stu-id="35cc4-109">In reality, data is most often brought out of the database and into a different tier, where an application works with it.</span></span> <span data-ttu-id="35cc4-110">Éste es el modelo que [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] admite.</span><span class="sxs-lookup"><span data-stu-id="35cc4-110">This is the model that [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] supports.</span></span> <span data-ttu-id="35cc4-111">Cuando los datos se extraen de la base de datos como filas, no se espera que dos filas que representan los mismos datos realmente se correspondan con las mismas instancias de fila.</span><span class="sxs-lookup"><span data-stu-id="35cc4-111">When data is brought out of the database as rows, you have no expectation that two rows that represent the same data actually correspond to the same row instances.</span></span> <span data-ttu-id="35cc4-112">Si consulta un cliente concreto dos veces, obtiene dos filas de datos.</span><span class="sxs-lookup"><span data-stu-id="35cc4-112">If you query for a specific customer two times, you get two rows of data.</span></span> <span data-ttu-id="35cc4-113">Cada fila contiene la misma información.</span><span class="sxs-lookup"><span data-stu-id="35cc4-113">Each row contains the same information.</span></span>  
  
 <span data-ttu-id="35cc4-114">En el caso de los objetos, se espera algo muy diferente.</span><span class="sxs-lookup"><span data-stu-id="35cc4-114">With objects you expect something very different.</span></span> <span data-ttu-id="35cc4-115">Se espera que, si se solicita la misma información a <xref:System.Data.Linq.DataContext> varias veces, de hecho se obtendrá la misma instancia de objeto.</span><span class="sxs-lookup"><span data-stu-id="35cc4-115">You expect that if you ask the <xref:System.Data.Linq.DataContext> for the same information repeatedly, it will in fact give you the same object instance.</span></span> <span data-ttu-id="35cc4-116">Este comportamiento es el esperado porque los objetos tienen un significado especial para una aplicación y se espera que se comporten como objetos.</span><span class="sxs-lookup"><span data-stu-id="35cc4-116">You expect this behavior because objects have special meaning for your application and you expect them to behave like objects.</span></span> <span data-ttu-id="35cc4-117">Se han diseñado como jerarquías o gráficos.</span><span class="sxs-lookup"><span data-stu-id="35cc4-117">You designed them as hierarchies or graphs.</span></span> <span data-ttu-id="35cc4-118">Lo que se espera es que se recuperarán como tales y no que se recibirán múltiples instancias replicadas sólo porque se solicitó lo mismo más de una vez.</span><span class="sxs-lookup"><span data-stu-id="35cc4-118">You expect to retrieve them as such and not to receive multitudes of replicated instances just because you asked for the same thing more than one time.</span></span>  
  
 <span data-ttu-id="35cc4-119">En [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], <xref:System.Data.Linq.DataContext> administra la identidad de objeto.</span><span class="sxs-lookup"><span data-stu-id="35cc4-119">In [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], the <xref:System.Data.Linq.DataContext> manages object identity.</span></span> <span data-ttu-id="35cc4-120">Siempre que se recupera una nueva fila de la base de datos, la fila se registra en una tabla de identidad según su clave principal y se crea un nuevo objeto.</span><span class="sxs-lookup"><span data-stu-id="35cc4-120">Whenever you retrieve a new row from the database, the row is logged in an identity table by its primary key, and a new object is created.</span></span> <span data-ttu-id="35cc4-121">Siempre que se recupera esa misma fila, la instancia de objeto original se devuelve a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="35cc4-121">Whenever you retrieve that same row, the original object instance is handed back to the application.</span></span> <span data-ttu-id="35cc4-122">De esta manera, <xref:System.Data.Linq.DataContext> convierte el concepto de identidad desde el punto de vista de la base de datos (es decir, claves principales) en el concepto de identidad desde el punto de vista del lenguaje (es decir, instancias).</span><span class="sxs-lookup"><span data-stu-id="35cc4-122">In this manner the <xref:System.Data.Linq.DataContext> translates the concept of identity as seen by the database (that is, primary keys) into the concept of identity seen by the language (that is, instances).</span></span> <span data-ttu-id="35cc4-123">La aplicación solo ve el objeto en el estado en que se recuperó por primera vez.</span><span class="sxs-lookup"><span data-stu-id="35cc4-123">The application only sees the object in the state that it was first retrieved.</span></span> <span data-ttu-id="35cc4-124">Los nuevos datos, si son diferentes, se descartan.</span><span class="sxs-lookup"><span data-stu-id="35cc4-124">The new data, if different, is discarded.</span></span> <span data-ttu-id="35cc4-125">Para obtener más información, vea [recuperar objetos de la memoria caché de identidades](retrieving-objects-from-the-identity-cache.md).</span><span class="sxs-lookup"><span data-stu-id="35cc4-125">For more information, see [Retrieving Objects from the Identity Cache](retrieving-objects-from-the-identity-cache.md).</span></span>  
  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="35cc4-126">utiliza este enfoque para administrar la integridad de los objetos locales con el fin de admitir las actualizaciones optimistas.</span><span class="sxs-lookup"><span data-stu-id="35cc4-126">uses this approach to manage the integrity of local objects in order to support optimistic updates.</span></span> <span data-ttu-id="35cc4-127">Dado que los únicos cambios que se producen después de crear el objeto son los realizados por la aplicación, la intención de la aplicación está clara.</span><span class="sxs-lookup"><span data-stu-id="35cc4-127">Because the only changes that occur after the object is at first created are those made by the application, the intent of the application is clear.</span></span> <span data-ttu-id="35cc4-128">Si en ese período de tiempo un tercero ha realizado cambios, se identifican en el momento en que se llama a `SubmitChanges()`.</span><span class="sxs-lookup"><span data-stu-id="35cc4-128">If changes by an outside party have occurred in the interim, they are identified at the time `SubmitChanges()` is called.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="35cc4-129">Si el objeto solicitado por la consulta se puede identificar con facilidad como ya recuperado, no se ejecuta ninguna consulta.</span><span class="sxs-lookup"><span data-stu-id="35cc4-129">If the object requested by the query is easily identifiable as one already retrieved, no query is executed.</span></span> <span data-ttu-id="35cc4-130">La tabla de identidad actúa como caché de todos los objetos previamente recuperados.</span><span class="sxs-lookup"><span data-stu-id="35cc4-130">The identity table acts as a cache of all previously retrieved objects.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="35cc4-131">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="35cc4-131">Examples</span></span>  
  
### <a name="object-caching-example-1"></a><span data-ttu-id="35cc4-132">Primer ejemplo de almacenamiento de objetos en caché</span><span class="sxs-lookup"><span data-stu-id="35cc4-132">Object Caching Example 1</span></span>  

 <span data-ttu-id="35cc4-133">En este ejemplo, si ejecuta la misma consulta dos veces, en cada ocasión recibe una referencia al mismo objeto en memoria.</span><span class="sxs-lookup"><span data-stu-id="35cc4-133">In this example, if you execute the same query two times, you receive a reference to the same object in memory every time.</span></span>  
  
 [!code-csharp[DLinqObjectIdentity#1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqObjectIdentity/cs/Program.cs#1)]
 [!code-vb[DLinqObjectIdentity#1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqObjectIdentity/vb/Module1.vb#1)]  
  
### <a name="object-caching-example-2"></a><span data-ttu-id="35cc4-134">Segundo ejemplo de almacenamiento de objetos en caché</span><span class="sxs-lookup"><span data-stu-id="35cc4-134">Object Caching Example 2</span></span>  

 <span data-ttu-id="35cc4-135">En este ejemplo, si ejecuta consultas diferentes que devuelven la misma fila de la base de datos, en cada ocasión recibe una referencia al mismo objeto en memoria.</span><span class="sxs-lookup"><span data-stu-id="35cc4-135">In this example, if you execute different queries that return the same row from the database, you receive a reference to the same object in memory every time.</span></span>  
  
 [!code-csharp[DLinqObjectIdentity#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqObjectIdentity/cs/Program.cs#2)]
 [!code-vb[DLinqObjectIdentity#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqObjectIdentity/vb/Module1.vb#2)]  
  
## <a name="see-also"></a><span data-ttu-id="35cc4-136">Consulte también</span><span class="sxs-lookup"><span data-stu-id="35cc4-136">See also</span></span>

- [<span data-ttu-id="35cc4-137">Información general</span><span class="sxs-lookup"><span data-stu-id="35cc4-137">Background Information</span></span>](background-information.md)
