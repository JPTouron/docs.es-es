---
title: Solución de problemas
ms.date: 03/30/2017
ms.assetid: 8cd4401c-b12c-4116-a421-f3dcffa65670
ms.openlocfilehash: 0ac71d9a55e92161f24deb490b8df6148bfc840c
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91202193"
---
# <a name="troubleshooting"></a><span data-ttu-id="6f1a0-102">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="6f1a0-102">Troubleshooting</span></span>

<span data-ttu-id="6f1a0-103">La siguiente información expone algunos problemas que podría encontrar en sus aplicaciones de [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] y proporciona sugerencias para evitar o reducir el efecto de estos problemas.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-103">The following information exposes some issues you might encounter in your [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] applications, and provides suggestions to avoid or otherwise reduce the effect of these issues.</span></span>  
  
 <span data-ttu-id="6f1a0-104">Los problemas adicionales se tratan en las [preguntas más](frequently-asked-questions.md)frecuentes.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-104">Additional issues are addressed in [Frequently Asked Questions](frequently-asked-questions.md).</span></span>  
  
## <a name="unsupported-standard-query-operators"></a><span data-ttu-id="6f1a0-105">Operadores de consulta estándar no admitidos</span><span class="sxs-lookup"><span data-stu-id="6f1a0-105">Unsupported Standard Query Operators</span></span>  

 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="6f1a0-106">no admite todos los métodos de operador de consulta estándar (por ejemplo, <xref:System.Linq.Enumerable.ElementAt%2A>).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-106">does not support all standard query operator methods (for example, <xref:System.Linq.Enumerable.ElementAt%2A>).</span></span> <span data-ttu-id="6f1a0-107">Como resultado, aunque los proyectos se compilen correctamente, pueden producir errores en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-107">As a result, projects that compile can still produce run-time errors.</span></span> <span data-ttu-id="6f1a0-108">Para obtener más información, vea [traducción de operadores de consulta estándar](standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-108">For more information, see [Standard Query Operator Translation](standard-query-operator-translation.md).</span></span>  
  
## <a name="memory-issues"></a><span data-ttu-id="6f1a0-109">Problemas de memoria</span><span class="sxs-lookup"><span data-stu-id="6f1a0-109">Memory Issues</span></span>  

 <span data-ttu-id="6f1a0-110">Si una consulta implica una colección en memoria y [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601> , la consulta se puede ejecutar en memoria, dependiendo del orden en el que se especifiquen las dos colecciones.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-110">If a query involves an in-memory collection and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, the query might be executed in memory, depending on the order in which the two collections are specified.</span></span> <span data-ttu-id="6f1a0-111">Si la consulta se debe ejecutar en memoria, entonces es necesario recuperar los datos de la tabla de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-111">If the query must be executed in memory, then the data from the database table will need to be retrieved.</span></span>  
  
 <span data-ttu-id="6f1a0-112">Este enfoque es ineficiente y podría provocar un uso excesivo del procesador y de la memoria.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-112">This approach is inefficient and could result in significant memory and processor usage.</span></span> <span data-ttu-id="6f1a0-113">Intente evitar esas consultas multidominio.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-113">Try to avoid such multi-domain queries.</span></span>  
  
## <a name="file-names-and-sqlmetal"></a><span data-ttu-id="6f1a0-114">Nombres de archivo y SQLMetal</span><span class="sxs-lookup"><span data-stu-id="6f1a0-114">File Names and SQLMetal</span></span>  

 <span data-ttu-id="6f1a0-115">Para especificar un nombre de archivo de entrada, agregue el nombre a la línea de comandos como archivo de entrada.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-115">To specify an input file name, add the name to the command line as the input file.</span></span> <span data-ttu-id="6f1a0-116">No se admite la inclusión del nombre de archivo en la cadena de conexión (mediante la opción **/conn** ).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-116">Including the file name in the connection string (using the **/conn** option) is not supported.</span></span> <span data-ttu-id="6f1a0-117">Para obtener más información, vea [SqlMetal.exe (Herramienta de generación de código)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-117">For more information, see [SqlMetal.exe (Code Generation Tool)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span></span>  
  
## <a name="class-library-projects"></a><span data-ttu-id="6f1a0-118">Proyectos de biblioteca de clases</span><span class="sxs-lookup"><span data-stu-id="6f1a0-118">Class Library Projects</span></span>  

 <span data-ttu-id="6f1a0-119">El Object Relational Designer crea una cadena de conexión en el `app.config` archivo del proyecto.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-119">The Object Relational Designer creates a connection string in the `app.config` file of the project.</span></span> <span data-ttu-id="6f1a0-120">En proyectos de biblioteca de clases, el archivo `app.config` no se utiliza.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-120">In class library projects, the `app.config` file is not used.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="6f1a0-121">utiliza la cadena de conexión proporcionada en los archivos en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-121">uses the Connection String provided in the design-time files.</span></span> <span data-ttu-id="6f1a0-122">Al cambiar el valor en `app.config`, la base de datos a la que se conecta su aplicación no cambia.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-122">Changing the value in `app.config` does not change the database to which your application connects.</span></span>  
  
## <a name="cascade-delete"></a><span data-ttu-id="6f1a0-123">Eliminación en cascada</span><span class="sxs-lookup"><span data-stu-id="6f1a0-123">Cascade Delete</span></span>  

 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="6f1a0-124">no admite ni reconoce las operaciones de eliminación en cascada.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-124">does not support or recognize cascade-delete operations.</span></span> <span data-ttu-id="6f1a0-125">Si desea eliminar una fila de una tabla que tiene restringidas las eliminaciones, deberá hacerlo mediante una de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="6f1a0-125">If you want to delete a row in a table that has constraints against it, you must do either of the following:</span></span>  
  
- <span data-ttu-id="6f1a0-126">Establezca la regla `ON DELETE CASCADE` en la restricción de clave externa de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-126">Set the `ON DELETE CASCADE` rule in the foreign-key constraint in the database.</span></span>  
  
- <span data-ttu-id="6f1a0-127">Utilice su propio código para eliminar primero los objetos secundarios que impiden que se elimine el objeto primario.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-127">Use your own code to first delete the child objects that prevent the parent object from being deleted.</span></span>  
  
 <span data-ttu-id="6f1a0-128">En caso contrario, se producirá una excepción <xref:System.Data.SqlClient.SqlException>.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-128">Otherwise, a <xref:System.Data.SqlClient.SqlException> exception is thrown.</span></span>  
  
 <span data-ttu-id="6f1a0-129">Para obtener más información, consulte [Cómo: eliminar filas de la base de datos](how-to-delete-rows-from-the-database.md).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-129">For more information, see [How to: Delete Rows From the Database](how-to-delete-rows-from-the-database.md).</span></span>  
  
## <a name="expression-not-queryable"></a><span data-ttu-id="6f1a0-130">Expresión que no se puede consultar</span><span class="sxs-lookup"><span data-stu-id="6f1a0-130">Expression Not Queryable</span></span>  

 <span data-ttu-id="6f1a0-131">Si obtiene el error "No se puede consultar una expresión de tipo [expresión]. Compruebe que no falta ninguna referencia de ensamblado",</span><span class="sxs-lookup"><span data-stu-id="6f1a0-131">If you get the "Expression [expression] is not queryable; are you missing an assembly reference?"</span></span> <span data-ttu-id="6f1a0-132">asegúrese de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="6f1a0-132">error, make sure of the following:</span></span>  
  
- <span data-ttu-id="6f1a0-133">La aplicación tiene como destino .NET Compact Framework 3,5.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-133">Your application is targeting .NET Compact Framework 3.5.</span></span>  
  
- <span data-ttu-id="6f1a0-134">Tiene una referencia a `System.Core.dll` y `System.Data.Linq.dll`.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-134">You have a reference to `System.Core.dll` and `System.Data.Linq.dll`.</span></span>  
  
- <span data-ttu-id="6f1a0-135">Tiene una `Imports` Directiva (Visual Basic) o `using` (C#) para <xref:System.Linq> y <xref:System.Data.Linq> .</span><span class="sxs-lookup"><span data-stu-id="6f1a0-135">You have an `Imports` (Visual Basic) or `using` (C#) directive for <xref:System.Linq> and <xref:System.Data.Linq>.</span></span>  
  
## <a name="duplicatekeyexception"></a><span data-ttu-id="6f1a0-136">DuplicateKeyException</span><span class="sxs-lookup"><span data-stu-id="6f1a0-136">DuplicateKeyException</span></span>  

 <span data-ttu-id="6f1a0-137">En el transcurso de la depuración de un [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] proyecto, podría atravesar las relaciones de una entidad.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-137">In the course of debugging a [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] project, you might traverse an entity's relations.</span></span> <span data-ttu-id="6f1a0-138">Al hacerlo, los elementos se convierten en la memoria caché y [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] se conoce su presencia.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-138">Doing so brings these items into the cache, and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] becomes aware of their presence.</span></span> <span data-ttu-id="6f1a0-139">Si, a continuación, intenta ejecutar <xref:System.Data.Linq.Table%601.Attach%2A> o <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> o un método similar que genere varias filas con que presenten la misma clave, se producirá la excepción <xref:System.Data.Linq.DuplicateKeyException>.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-139">If you then try to execute <xref:System.Data.Linq.Table%601.Attach%2A> or <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> or a similar method that produces multiple rows that have the same key, a <xref:System.Data.Linq.DuplicateKeyException> is thrown.</span></span>  
  
## <a name="string-concatenation-exceptions"></a><span data-ttu-id="6f1a0-140">Excepciones de concatenación de cadenas</span><span class="sxs-lookup"><span data-stu-id="6f1a0-140">String Concatenation Exceptions</span></span>  

 <span data-ttu-id="6f1a0-141">No se admite la concatenación sobre operandos asignados a `[n]text` y otros `[n][var]char`.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-141">Concatenation on operands mapped to `[n]text` and other `[n][var]char` is not supported.</span></span> <span data-ttu-id="6f1a0-142">Se produce una excepción para la concatenación de cadenas asignadas a los dos conjuntos diferentes de tipos.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-142">An exception is thrown for concatenation of strings mapped to the two different sets of types.</span></span> <span data-ttu-id="6f1a0-143">Para obtener más información, vea [métodos System. String](system-string-methods.md).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-143">For more information, see [System.String Methods](system-string-methods.md).</span></span>  
  
## <a name="skip-and-take-exceptions-in-sql-server-2000"></a><span data-ttu-id="6f1a0-144">Omitir y aceptar excepciones en SQL Server 2000</span><span class="sxs-lookup"><span data-stu-id="6f1a0-144">Skip and Take Exceptions in SQL Server 2000</span></span>  

 <span data-ttu-id="6f1a0-145">Debe usar miembros de identidad (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) cuando utilice <xref:System.Linq.Queryable.Take%2A> o <xref:System.Linq.Queryable.Skip%2A> contra una base de datos de SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-145">You must use identity members (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) when you use <xref:System.Linq.Queryable.Take%2A> or <xref:System.Linq.Queryable.Skip%2A> against a SQL Server 2000 database.</span></span> <span data-ttu-id="6f1a0-146">La consulta debe realizarse contra una sola tabla (es decir, no una unión), o ser una operación <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A> o <xref:System.Linq.Queryable.Union%2A>, y no debe incluir una operación <xref:System.Linq.Queryable.Concat%2A>.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-146">The query must be against a single table (that is, not a join), or be a <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A>, or <xref:System.Linq.Queryable.Union%2A> operation, and must not include a <xref:System.Linq.Queryable.Concat%2A> operation.</span></span> <span data-ttu-id="6f1a0-147">Para obtener más información, vea la sección "compatibilidad con SQL Server 2000" en [traducción de operadores de consulta estándar](standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="6f1a0-147">For more information, see the "SQL Server 2000 Support" section in [Standard Query Operator Translation](standard-query-operator-translation.md).</span></span>  
  
 <span data-ttu-id="6f1a0-148">Este requisito no se aplica a SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-148">This requirement does not apply to SQL Server 2005.</span></span>  
  
## <a name="groupby-invalidoperationexception"></a><span data-ttu-id="6f1a0-149">GroupBy InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="6f1a0-149">GroupBy InvalidOperationException</span></span>  

 <span data-ttu-id="6f1a0-150">Esta excepción se produce cuando un valor de columna es nulo en una consulta <xref:System.Linq.Enumerable.GroupBy%2A> que agrupa mediante una expresión `boolean`, como `group x by (Phone==@phone)`.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-150">This exception is thrown when a column value is null in a <xref:System.Linq.Enumerable.GroupBy%2A> query that groups by a `boolean` expression, such as `group x by (Phone==@phone)`.</span></span> <span data-ttu-id="6f1a0-151">Dado que la expresión es `boolean` , se deduce que la clave es `boolean` , no `nullable` `boolean` .</span><span class="sxs-lookup"><span data-stu-id="6f1a0-151">Because the expression is a `boolean`, the key is inferred to be `boolean`, not `nullable` `boolean`.</span></span> <span data-ttu-id="6f1a0-152">Cuando la comparación traducida genera un valor null, se realiza un intento de asignar un `nullable` `boolean` a un `boolean` y se produce la excepción.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-152">When the translated comparison produces a null, an attempt is made to assign a `nullable` `boolean` to a `boolean`, and the exception is thrown.</span></span>  
  
 <span data-ttu-id="6f1a0-153">Para evitar esta situación (suponiendo que desea tratar los valores null como falsos), utilice un enfoque como el siguiente:</span><span class="sxs-lookup"><span data-stu-id="6f1a0-153">To avoid this situation (assuming you want to treat nulls as false), use an approach such as the following:</span></span>  
  
 `GroupBy="(Phone != null) && (Phone=@Phone)"`  
  
## <a name="oncreated-partial-method"></a><span data-ttu-id="6f1a0-154">Método parcial OnCreated()</span><span class="sxs-lookup"><span data-stu-id="6f1a0-154">OnCreated() Partial Method</span></span>  

 <span data-ttu-id="6f1a0-155">Se llama al método generado `OnCreated()` cada vez que se llama al constructor de objeto, incluido el escenario en el que [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] llama al constructor para realizar una copia para los valores originales.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-155">The generated method `OnCreated()` is called each time the object constructor is called, including the scenario in which [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] calls the constructor to make a copy for original values.</span></span> <span data-ttu-id="6f1a0-156">Tenga en cuenta este comportamiento si implementa el método `OnCreated()` en su propia clase parcial.</span><span class="sxs-lookup"><span data-stu-id="6f1a0-156">Take this behavior into account if you implement the `OnCreated()` method in your own partial class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6f1a0-157">Consulte también</span><span class="sxs-lookup"><span data-stu-id="6f1a0-157">See also</span></span>

- [<span data-ttu-id="6f1a0-158">Capacidad de depuración</span><span class="sxs-lookup"><span data-stu-id="6f1a0-158">Debugging Support</span></span>](debugging-support.md)
- [<span data-ttu-id="6f1a0-159">Preguntas más frecuentes</span><span class="sxs-lookup"><span data-stu-id="6f1a0-159">Frequently Asked Questions</span></span>](frequently-asked-questions.md)
