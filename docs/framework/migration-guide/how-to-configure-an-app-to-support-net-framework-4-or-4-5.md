---
title: Procedimiento Configuración de una aplicación para que admita .NET Framework 4 o versiones posteriores
description: Use el ejemplo incluido para obtener información sobre cómo configurar la aplicación de escritorio para que admita .NET Framework 4 o una versión posterior.
ms.date: 03/30/2017
helpviewer_keywords:
- configuring apps to support .NET Framework
- .NET Framework, configuring apps
ms.assetid: 63c6b9a8-0088-4077-9aa3-521ab7290f79
ms.openlocfilehash: 58d71cb7fac7a3c2bef975c99cfab1ca730fb6eb
ms.sourcegitcommit: cf5a800a33de64d0aad6d115ffcc935f32375164
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/20/2020
ms.locfileid: "86475468"
---
# <a name="how-to-configure-an-app-to-support-net-framework-4-or-later-versions"></a><span data-ttu-id="58d09-103">Procedimiento Configuración de una aplicación para que admita .NET Framework 4 o versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-103">How to: Configure an App to Support .NET Framework 4 or later versions</span></span>

<span data-ttu-id="58d09-104">Todas las aplicaciones que hospedan Common Language Runtime (CLR) necesitan iniciar o *activar* CLR para ejecutar código administrado.</span><span class="sxs-lookup"><span data-stu-id="58d09-104">All apps that host the common language runtime (CLR) need to start, or *activate*, the CLR in order to run managed code.</span></span> <span data-ttu-id="58d09-105">Normalmente, una aplicación de .NET Framework se ejecuta en la versión del CLR en la que se ha compilado, pero puede cambiar este comportamiento para las aplicaciones de escritorio mediante un archivo de configuración de la aplicación (que en ocasiones se denomina archivo app.config).</span><span class="sxs-lookup"><span data-stu-id="58d09-105">Typically, a .NET Framework app runs on the version of the CLR that it was built on, but you can change this behavior for desktop apps by using an application configuration file (sometimes referred to as an app.config file).</span></span> <span data-ttu-id="58d09-106">Sin embargo, no puede cambiar el comportamiento predeterminado de activación para las aplicaciones de la Tienda Windows o Windows Phone mediante un archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58d09-106">However, you cannot change the default activation behavior for Windows Store apps or Windows Phone apps by using an application configuration file.</span></span> <span data-ttu-id="58d09-107">En este artículo se explica cómo permitir que la aplicación de escritorio se ejecute en otra versión de .NET Framework y se proporciona un ejemplo de cómo establecer la versión 4 o versiones posteriores como destino.</span><span class="sxs-lookup"><span data-stu-id="58d09-107">This article explains how to enable your desktop app to run on another version of the .NET Framework and provides an example of how to target version 4 or later versions.</span></span>

 <span data-ttu-id="58d09-108">La versión de .NET Framework en la que se ejecuta una aplicación se determina en el orden siguiente:</span><span class="sxs-lookup"><span data-stu-id="58d09-108">The version of the .NET Framework that an app runs on is determined in the following order:</span></span>

- <span data-ttu-id="58d09-109">Archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="58d09-109">Configuration file.</span></span>

     <span data-ttu-id="58d09-110">Si el archivo de configuración de la aplicación incluye entradas [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) en las que se especifican una o varias versiones de .NET Framework y una de estas versiones está presente en el equipo del usuario, la aplicación se ejecuta en esa versión.</span><span class="sxs-lookup"><span data-stu-id="58d09-110">If the application configuration file includes [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) entries that specify one or more .NET Framework versions, and one of those versions is present on the user's computer, the app runs on that version.</span></span> <span data-ttu-id="58d09-111">El archivo de configuración lee las entradas [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) en el orden en el que aparecen y usa la primera versión de .NET Framework de la lista que esté presente en el equipo del usuario.</span><span class="sxs-lookup"><span data-stu-id="58d09-111">The configuration file reads [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) entries in the order they are listed, and uses the first .NET Framework version listed that is present on the user's computer.</span></span> <span data-ttu-id="58d09-112">(Use el [elemento \<requiredRuntime>](../configure-apps/file-schema/startup/requiredruntime-element.md) para la versión 1.0).</span><span class="sxs-lookup"><span data-stu-id="58d09-112">(Use the [\<requiredRuntime> element](../configure-apps/file-schema/startup/requiredruntime-element.md) for version 1.0.)</span></span>

- <span data-ttu-id="58d09-113">Versión compilada.</span><span class="sxs-lookup"><span data-stu-id="58d09-113">Compiled version.</span></span>

     <span data-ttu-id="58d09-114">Si no hay ningún archivo de configuración pero la versión de .NET Framework en la que se compiló la aplicación está presente en el equipo del usuario, la aplicación se ejecuta en esa versión.</span><span class="sxs-lookup"><span data-stu-id="58d09-114">If there is no configuration file, but the version of the .NET Framework that the app was built on is present on the user's computer, the app runs on that version.</span></span>

- <span data-ttu-id="58d09-115">Última versión instalada.</span><span class="sxs-lookup"><span data-stu-id="58d09-115">Latest version installed.</span></span>

     <span data-ttu-id="58d09-116">Si la versión de .NET Framework en la que se ha compilado la aplicación no está presente y en el archivo de configuración no se especifica ninguna versión en un [elemento \<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md), la aplicación intenta ejecutarse en la última versión de .NET Framework que esté presente en el equipo del usuario.</span><span class="sxs-lookup"><span data-stu-id="58d09-116">If the version of the .NET Framework that the app was built on is not present and a configuration file does not specify a version in a [\<supportedRuntime> element](../configure-apps/file-schema/startup/supportedruntime-element.md), the app tries to run on the latest version of the .NET Framework that is present on the user's computer.</span></span>

     <span data-ttu-id="58d09-117">Sin embargo, las aplicaciones de .NET Framework 1.0, 1.1, 2.0, 3.0 y 3.5 no se ejecutan automáticamente en .NET Framework 4 o posterior, y en algunos casos, puede que aparezca un error y que se le solicite instalar .NET Framework 3.5.</span><span class="sxs-lookup"><span data-stu-id="58d09-117">However, .NET Framework 1.0, 1.1, 2.0, 3.0, and 3.5 apps do not automatically run on the .NET Framework 4 or later, and in some cases, the user may receive an error and may be prompted to install the .NET Framework 3.5.</span></span> <span data-ttu-id="58d09-118">El comportamiento de activación también puede depender del sistema operativo del usuario, ya que las distintas versiones del sistema Windows incluyen diferentes versiones de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="58d09-118">The activation behavior may also depend on the user’s operating system, because  different versions of Windows system include different versions of the .NET Framework.</span></span> <span data-ttu-id="58d09-119">Si la aplicación admite .NET Framework 3.5 y 4 o posterior, es recomendable que lo indique con varias entradas en el archivo de configuración para evitar errores de inicialización de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="58d09-119">If your app supports both the .NET Framework 3.5 and 4 or later, we recommend that you indicate this with multiple entries in the configuration file to avoid .NET Framework initialization errors.</span></span> <span data-ttu-id="58d09-120">Para más información, vea [Versiones y dependencias](versions-and-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="58d09-120">For more information, see [Versions and Dependencies](versions-and-dependencies.md).</span></span>

 <span data-ttu-id="58d09-121">Tal vez quiera también configurar las aplicaciones .NET Framework 3.5 para que se ejecuten en .NET Framework 4 o versiones posteriores, incluso en equipos que tengan instalado .NET Framework 3.5, para aprovechar las mejoras de rendimiento de las versiones 4 y posteriores.</span><span class="sxs-lookup"><span data-stu-id="58d09-121">You might also want to configure your .NET Framework 3.5 apps to run on the .NET Framework 4 or later versions, even on computers that have the .NET Framework 3.5 installed, to take advantage of the performance improvements in versions 4 and later versions.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="58d09-122">Se recomienda probar siempre la aplicación en cada versión de .NET Framework admitida.</span><span class="sxs-lookup"><span data-stu-id="58d09-122">We recommend that you always test your app on every .NET Framework version that you support.</span></span> <span data-ttu-id="58d09-123">Vea [Compatibilidad de versiones](version-compatibility.md) para obtener información sobre cómo actualizar la aplicación para admitir versiones posteriores de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="58d09-123">See [Version Compatibility](version-compatibility.md) for information about upgrading your application to support later .NET Framework versions.</span></span>

 <span data-ttu-id="58d09-124">Para obtener información sobre cómo modificar las aplicaciones de .NET Framework 1.0 y 1.1 para admitir Windows 7 y Windows 8, vea [Migrar desde .NET Framework 1.1](migrating-from-the-net-framework-1-1.md).</span><span class="sxs-lookup"><span data-stu-id="58d09-124">For information about modifying your .NET Framework 1.0 and 1.1 apps to support Windows 7 and Windows 8, see [Migrating from the .NET Framework 1.1](migrating-from-the-net-framework-1-1.md).</span></span>

## <a name="to-configure-your-app-to-run-on-the-net-framework-4-or-later-versions"></a><span data-ttu-id="58d09-125">Para configurar la aplicación para que se ejecute en .NET Framework 4 o versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-125">To configure your app to run on the .NET Framework 4 or later versions</span></span>

1. <span data-ttu-id="58d09-126">Agregue o busque el archivo de configuración del proyecto de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="58d09-126">Add or locate the configuration file for the .NET Framework project.</span></span> <span data-ttu-id="58d09-127">El archivo de configuración de una aplicación está en el mismo directorio y tiene el mismo nombre que la aplicación, pero su extensión es .config.</span><span class="sxs-lookup"><span data-stu-id="58d09-127">The configuration file for an app is in the same directory and has the same name as the app, but has a .config extension.</span></span> <span data-ttu-id="58d09-128">Por ejemplo, en el caso de una aplicación denominada MiEjecutable.exe, el nombre del archivo de configuración sería MiEjecutable.exe.config.</span><span class="sxs-lookup"><span data-stu-id="58d09-128">For example, for an app named MyExecutable.exe, the application configuration file is named MyExecutable.exe.config.</span></span>

     <span data-ttu-id="58d09-129">Para agregar un archivo de configuración, en la barra de menús de Visual Studio, elija **Proyecto**, **Agregar nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="58d09-129">To add a configuration file, on the Visual Studio menu bar, choose **Project**, **Add New Item**.</span></span> <span data-ttu-id="58d09-130">Elija **General** en el panel izquierdo y después elija **Archivo de configuración**.</span><span class="sxs-lookup"><span data-stu-id="58d09-130">Choose **General** from the left pane, and then choose **Configuration File**.</span></span> <span data-ttu-id="58d09-131">Asigne al archivo de configuración el nombre *appName*.exe.config. Estas opciones de menú no están disponibles para los proyectos de aplicaciones de la Tienda Windows o Windows Phone, ya que no se puede cambiar la directiva de activación de estas plataformas.</span><span class="sxs-lookup"><span data-stu-id="58d09-131">Name the configuration file *appName*.exe.config. These menu choices are not available for Windows Store app or Windows phone app projects, because you cannot change the activation policy on those platforms.</span></span>

2. <span data-ttu-id="58d09-132">Agregue el elemento [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) de la forma siguiente al archivo de configuración de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="58d09-132">Add the [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) element as follows to the application configuration file:</span></span>

    ```xml
    <configuration>
      <startup>
        <supportedRuntime version="version"/>
      </startup>
    </configuration>
    ```

     <span data-ttu-id="58d09-133">donde *\<version>* especifica la versión de CLR correspondiente a la versión de .NET Framework que admite la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58d09-133">where *\<version>* specifies the CLR version that aligns with the .NET Framework version that your app supports.</span></span> <span data-ttu-id="58d09-134">Use las siguientes cadenas:</span><span class="sxs-lookup"><span data-stu-id="58d09-134">Use the following strings:</span></span>

    - <span data-ttu-id="58d09-135">.NET Framework 1.0: "v1.0.3705"</span><span class="sxs-lookup"><span data-stu-id="58d09-135">.NET Framework 1.0: "v1.0.3705"</span></span>

    - <span data-ttu-id="58d09-136">.NET Framework 1.1: "v1.1.4322"</span><span class="sxs-lookup"><span data-stu-id="58d09-136">.NET Framework 1.1: "v1.1.4322"</span></span>

    - <span data-ttu-id="58d09-137">.NET Framework 2.0, 3.0 y 3.5: "v2.0.50727"</span><span class="sxs-lookup"><span data-stu-id="58d09-137">.NET Framework 2.0, 3.0, and 3.5: "v2.0.50727"</span></span>

    - <span data-ttu-id="58d09-138">.NET Framework 4 y versiones posteriores: "v4.0"</span><span class="sxs-lookup"><span data-stu-id="58d09-138">.NET Framework 4 and later versions: "v4.0"</span></span>

     <span data-ttu-id="58d09-139">Puede agregar varios elementos [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md), indicados por orden de preferencia, para especificar la compatibilidad con varias versiones de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="58d09-139">You can add multiple [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) elements, listed in order of preference, to specify support for multiple versions of the .NET Framework.</span></span>

 <span data-ttu-id="58d09-140">En la tabla siguiente se muestra cómo los valores del archivo de configuración de la aplicación y las versiones de .NET Framework instaladas en un equipo determinan la versión en la que se ejecuta una aplicación .NET Framework 3.5.</span><span class="sxs-lookup"><span data-stu-id="58d09-140">The following table demonstrates how application configuration file settings and the .NET Framework versions installed on a computer determine the version that a .NET Framework 3.5 app runs on.</span></span> <span data-ttu-id="58d09-141">Los ejemplos son específicos de una aplicación de .NET Framework 3.5, pero puede utilizar la misma lógica para aplicaciones compiladas con versiones anteriores de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="58d09-141">The examples are specific to a .NET Framework 3.5 application, but you can use similar logic to target applications built with earlier .NET Framework versions.</span></span> <span data-ttu-id="58d09-142">Observe que el número de versión de .NET Framework 2.0 (v2.0.50727) se usa para especificar .NET Framework 3.5 en el archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58d09-142">Note that the .NET Framework 2.0 version number (v2.0.50727) is used to specify the .NET Framework 3.5 in the application configuration file.</span></span>

|<span data-ttu-id="58d09-143">Valores del archivo app.config</span><span class="sxs-lookup"><span data-stu-id="58d09-143">App.config file setting</span></span>|<span data-ttu-id="58d09-144">En un equipo con la versión 3.5 instalada</span><span class="sxs-lookup"><span data-stu-id="58d09-144">On computer with version 3.5 installed</span></span>|<span data-ttu-id="58d09-145">En un equipo con las versiones 3.5 y 4 o posteriores instaladas</span><span class="sxs-lookup"><span data-stu-id="58d09-145">On computer with versions 3.5 and 4 or later versions installed</span></span>|<span data-ttu-id="58d09-146">En un equipo con la versión 4 o posteriores instaladas</span><span class="sxs-lookup"><span data-stu-id="58d09-146">On computer with version 4 or later versions installed</span></span>|
|-|-|-|-|
|<span data-ttu-id="58d09-147">None</span><span class="sxs-lookup"><span data-stu-id="58d09-147">None</span></span>|<span data-ttu-id="58d09-148">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-148">Runs on 3.5</span></span>|<span data-ttu-id="58d09-149">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-149">Runs on 3.5</span></span>|<span data-ttu-id="58d09-150">Muestra un mensaje de error en el que se le pide al usuario que instale la versión correcta\*</span><span class="sxs-lookup"><span data-stu-id="58d09-150">Displays error message that prompts user to install the correct version\*</span></span>|
|`<supportedRuntime version="v2.0.50727"/>`|<span data-ttu-id="58d09-151">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-151">Runs on 3.5</span></span>|<span data-ttu-id="58d09-152">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-152">Runs on 3.5</span></span>|<span data-ttu-id="58d09-153">Muestra un mensaje de error en el que se le pide al usuario que instale la versión correcta\*</span><span class="sxs-lookup"><span data-stu-id="58d09-153">Displays error message that prompts user to install the correct version\*</span></span>|
|`<supportedRuntime version="v2.0.50727"/>` <br /> `<supportedRuntime version="v4.0"/>`|<span data-ttu-id="58d09-154">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-154">Runs on 3.5</span></span>|<span data-ttu-id="58d09-155">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-155">Runs on 3.5</span></span>|<span data-ttu-id="58d09-156">Se ejecuta en la versión 4 o posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-156">Runs on 4 or later versions</span></span>|
|`<supportedRuntime version="v4.0"/>` <br /> `<supportedRuntime version="v2.0.50727"/>`|<span data-ttu-id="58d09-157">Se ejecuta en la versión 3.5</span><span class="sxs-lookup"><span data-stu-id="58d09-157">Runs on 3.5</span></span>|<span data-ttu-id="58d09-158">Se ejecuta en la versión 4 o posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-158">Runs on 4 or later versions</span></span>|<span data-ttu-id="58d09-159">Se ejecuta en la versión 4 o posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-159">Runs on 4 or later versions</span></span>|
|`<supportedRuntime version="v4.0"/>`|<span data-ttu-id="58d09-160">Muestra un mensaje de error en el que se le pide al usuario que instale la versión correcta\*</span><span class="sxs-lookup"><span data-stu-id="58d09-160">Displays error message that prompts user to install the correct version\*</span></span>|<span data-ttu-id="58d09-161">Se ejecuta en la versión 4 o posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-161">Runs on 4 or later versions</span></span>|<span data-ttu-id="58d09-162">Se ejecuta en la versión 4 o posteriores</span><span class="sxs-lookup"><span data-stu-id="58d09-162">Runs on 4 or later versions</span></span>|

 <span data-ttu-id="58d09-163">\* Para obtener más información sobre este mensaje de error y cómo evitarlo, vea [Errores de inicialización de .NET Framework: Administración de la experiencia del usuario](../deployment/initialization-errors-managing-the-user-experience.md).</span><span class="sxs-lookup"><span data-stu-id="58d09-163">\* For more information about this error message and ways to avoid it, see [.NET Framework Initialization Errors: Managing the User Experience](../deployment/initialization-errors-managing-the-user-experience.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="58d09-164">Vea también</span><span class="sxs-lookup"><span data-stu-id="58d09-164">See also</span></span>

- [<span data-ttu-id="58d09-165">Migración desde .NET Framework 1.1</span><span class="sxs-lookup"><span data-stu-id="58d09-165">Migrating from the .NET Framework 1.1</span></span>](migrating-from-the-net-framework-1-1.md)
- [<span data-ttu-id="58d09-166">Guía de migración</span><span class="sxs-lookup"><span data-stu-id="58d09-166">Migration Guide</span></span>](index.md)
