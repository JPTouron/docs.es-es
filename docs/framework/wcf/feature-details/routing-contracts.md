---
title: Enrutar contratos
ms.date: 03/30/2017
ms.assetid: 9ceea7ae-ea19-4cf9-ba4f-d071e236546d
ms.openlocfilehash: 69dff2c82f67a16d51e11a92052c59672a054e04
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601080"
---
# <a name="routing-contracts"></a><span data-ttu-id="030fb-102">Enrutar contratos</span><span class="sxs-lookup"><span data-stu-id="030fb-102">Routing Contracts</span></span>
<span data-ttu-id="030fb-103">Los contratos de enrutamiento definen los patrones de mensaje que puede procesar el servicio de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="030fb-103">Routing contracts define the message patterns that the Routing Service can process.</span></span>  <span data-ttu-id="030fb-104">Todos los contratos son sin tipos y permiten al servicio recibir un mensaje sin conocimiento de la acción o del esquema del mensaje.</span><span class="sxs-lookup"><span data-stu-id="030fb-104">Each contract is typeless and allows the service to receive a message without knowledge of the message schema or action.</span></span> <span data-ttu-id="030fb-105">Esto permite al servicio de enrutamiento enrutar mensajes genéricamente sin configuración adicional para las características de los mensajes subyacentes que se enrutan.</span><span class="sxs-lookup"><span data-stu-id="030fb-105">This allows the Routing Service to generically route messages without additional configuration for the specifics of the underlying messages being routed.</span></span>  
  
## <a name="routing-contracts"></a><span data-ttu-id="030fb-106">Enrutar contratos</span><span class="sxs-lookup"><span data-stu-id="030fb-106">Routing Contracts</span></span>  
 <span data-ttu-id="030fb-107">Como el servicio de enrutamiento acepta un objeto de mensaje de WCF genérico, el aspecto más importante que se debe tener en cuenta al seleccionar un contrato es la forma del canal que se usará al comunicarse con los clientes y los servicios.</span><span class="sxs-lookup"><span data-stu-id="030fb-107">Because the Routing Service accepts a generic WCF Message object, the most important consideration when selecting a contract is the shape of the channel that will be used when communicating with the clients and services.</span></span> <span data-ttu-id="030fb-108">Al procesar mensajes, el servicio de enrutamiento usa suministros de mensajes simétricos, así que, normalmente, la forma del contrato entrante debe coincidir con la forma del contrato saliente.</span><span class="sxs-lookup"><span data-stu-id="030fb-108">When processing messages, the Routing Service uses symmetrical message pumps, so generally the shape of the inbound contract must match the shape of the outbound contract.</span></span> <span data-ttu-id="030fb-109">Sin embargo, hay casos en los que el distribuidor del modelo de servicio puede modificar las formas, como cuando el distribuidor convierte un canal dúplex en un canal de solicitud-respuesta, o quita el soporte de la sesión de un canal cuando no es necesario y no se usa (es decir, cuando **SessionMode. allowed**, convirtiendo un **IInputSessionChannel** en **IInputChannel**).</span><span class="sxs-lookup"><span data-stu-id="030fb-109">However, there are cases where the Service Model’s dispatcher can modify the shapes, such as when the dispatcher converts a duplex channel into a request-reply channel, or removes the session support from a channel when it is not required and is not being used (that is, when **SessionMode.Allowed**, converting an **IInputSessionChannel** into an **IInputChannel**).</span></span>  
  
 <span data-ttu-id="030fb-110">Para admitir estos suministros de mensajes, el servicio de enrutamiento proporciona contratos en el espacio de nombres <xref:System.ServiceModel.Routing>, que se deben usar al definir los puntos de conexión de servicio empleados por el servicio de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="030fb-110">To support these message pumps, the Routing Service provides contracts in the <xref:System.ServiceModel.Routing> namespace, which must be used when defining the service endpoints used by the Routing Service.</span></span> <span data-ttu-id="030fb-111">Estos contratos son sin tipo, lo que permite recibir cualquier acción o tipo de mensaje, y permite al servicio de enrutamiento administrar mensajes sin conocer el esquema del mensaje concreto.</span><span class="sxs-lookup"><span data-stu-id="030fb-111">These contracts are typeless, which allows the receipt of any message type or action, and allows the Routing Service to handle messages without knowledge of the specific message schema.</span></span> <span data-ttu-id="030fb-112">Para obtener más información acerca de los contratos utilizados por el servicio de enrutamiento, consulte [enrutamiento de contratos](routing-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="030fb-112">For more information about the contracts used by the Routing Service, see [Routing Contracts](routing-contracts.md).</span></span>  
  
 <span data-ttu-id="030fb-113">Los contratos proporcionados por el servicio de enrutamiento se encuentran en el espacio de nombres <xref:System.ServiceModel.Routing> y se describen en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="030fb-113">The contracts provided by the Routing Service are located in the <xref:System.ServiceModel.Routing> namespace, and are described in the following table.</span></span>  
  
|<span data-ttu-id="030fb-114">Contrato</span><span class="sxs-lookup"><span data-stu-id="030fb-114">Contract</span></span>|<span data-ttu-id="030fb-115">Forma</span><span class="sxs-lookup"><span data-stu-id="030fb-115">Shape</span></span>|<span data-ttu-id="030fb-116">Forma del canal</span><span class="sxs-lookup"><span data-stu-id="030fb-116">Channel Shape</span></span>|  
|--------------|-----------|-------------------|  
|<xref:System.ServiceModel.Routing.ISimplexDatagramRouter>|<span data-ttu-id="030fb-117">SessionMode = SessionMode.Allowed</span><span class="sxs-lookup"><span data-stu-id="030fb-117">SessionMode = SessionMode.Allowed</span></span><br /><br /> <span data-ttu-id="030fb-118">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="030fb-118">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="030fb-119">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="030fb-119">IsOneWay = true</span></span>|<span data-ttu-id="030fb-120">IInputChannel-> IOutputChannel</span><span class="sxs-lookup"><span data-stu-id="030fb-120">IInputChannel -> IOutputChannel</span></span>|  
|<xref:System.ServiceModel.Routing.ISimplexSessionRouter>|<span data-ttu-id="030fb-121">SessionMode = SessionMode.Required</span><span class="sxs-lookup"><span data-stu-id="030fb-121">SessionMode = SessionMode.Required</span></span><br /><br /> <span data-ttu-id="030fb-122">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="030fb-122">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="030fb-123">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="030fb-123">IsOneWay = true</span></span>|<span data-ttu-id="030fb-124">IInputSessionChannel-> IOutputSessionChannel</span><span class="sxs-lookup"><span data-stu-id="030fb-124">IInputSessionChannel -> IOutputSessionChannel</span></span>|  
|<xref:System.ServiceModel.Routing.IRequestReplyRouter>|<span data-ttu-id="030fb-125">SessionMode = SessionMode.Allowed</span><span class="sxs-lookup"><span data-stu-id="030fb-125">SessionMode = SessionMode.Allowed</span></span><br /><br /> <span data-ttu-id="030fb-126">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="030fb-126">AsyncPattern = true</span></span>|<span data-ttu-id="030fb-127">IReplyChannel-> IRequestChannel</span><span class="sxs-lookup"><span data-stu-id="030fb-127">IReplyChannel -> IRequestChannel</span></span>|  
|<xref:System.ServiceModel.Routing.IDuplexSessionRouter>|<span data-ttu-id="030fb-128">SessionMode=SessionMode.Required</span><span class="sxs-lookup"><span data-stu-id="030fb-128">SessionMode=SessionMode.Required</span></span><br /><br /> <span data-ttu-id="030fb-129">CallbackContract=typeof(ISimplexSession)</span><span class="sxs-lookup"><span data-stu-id="030fb-129">CallbackContract=typeof(ISimplexSession)</span></span><br /><br /> <span data-ttu-id="030fb-130">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="030fb-130">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="030fb-131">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="030fb-131">IsOneWay = true</span></span><br /><br /> <span data-ttu-id="030fb-132">TransactionFlow(TransactionFlowOption.Allowed)</span><span class="sxs-lookup"><span data-stu-id="030fb-132">TransactionFlow(TransactionFlowOption.Allowed)</span></span>|<span data-ttu-id="030fb-133">IDuplexSessionChannel-> IDuplexSessionChannel</span><span class="sxs-lookup"><span data-stu-id="030fb-133">IDuplexSessionChannel -> IDuplexSessionChannel</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="030fb-134">Vea también</span><span class="sxs-lookup"><span data-stu-id="030fb-134">See also</span></span>

- [<span data-ttu-id="030fb-135">Servicio de enrutamiento</span><span class="sxs-lookup"><span data-stu-id="030fb-135">Routing Service</span></span>](routing-service.md)
- [<span data-ttu-id="030fb-136">Introducción al enrutamiento</span><span class="sxs-lookup"><span data-stu-id="030fb-136">Routing Introduction</span></span>](routing-introduction.md)
