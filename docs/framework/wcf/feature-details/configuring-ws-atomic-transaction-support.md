---
title: Configuración de la compatibilidad con WS-Atomic Transaction
ms.date: 03/30/2017
helpviewer_keywords:
- WS-AT protocol [WCF], configuring WS-Atomic Transaction
ms.assetid: cb9f1c9c-1439-4172-b9bc-b01c3e09ac48
ms.openlocfilehash: 9c0e75d58fbcf61137ceae3fba9d8acfe3902171
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/15/2020
ms.locfileid: "90556595"
---
# <a name="configure-ws-atomic-transaction-support"></a><span data-ttu-id="85d9f-102">Configuración de la compatibilidad con transacciones WS-Atomic</span><span class="sxs-lookup"><span data-stu-id="85d9f-102">Configure WS-Atomic Transaction support</span></span>

<span data-ttu-id="85d9f-103">En este tema se describe cómo puede configurar WS-AtomicTransaction (WS-AT) admiten utilizando la WS-AT Utilidad de configuración.</span><span class="sxs-lookup"><span data-stu-id="85d9f-103">This topic describes how you can configure WS-AtomicTransaction (WS-AT) support by using the WS-AT Configuration Utility.</span></span>

## <a name="use-the-ws-at-configuration-utility"></a><span data-ttu-id="85d9f-104">Usar la utilidad de configuración WS-AT</span><span class="sxs-lookup"><span data-stu-id="85d9f-104">Use the WS-AT configuration utility</span></span>

<span data-ttu-id="85d9f-105">La Utilidad de configuración WS-AT (wsatConfig.exe) se utiliza para configurar los valores WS-AT.</span><span class="sxs-lookup"><span data-stu-id="85d9f-105">The WS-AT Configuration Utility (wsatConfig.exe) is used to configure WS-AT settings.</span></span> <span data-ttu-id="85d9f-106">Para permitir el servicio de protocolo WS-AT, debe utilizar la utilidad de configuración para configurar el puerto HTTPS para WS-AT, enlazar un certificado X.509 a los puertos HTTPS y configurar los certificados del socio autorizado especificando los nombres de sujeto o huellas digitales del certificado.</span><span class="sxs-lookup"><span data-stu-id="85d9f-106">In order to enable the WS-AT protocol service, you must use the configuration utility to configure the HTTPS port for WS-AT, bind an X.509 certificate to the HTTPS port, and configure authorized partner certificates by specifying certificate subject names or thumbprints.</span></span> <span data-ttu-id="85d9f-107">La utilidad de configuración también le permite seleccionar el modo de la traza y salida predeterminada establecida y tiempos de espera de transacción entrante de máximo.</span><span class="sxs-lookup"><span data-stu-id="85d9f-107">The configuration utility also allows you to select the tracing mode and set default outgoing and maximum incoming transaction timeouts.</span></span>

<span data-ttu-id="85d9f-108">Puede tener acceso a la funcionalidad de esta herramienta utilizando un complemento de la página de propiedades Microsoft Management Console (MMC) de la consola de administración de los Servicios de componentes o desde una ventana de línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="85d9f-108">You can access this tool's functionality by using a Microsoft Management Console (MMC) property page snap-in in the Component Services management console, or from a command-line window.</span></span> <span data-ttu-id="85d9f-109">Configure la compatibilidad WS-AT en el equipo local a través de la ventana de línea de comandos; configure los valores de los equipos locales y remotos utilizando el complemento MMC.</span><span class="sxs-lookup"><span data-stu-id="85d9f-109">Configure WS-AT support on the local machine through the command-line window; configure settings on both local and remote machines by using the MMC snap-in.</span></span>

<span data-ttu-id="85d9f-110">Se puede tener acceso a la ventana de línea de comandos en la ubicación de instalación de Windows SDK "%WINDIR%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation".</span><span class="sxs-lookup"><span data-stu-id="85d9f-110">The command-line window can be accessed in the Windows SDK installation location "%WINDIR%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation".</span></span>

<span data-ttu-id="85d9f-111">Para obtener más información acerca de la herramienta de línea de comandos, consulte [utilidad de configuración de WS-AtomicTransaction (wsatConfig.exe)](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span><span class="sxs-lookup"><span data-stu-id="85d9f-111">For more information about the command-line tool, see [WS-AtomicTransaction Configuration Utility (wsatConfig.exe)](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span></span>

<span data-ttu-id="85d9f-112">Si ejecuta Windows XP o Windows Server 2003, puede tener acceso al complemento MMC; para ello, vaya a panel de **control/herramientas administrativas/servicios de componentes**, haga clic con el botón derecho en **mi PC**y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="85d9f-112">If you are running Windows XP or Windows Server 2003, you can access the MMC snap-in by navigating to **Control Panel/Administrative Tools/Component Services**, right-clicking **My Computer**, and selecting **Properties**.</span></span> <span data-ttu-id="85d9f-113">Ésta es la misma ubicación donde puede configurar Microsoft DTC (Coordinador de transacciones distribuidas).</span><span class="sxs-lookup"><span data-stu-id="85d9f-113">This is the same location where you can configure the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="85d9f-114">Las opciones disponibles para la configuración se agrupan en la pestaña **WS-at** . Si está ejecutando Windows Vista o Windows Server 2008, puede encontrar el complemento MMC haciendo clic en el botón **Inicio** y escribiendo `dcomcnfg.exe` en el cuadro de **búsqueda** .</span><span class="sxs-lookup"><span data-stu-id="85d9f-114">Options available for configuration are grouped under the **WS-AT** tab. If you are running Windows Vista or Windows Server 2008, the MMC snap-in can be found by clicking the **Start** button, and entering `dcomcnfg.exe` in the **Search** box.</span></span> <span data-ttu-id="85d9f-115">Cuando se abra MMC, desplácese hasta el nodo **My Computer\Distributed Transaction COORDINATOR\LOCAL DTC** , haga clic con el botón derecho y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="85d9f-115">When the MMC is opened, navigate to the **My Computer\Distributed Transaction Coordinator\Local DTC** node, right click and select **Properties**.</span></span> <span data-ttu-id="85d9f-116">Las opciones disponibles para la configuración se agrupan en la pestaña **WS-at** .</span><span class="sxs-lookup"><span data-stu-id="85d9f-116">Options available for configuration are grouped under the **WS-AT** tab.</span></span>

<span data-ttu-id="85d9f-117">Para obtener más información sobre el complemento, vea el [complemento MMC de configuración de WS-AtomicTransaction](../ws-atomictransaction-configuration-mmc-snap-in.md).</span><span class="sxs-lookup"><span data-stu-id="85d9f-117">For more information about the snap-in, see the [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md).</span></span>

<span data-ttu-id="85d9f-118">Para habilitar la interfaz de usuario de la herramienta, debe registrar primero el archivo WsatUI.dll, ubicado en la ruta de acceso siguiente</span><span class="sxs-lookup"><span data-stu-id="85d9f-118">To enable the tool's user interface, you must first register the WsatUI.dll file, located at the following path</span></span>

<span data-ttu-id="85d9f-119">%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin</span><span class="sxs-lookup"><span data-stu-id="85d9f-119">%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin</span></span>

<span data-ttu-id="85d9f-120">Para registrar el producto, ejecute el comando siguiente en una ventana indicadora de Comando:</span><span class="sxs-lookup"><span data-stu-id="85d9f-120">To register the product, execute the following command from a Command Prompt window:</span></span>

`regasm.exe /codebase WsatUI.dll`

## <a name="enable-ws-at"></a><span data-ttu-id="85d9f-121">Habilitar WS-AT</span><span class="sxs-lookup"><span data-stu-id="85d9f-121">Enable WS-AT</span></span>

<span data-ttu-id="85d9f-122">Para permitir el servicio de protocolo WS-AT dentro de MSDTC utilizando el puerto 443 y un certificado X.509 con una clave privada instalada en el almacén del equipo local, utilice la herramienta wsatConfig.exe con el comando siguiente.</span><span class="sxs-lookup"><span data-stu-id="85d9f-122">To enable the WS-AT protocol service inside MSDTC using port 443 and an X.509 certificate with a private key that has been installed in the local machine store, use the wsatConfig.exe tool with the following command.</span></span>

`WsatConfig.exe –network:enable –port:8443 –endpointCert:<machine|"Issuer\SubjectName"> -accountsCerts:<thumbprint|"Issuer\SubjectName"> -restart`

<span data-ttu-id="85d9f-123">Sustituya los parámetros respectivos con valores correspondientes a su entorno.</span><span class="sxs-lookup"><span data-stu-id="85d9f-123">Substitute the respective parameters with values relevant to your environment.</span></span>

<span data-ttu-id="85d9f-124">Para deshabilitar el servicio de protocolo WS-AT dentro de MSDTC, utilice la herramienta wsatConfig.exe con el comando siguiente.</span><span class="sxs-lookup"><span data-stu-id="85d9f-124">To disable the WS-AT protocol service inside MSDTC, use the wsatConfig.exe tool with the following command.</span></span>

`WsatConfig.exe –network:disable -restart`

## <a name="configure-trust-between-two-machines"></a><span data-ttu-id="85d9f-125">Configurar la confianza entre dos equipos</span><span class="sxs-lookup"><span data-stu-id="85d9f-125">Configure trust between two machines</span></span>

<span data-ttu-id="85d9f-126">El servicio de protocolo WS-AT exige al administrador que autorice explícitamente las cuentas individuales a participar en transacciones distribuidas.</span><span class="sxs-lookup"><span data-stu-id="85d9f-126">The WS-AT protocol service requires the administrator to explicitly authorize individual accounts to participate in distributed transactions.</span></span> <span data-ttu-id="85d9f-127">Si es un administrador para dos equipos, puede configurar ambos equipos para establecer una relación de confianza mutua intercambiando el conjunto derecho de certificados entre los equipos, instalándolos en los almacenes de certificados adecuados y utilizando la herramienta wsatConfig.exe para agregar el certificado de cada equipo a la otra lista de certificados participantes autorizados.</span><span class="sxs-lookup"><span data-stu-id="85d9f-127">If you are an administrator for two machines, you can configure both machines to establish a mutual trust relationship by exchanging the right set of certificates between the machines, installing them into the appropriate certificate stores, and using the wsatConfig.exe tool to add each machine's certificate to the other's list of authorized participant certificates.</span></span> <span data-ttu-id="85d9f-128">Este paso es necesario para realizar las transacciones distribuidas entre dos equipos mediante WS-AT.</span><span class="sxs-lookup"><span data-stu-id="85d9f-128">This step is necessary to perform distributed transactions between two machines using WS-AT.</span></span>

<span data-ttu-id="85d9f-129">En el ejemplo siguiente, se detallan los pasos para establecer la confianza entre dos equipos, A y B.</span><span class="sxs-lookup"><span data-stu-id="85d9f-129">In the following example outlines the steps to establish trust between two machines, A and B.</span></span>

### <a name="create-and-export-certificates"></a><span data-ttu-id="85d9f-130">Crear y exportar certificados</span><span class="sxs-lookup"><span data-stu-id="85d9f-130">Create and export certificates</span></span>

<span data-ttu-id="85d9f-131">Este procedimiento requiere el Complemento de Certificados MMC.</span><span class="sxs-lookup"><span data-stu-id="85d9f-131">This procedure requires the MMC Certificates snap-in.</span></span> <span data-ttu-id="85d9f-132">Se puede tener acceso al complemento abriendo el menú Inicio/Ejecutar, escribiendo "mmc" en el cuadro de entrada y presionando Aceptar.</span><span class="sxs-lookup"><span data-stu-id="85d9f-132">The snap-in can be accessed by opening the Start/Run menu, typing "mmc" in the input box and pressing OK.</span></span> <span data-ttu-id="85d9f-133">A continuación, en la ventana **consola1** , navegue hasta **el complemento archivo/agregar-quitar** , haga clic en agregar y elija **certificados** en la lista **complementos independientes disponibles** .</span><span class="sxs-lookup"><span data-stu-id="85d9f-133">Then, in the **Console1** window, navigate to **the File/Add-Remove** Snap-in, click Add, and choose **Certificates** from the **Available Standalone Snapins** list.</span></span> <span data-ttu-id="85d9f-134">Por último, seleccione **cuenta de equipo** para administrar y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="85d9f-134">Finally, select **Computer Account** to manage and click **OK**.</span></span> <span data-ttu-id="85d9f-135">El nodo **certificados** aparece en la consola del complemento.</span><span class="sxs-lookup"><span data-stu-id="85d9f-135">The **Certificates** node appears in the snap-in console.</span></span>

<span data-ttu-id="85d9f-136">En este momento, poseerá los certificados necesarios para establecer la confianza.</span><span class="sxs-lookup"><span data-stu-id="85d9f-136">You must already possess the required certificates to establish trust.</span></span> <span data-ttu-id="85d9f-137">Para obtener información sobre cómo crear e instalar nuevos certificados antes de realizar los pasos siguientes, vea [Cómo: crear e instalar certificados de cliente temporales en WCF durante el desarrollo](/previous-versions/msp-n-p/ff650751(v=pandp.10)).</span><span class="sxs-lookup"><span data-stu-id="85d9f-137">To learn how to create and install new certificates prior to the following steps, see [How to: Create and Install Temporary Client Certificates in WCF During Development](/previous-versions/msp-n-p/ff650751(v=pandp.10)).</span></span>

1. <span data-ttu-id="85d9f-138">En el equipo A, usando el complemento de los certificados MMC, importe el certificado existente (certA) en el almacén LocalMachine\MY (Nodo Personal) y LocalMachine\ROOT (nodo de entidad de certificación raíz de confianza).</span><span class="sxs-lookup"><span data-stu-id="85d9f-138">On machine A, using the MMC Certificates snap-in, import the existing certificate (certA) into the LocalMachine\MY (Personal Node) and LocalMachine\ROOT store (trusted root certification authority node).</span></span> <span data-ttu-id="85d9f-139">Para importar un certificado a un nodo específico, haga clic con el botón secundario en el nodo y elija **todas las tareas/importar**.</span><span class="sxs-lookup"><span data-stu-id="85d9f-139">To import a certificate to a specific node, right-click the node and choose **All Tasks/Import**.</span></span>

2. <span data-ttu-id="85d9f-140">En el equipo B, usando el Complemento de certificados MMC, cree u obtenga el certificado certB con una clave privada e impórtelo a LocalMachine\MY (Nodo Personal) y al almacén LocalMachine\ROOT (nodo entidad de certificación raíz de confianza).</span><span class="sxs-lookup"><span data-stu-id="85d9f-140">On machine B, using the MMC Certificates snap-in, create or obtain a certificate certB with a private key and import it into the LocalMachine\MY (Personal Node) and LocalMachine\ROOT store (trusted root certification authority node).</span></span>

3. <span data-ttu-id="85d9f-141">Exporte la clave pública de certA a un archivo si aún no lo ha hecho.</span><span class="sxs-lookup"><span data-stu-id="85d9f-141">Export certA's public key to a file if this has not been done already.</span></span>

4. <span data-ttu-id="85d9f-142">Exporte la clave pública de certB a un archivo si aún lo ha hecho.</span><span class="sxs-lookup"><span data-stu-id="85d9f-142">Export certB's public key to a file if this has not been done already.</span></span>

### <a name="establish-mutual-trust-between-machines"></a><span data-ttu-id="85d9f-143">Establecer la confianza mutua entre máquinas</span><span class="sxs-lookup"><span data-stu-id="85d9f-143">Establish mutual trust between machines</span></span>

1. <span data-ttu-id="85d9f-144">En el equipo A, importe la representación del archivo de certB a los almacenes LocalMachine\ROOT y LocalMachine\MY.</span><span class="sxs-lookup"><span data-stu-id="85d9f-144">On machine A, import the file representation of certB into the LocalMachine\MY and LocalMachine\ROOT stores.</span></span> <span data-ttu-id="85d9f-145">Esto declara que la máquina A confía en el certB para comunicarse con él.</span><span class="sxs-lookup"><span data-stu-id="85d9f-145">This declares that machine A trusts certB to communicate with it.</span></span>

2. <span data-ttu-id="85d9f-146">En el equipo B, importe el archivo certA en los almacenes LocalMachine\ROOT y LocalMachine\MY.</span><span class="sxs-lookup"><span data-stu-id="85d9f-146">On machine B, import certA’s file into the LocalMachine\MY and LocalMachine\ROOT stores.</span></span> <span data-ttu-id="85d9f-147">Esto implica que el equipo B confía en el certA para comunicarse con él.</span><span class="sxs-lookup"><span data-stu-id="85d9f-147">This implies that machine B trusts certA to communicate with it.</span></span>

<span data-ttu-id="85d9f-148">Después de completar estos pasos, se establece la confianza entre los dos equipos y se pueden configurar para comunicarse entre ellos mediante WS-AT.</span><span class="sxs-lookup"><span data-stu-id="85d9f-148">After completing these steps, trust is established between the two machines, and they can be configured to communicate with each other using WS-AT.</span></span>

### <a name="configure-msdtc-to-use-certificates"></a><span data-ttu-id="85d9f-149">Configurar MSDTC para usar certificados</span><span class="sxs-lookup"><span data-stu-id="85d9f-149">Configure MSDTC to use certificates</span></span>

<span data-ttu-id="85d9f-150">Desde que el servicio de protocolo WS-AT actúa como un cliente y un servidor, debe realizar escuchas para las conexiones entrantes e iniciar las conexiones de salida.</span><span class="sxs-lookup"><span data-stu-id="85d9f-150">Since the WS-AT protocol service acts as both a client and a server, it must both listen for incoming connections and initiate outgoing connections.</span></span> <span data-ttu-id="85d9f-151">Por consiguiente, necesita configurar MSDTC para que sepa qué certificado utilizar al comunicarse con partes externas y qué certificados autorizar al aceptar la comunicación de entrada.</span><span class="sxs-lookup"><span data-stu-id="85d9f-151">Therefore, you need to configure MSDTC so that it knows which certificate to use when communicating with external parties, and which certificates to authorize when accepting incoming communication.</span></span>

<span data-ttu-id="85d9f-152">Puede configurarlo mediante el complemento WS-AT de MMC.</span><span class="sxs-lookup"><span data-stu-id="85d9f-152">You can configure this by using the MMC WS-AT snap-in.</span></span> <span data-ttu-id="85d9f-153">Para obtener más información acerca de esta herramienta, consulte el tema [complemento de MMC de configuración de WS-AtomicTransaction](../ws-atomictransaction-configuration-mmc-snap-in.md) .</span><span class="sxs-lookup"><span data-stu-id="85d9f-153">For more information about this tool, see the [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md) topic.</span></span> <span data-ttu-id="85d9f-154">Los pasos siguientes describen cómo establecer la confianza entre dos equipos que ejecutan MSDTC.</span><span class="sxs-lookup"><span data-stu-id="85d9f-154">The following steps describe how to establish trust between two computers running MSDTC.</span></span>

1. <span data-ttu-id="85d9f-155">Configure los valores de la máquina A.</span><span class="sxs-lookup"><span data-stu-id="85d9f-155">Configure machine A's settings.</span></span> <span data-ttu-id="85d9f-156">En "certificado de punto de conexión", seleccione certa.</span><span class="sxs-lookup"><span data-stu-id="85d9f-156">For "Endpoint Certificate", select certA.</span></span> <span data-ttu-id="85d9f-157">Para "certificados autorizados", seleccione certB.</span><span class="sxs-lookup"><span data-stu-id="85d9f-157">For "Authorized Certificates", select the certB.</span></span>

2. <span data-ttu-id="85d9f-158">Configure los valores de la máquina B.</span><span class="sxs-lookup"><span data-stu-id="85d9f-158">Configure machine B's settings.</span></span> <span data-ttu-id="85d9f-159">En "certificado de punto de conexión", seleccione certB.</span><span class="sxs-lookup"><span data-stu-id="85d9f-159">For "Endpoint Certificate", select certB.</span></span> <span data-ttu-id="85d9f-160">Para "certificados autorizados", seleccione certa.</span><span class="sxs-lookup"><span data-stu-id="85d9f-160">For "Authorized Certificates", select the certA.</span></span>

> [!NOTE]
> <span data-ttu-id="85d9f-161">Cuando una máquina envía un mensaje a otra máquina, el remitente intenta comprobar que el nombre de sujeto del certificado del destinatario y el nombre de la máquina del destinatario coinciden.</span><span class="sxs-lookup"><span data-stu-id="85d9f-161">When one machine sends a message to the other machine, the sender attempts to verify that the subject name of the recipient’s certificate and the name of the recipient’s machine match.</span></span> <span data-ttu-id="85d9f-162">Si no coinciden, se produce un error en la comprobación del certificado y las dos máquinas no se pueden comunicar.</span><span class="sxs-lookup"><span data-stu-id="85d9f-162">If they do not match, certificate verification fails and the two machines cannot communicate.</span></span>
>
> <span data-ttu-id="85d9f-163">Para un equipo unido a un dominio, el nombre es el nombre de dominio completo.</span><span class="sxs-lookup"><span data-stu-id="85d9f-163">For a machine joined to a domain, the name is the fully qualified domain name.</span></span> <span data-ttu-id="85d9f-164">De forma predeterminada, el nombre de un equipo en un grupo de trabajo es el nombre NetBIOS del equipo.</span><span class="sxs-lookup"><span data-stu-id="85d9f-164">By default, the name of a machine on a workgroup is the machine’s NetBIOS name.</span></span> <span data-ttu-id="85d9f-165">Sin embargo, el nombre también puede incluir un sufijo DNS (Sistema de nombres de dominio) si hay uno presente en la conexión usada entre las dos máquinas.</span><span class="sxs-lookup"><span data-stu-id="85d9f-165">However, the name can also include a Domain Name System (DNS) suffix if one is present for the connection being used between the two machines.</span></span>
>
> <span data-ttu-id="85d9f-166">Si el nombre del equipo cambia, por ejemplo, si un equipo del grupo de trabajo se une a un dominio, debe reeditar los certificados o configurar manualmente los sufijos DNS.</span><span class="sxs-lookup"><span data-stu-id="85d9f-166">If the name of the machine changes, for example, when a workgroup machine joins a domain, you must reissue certificates or manually configure DNS suffixes.</span></span>

## <a name="security"></a><span data-ttu-id="85d9f-167">Seguridad</span><span class="sxs-lookup"><span data-stu-id="85d9f-167">Security</span></span>

<span data-ttu-id="85d9f-168">Puesto que algunos de los valores relacionados con MSDTC y WS-AT están almacenados en el registro en HKLM\Software\Microsoft\MSDTC y en HKLM\Software\Microsoft\WSAT, respectivamente, asegúrese de que estas claves del Registro están protegidas para que solamente puedan escribir los administradores.</span><span class="sxs-lookup"><span data-stu-id="85d9f-168">Since some of the settings related to MSDTC and WS-AT are stored in the registry at HKLM\Software\Microsoft\MSDTC and at HKLM\Software\Microsoft\WSAT, respectively, ensure that these registry keys are secured so that only administrators can write to them.</span></span> <span data-ttu-id="85d9f-169">En la herramienta editor del registro, haga clic con el botón secundario en la clave que desea proteger y seleccione **permiso** para establecer el control de acceso adecuado.</span><span class="sxs-lookup"><span data-stu-id="85d9f-169">In the Registry Editor tool, right-click the key you want to secure and select **Permission** to set the appropriate access control.</span></span> <span data-ttu-id="85d9f-170">Es importante para la seguridad e integridad del sistema que las claves importantes sean de solo lectura para los usuarios con pocos privilegios.</span><span class="sxs-lookup"><span data-stu-id="85d9f-170">It is crucial to the security and integrity of the system that important keys are read-only for low-privileged users.</span></span>

<span data-ttu-id="85d9f-171">Al implementar MSDTC, el administrador debe asegurarse de que los intercambios de datos de MSDTC son seguros.</span><span class="sxs-lookup"><span data-stu-id="85d9f-171">When deploying MSDTC, the administrator must ensure that any MSDTC data interchange is secure.</span></span> <span data-ttu-id="85d9f-172">En una implementación del grupo de trabajo, aísle la infraestructura transaccional de usuarios malintencionados; en una implementación en clúster, proteja el registro del clúster.</span><span class="sxs-lookup"><span data-stu-id="85d9f-172">In a workgroup deployment, isolate the transactional infrastructure from malicious users; in a cluster deployment, secure the cluster registry.</span></span>

## <a name="tracing"></a><span data-ttu-id="85d9f-173">Seguimiento</span><span class="sxs-lookup"><span data-stu-id="85d9f-173">Tracing</span></span>

<span data-ttu-id="85d9f-174">El servicio de protocolo WS-AT admite seguimientos integrados y específicos de las transacciones que se pueden habilitar y administrar mediante el uso de la herramienta de [complemento MMC de configuración de WS-AtomicTransaction](../ws-atomictransaction-configuration-mmc-snap-in.md) .</span><span class="sxs-lookup"><span data-stu-id="85d9f-174">The WS-AT protocol service supports integrated, transaction-specific tracing that can be enabled and managed through the use of the [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md) tool.</span></span> <span data-ttu-id="85d9f-175">Los seguimientos pueden incluir datos que indican la hora en que se realiza una inscripción para una transacción específica, la hora en que una transacción llega a su estado terminal, el resultado que ha recibido cada inscripción de transacción.</span><span class="sxs-lookup"><span data-stu-id="85d9f-175">Traces can include data indicating the time an enlistment is made for a specific transaction, the time a transaction reaches its terminal state, the outcome each transaction enlistment has received.</span></span> <span data-ttu-id="85d9f-176">Todos los seguimientos se pueden ver mediante la herramienta [Service Trace Viewer Tool (SvcTraceViewer.exe)](../service-trace-viewer-tool-svctraceviewer-exe.md) .</span><span class="sxs-lookup"><span data-stu-id="85d9f-176">All traces can be viewed using the [Service Trace Viewer Tool (SvcTraceViewer.exe)](../service-trace-viewer-tool-svctraceviewer-exe.md) tool.</span></span>

<span data-ttu-id="85d9f-177">El protocolo de servicio WS-AT también admite traza ServiceModel integrada a través de la sesión de traza de ETW.</span><span class="sxs-lookup"><span data-stu-id="85d9f-177">The WS-AT protocol service also supports integrated ServiceModel tracing through the ETW trace session.</span></span> <span data-ttu-id="85d9f-178">Esto proporciona seguimientos más detallados, específicos de la comunicación, además de los seguimientos de transacción existentes.</span><span class="sxs-lookup"><span data-stu-id="85d9f-178">This provides more detailed, communication-specific traces in addition to the existing transaction traces.</span></span>  <span data-ttu-id="85d9f-179">Para habilitar estos seguimientos adicionales, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="85d9f-179">To enable these additional traces, follow these steps</span></span>

1. <span data-ttu-id="85d9f-180">Abra el menú **iniciar/ejecutar** , escriba "regedit" en el cuadro de entrada y seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="85d9f-180">Open the **Start/Run** menu, type "regedit" in the input box and select **OK**.</span></span>

2. <span data-ttu-id="85d9f-181">En el **Editor del registro**, vaya a la siguiente carpeta del panel izquierdo, Hkey_Local_Machine \software\microsoft\wsat\3.0</span><span class="sxs-lookup"><span data-stu-id="85d9f-181">In the **Registry Editor**, navigate to the following folder on the left pane, Hkey_Local_Machine\SOFTWARE\Microsoft\WSAT\3.0</span></span>\

3. <span data-ttu-id="85d9f-182">Haga clic con el botón derecho en el `ServiceModelDiagnosticTracing` valor en el panel derecho y seleccione **modificar**.</span><span class="sxs-lookup"><span data-stu-id="85d9f-182">Right-click the `ServiceModelDiagnosticTracing` value in the right pane and select **Modify**.</span></span>

4. <span data-ttu-id="85d9f-183">En el cuadro entrada de **datos del valor** , escriba uno de los siguientes valores válidos para especificar el nivel de seguimiento que desea habilitar.</span><span class="sxs-lookup"><span data-stu-id="85d9f-183">In the **Value data** input box, enter one of the following valid values to specify the trace level you want to enable.</span></span>

- <span data-ttu-id="85d9f-184">0: desactivado</span><span class="sxs-lookup"><span data-stu-id="85d9f-184">0: off</span></span>

- <span data-ttu-id="85d9f-185">1: crítico</span><span class="sxs-lookup"><span data-stu-id="85d9f-185">1: critical</span></span>

- <span data-ttu-id="85d9f-186">3: error.</span><span class="sxs-lookup"><span data-stu-id="85d9f-186">3: error.</span></span> <span data-ttu-id="85d9f-187">Este es el valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="85d9f-187">This is the default value</span></span>

- <span data-ttu-id="85d9f-188">7: advertencia</span><span class="sxs-lookup"><span data-stu-id="85d9f-188">7: warning</span></span>

- <span data-ttu-id="85d9f-189">15: información</span><span class="sxs-lookup"><span data-stu-id="85d9f-189">15: information</span></span>

- <span data-ttu-id="85d9f-190">31: detallado</span><span class="sxs-lookup"><span data-stu-id="85d9f-190">31: verbose</span></span>

## <a name="see-also"></a><span data-ttu-id="85d9f-191">Vea también</span><span class="sxs-lookup"><span data-stu-id="85d9f-191">See also</span></span>

- [<span data-ttu-id="85d9f-192">Utilidad de configuración de WS-AtomicTransaction (wsatConfig.exe)</span><span class="sxs-lookup"><span data-stu-id="85d9f-192">WS-AtomicTransaction Configuration Utility (wsatConfig.exe)</span></span>](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md)
- [<span data-ttu-id="85d9f-193">Complemento MMC de configuración de WS-AtomicTransaction</span><span class="sxs-lookup"><span data-stu-id="85d9f-193">WS-AtomicTransaction Configuration MMC Snap-in</span></span>](../ws-atomictransaction-configuration-mmc-snap-in.md)
